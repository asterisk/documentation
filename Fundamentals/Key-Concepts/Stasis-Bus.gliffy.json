{"contentType":"application/gliffy+json","version":"1.1","metadata":{"title":"untitled","revision":0,"exportBorder":false,"libraries":["com.gliffy.libraries.flowchart.flowchart_v1.default","com.gliffy.libraries.basic.basic_v1.default","com.gliffy.libraries.swimlanes.swimlanes_v1.default","com.gliffy.libraries.images"]},"embeddedResources":{"index":0,"resources":[]},"stage":{"objects":[{"x":5,"y":163,"rotation":0,"id":68,"uid":"com.gliffy.shape.flowchart.flowchart_v1.default.process","width":359,"height":250,"lockAspectRatio":false,"lockShape":false,"order":0,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#cccccc","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[],"linkMap":[]},{"x":72.39999999999998,"y":29.5,"rotation":0,"id":64,"uid":"com.gliffy.shape.flowchart.flowchart_v1.default.right_arrow","width":260,"height":50,"lockAspectRatio":false,"lockShape":false,"order":2,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.right_arrow.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#6d9eeb","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":2.694300518134715,"y":0,"rotation":0,"id":66,"uid":null,"width":254.61139896373058,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none; line-height: 14px;\">Hangup PJSIP/Alice-00000000<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":9.599999999999994,"y":173.5,"rotation":0,"id":61,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":352.4,"height":224,"lockAspectRatio":false,"lockShape":false,"order":1,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align: left;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">1. Alice hangs up, causing her channel - PJSIP/Alice-00000000<br>&nbsp;&nbsp;&nbsp; to be hung up.<br></span></span></p><p style=\"text-align: left;\"><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none; line-height: 14px;\">&nbsp;</span></span></p><p style=\"text-align: left;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">2. The channel core creates a Stasis message for Alice's<br>&nbsp;&nbsp;&nbsp; channel being hung up, and publishes it to the Stasis<br>&nbsp;&nbsp;&nbsp; Message Bus.</span></span></p><p style=\"text-align: left;\"><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none; line-height: 14px;\">&nbsp;</span></span></p><p style=\"text-align: left;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">3. The Stasis Message Bus delivers the message to consumers<br>&nbsp;&nbsp;&nbsp; that subscribed for channel state. In this case, AMI and the<br>&nbsp;&nbsp;&nbsp; CDR engine.</span></span></p><p style=\"text-align: left;\"><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none; line-height: 14px;\">&nbsp;</span></span></p><p style=\"text-align: left;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">4. AMI converts the received Stasis message into an AMI<br>&nbsp;&nbsp;&nbsp; Hangup Event, and sends that to its connected clients.<br></span></span></p><p style=\"text-align: left;\"><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none; line-height: 14px;\">&nbsp;</span></span></p><p style=\"text-align: left;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">5. The CDR engine updates its records that Alice has hung up,<br>&nbsp;&nbsp;&nbsp; and dispatches a CDR to a CSV record.</span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":19.599999999999994,"y":12,"rotation":0,"id":29,"uid":"com.gliffy.shape.basic.basic_v1.default.circle","width":80,"height":80,"lockAspectRatio":true,"lockShape":false,"order":15,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.ellipse.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#6d9eeb","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":1.5999999999999999,"y":0,"rotation":0,"id":30,"uid":null,"width":76.8,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none; line-height: 14px;\">Alice<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":368,"y":167.5,"rotation":0,"id":58,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":14,"lockAspectRatio":false,"lockShape":false,"order":29,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">Stasis Message<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":575.2,"y":167.5,"rotation":0,"id":57,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":14,"lockAspectRatio":false,"lockShape":false,"order":28,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">Stasis Message<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":577.2,"y":285.5,"rotation":0,"id":56,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":14,"lockAspectRatio":false,"lockShape":false,"order":27,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">Dispatch CDR<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":353,"y":285.5,"rotation":0,"id":55,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":14,"lockAspectRatio":false,"lockShape":false,"order":26,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">Hangup AMI Event<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":220,"y":92.5,"rotation":0,"id":54,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":28,"lockAspectRatio":false,"lockShape":false,"order":25,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">Stasis Message: Channel Hungup<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":579.2,"y":106.5,"rotation":0,"id":53,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":14,"lockAspectRatio":false,"lockShape":false,"order":24,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial;\"><span style=\"line-height: 14px;\">Stasis Message Bus<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":503,"y":271,"rotation":0,"id":48,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":23,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#000000","fillColor":"none","dashStyle":"1.0,1.0","startArrow":0,"endArrow":2,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":10,"controlPath":[[-5,4],[-5,17.333374999934904],[-5,30.666749999869808],[-5,44.00012499980471]],"lockSegments":{}}},"children":null,"constraints":{"constraints":[],"startConstraint":{"type":"StartPositionConstraint","StartPositionConstraint":{"nodeId":25,"px":0.5,"py":1}},"endConstraint":{"type":"EndPositionConstraint","EndPositionConstraint":{"nodeId":6,"px":0.5,"py":0}}},"linkMap":[]},{"x":604,"y":269,"rotation":0,"id":47,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":22,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":2,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":10,"controlPath":[[1,6],[1,23.515302566613002],[1,41.030605133226004],[1,58.545907699839006]],"lockSegments":{}}},"children":null,"constraints":{"constraints":[],"startConstraint":{"type":"StartPositionConstraint","StartPositionConstraint":{"nodeId":27,"px":0.5,"py":1}},"endConstraint":{"type":"EndPositionConstraint","EndPositionConstraint":{"nodeId":31,"px":0.5,"py":0}}},"linkMap":[]},{"x":602,"y":147,"rotation":0,"id":41,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":21,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":2,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":10,"controlPath":[[-0.04660940672624747,-1.5],[-0.04660940672624747,16.695029323896705],[-0.04660940672624747,34.89005864779344],[-0.04660940672624747,53.08508797169014]],"lockSegments":{}}},"children":null,"constraints":{"constraints":[],"startConstraint":{"type":"StartPositionConstraint","StartPositionConstraint":{"nodeId":0,"px":0.7071067811865476,"py":1}},"endConstraint":{"type":"EndPositionConstraint","EndPositionConstraint":{"nodeId":27,"px":0.5,"py":0}}},"linkMap":[]},{"x":495,"y":145,"rotation":0,"id":40,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":20,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":2,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":10,"controlPath":[[3.3999999999999773,0.5],[3.3999999999999773,18.66715595671363],[3.3999999999999773,36.83431191342726],[3.3999999999999773,55.001467870140885]],"lockSegments":{}}},"children":null,"constraints":{"constraints":[],"startConstraint":{"type":"StartPositionConstraint","StartPositionConstraint":{"nodeId":0,"px":0.5,"py":1}},"endConstraint":{"type":"EndPositionConstraint","EndPositionConstraint":{"nodeId":25,"px":0.5,"py":0}}},"linkMap":[]},{"x":396,"y":90,"rotation":0,"id":39,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":19,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":2,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":10,"controlPath":[[-3,-3],[-3,9.848086611982396],[-3,22.696173223964777],[-3,35.54425983594717]],"lockSegments":{}}},"children":null,"constraints":{"constraints":[],"startConstraint":{"type":"StartPositionConstraint","StartPositionConstraint":{"nodeId":10,"px":0.5,"py":1}},"endConstraint":{"type":"EndPositionConstraint","EndPositionConstraint":{"nodeId":0,"px":0.2928932188134524,"py":0}}},"linkMap":[]},{"x":562.6039999999998,"y":327.5,"rotation":0,"id":31,"uid":"com.gliffy.shape.flowchart.flowchart_v1.default.paper_tape","width":80.39999999999998,"height":50,"lockAspectRatio":false,"lockShape":false,"order":17,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.paper_tape.flowchart_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#c27ba0","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":1.6079999999999994,"y":0,"rotation":0,"id":45,"uid":null,"width":77.18399999999997,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none; line-height: 14px;\">CDR CSV<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":560,"y":200,"rotation":0,"id":27,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":90,"height":75,"lockAspectRatio":false,"lockShape":false,"order":13,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#c27ba0","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":1.7999999999999994,"y":0,"rotation":0,"id":28,"uid":null,"width":86.39999999999998,"height":16,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"line-height: 15.5px;\">CDR Engine</span><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none;\"><br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":453,"y":200,"rotation":0,"id":25,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":90,"height":75,"lockAspectRatio":false,"lockShape":false,"order":11,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#f6b26b","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":1.7999999999999994,"y":0,"rotation":0,"id":26,"uid":null,"width":86.39999999999999,"height":16,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"line-height: 15.5px;\">AMI</span><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none;\"><br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":503,"y":125.5,"rotation":180,"id":18,"uid":"com.gliffy.shape.basic.basic_v1.default.left_arrow","width":100,"height":20,"lockAspectRatio":false,"lockShape":false,"order":10,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.left_arrow.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#e6b8af","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[],"linkMap":[]},{"x":393,"y":125.5,"rotation":180,"id":16,"uid":"com.gliffy.shape.basic.basic_v1.default.left_arrow","width":100,"height":20,"lockAspectRatio":false,"lockShape":false,"order":9,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.left_arrow.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#e6b8af","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[],"linkMap":[]},{"x":333,"y":12,"rotation":0,"id":10,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":120,"height":75,"lockAspectRatio":false,"lockShape":false,"order":7,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#ffd966","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":2.3999999999999995,"y":0,"rotation":0,"id":24,"uid":null,"width":115.19999999999999,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none; line-height: 14px;\">Channel Core<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":453,"y":315,"rotation":0,"id":6,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":90.19999999999999,"height":75,"lockAspectRatio":false,"lockShape":false,"order":5,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#f6b26b","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":2,"y":0,"rotation":0,"id":44,"uid":null,"width":86.19999999999999,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; text-decoration: none;\"><span style=\"text-decoration: none; line-height: 14px;\">AMI Client<br></span></span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":248.39999999999998,"y":125.5,"rotation":0,"id":0,"uid":"com.gliffy.shape.basic.basic_v1.default.rectangle","width":500,"height":20,"lockAspectRatio":false,"lockShape":false,"order":4,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#333333","fillColor":"#cc4125","gradient":true,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[],"linkMap":[]}],"background":"#FFFFFF","width":749,"height":413,"maxWidth":5000,"maxHeight":5000,"nodeIndex":70,"autoFit":true,"exportBorder":false,"gridOn":true,"snapToGrid":true,"drawingGuidesOn":true,"pageBreaksOn":false,"printGridOn":false,"printPaper":"LETTER","printShrinkToFit":false,"printPortrait":true,"shapeStyles":{"com.gliffy.shape.basic.basic_v1.default":{"fill":"#e6b8af","stroke":"#333333","strokeWidth":2,"gradient":true},"com.gliffy.shape.flowchart.flowchart_v1.default":{"fill":"#cccccc","stroke":"#333333","strokeWidth":2,"gradient":true}},"lineStyles":{"global":{"dashStyle":"1.0,1.0","endArrow":2}},"textStyles":{},"themeData":null}}