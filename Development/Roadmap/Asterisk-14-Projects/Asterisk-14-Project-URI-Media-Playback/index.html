<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.asterisk.org/Development/Roadmap/Asterisk-14-Projects/Asterisk-14-Project-URI-Media-Playback/ rel=canonical><link href=../Asterisk-14-Project-Media-Playlists/ rel=prev><link href=../Asterisk-Beacon-Module/ rel=next><link rel=icon href=../../../../favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.19"><title>Asterisk 14 Project - URI Media Playback - Asterisk Documentation</title><link rel=stylesheet href=../../../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../material-override.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2ZKMCW9DZ9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2ZKMCW9DZ9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2ZKMCW9DZ9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#project-overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title="Asterisk Documentation" class="md-header__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../../favicon.ico alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Asterisk Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Asterisk 14 Project - URI Media Playback </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title="Asterisk Documentation" class="md-nav__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../../favicon.ico alt=logo> </a> Asterisk Documentation </label> <div class=md-nav__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../About-the-Project/ class=md-nav__link> <span class=md-ellipsis> About the Project </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk-Community/ class=md-nav__link> <span class=md-ellipsis> Asterisk Community </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Fundamentals/ class=md-nav__link> <span class=md-ellipsis> Fundamentals </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Getting-Started/Beginning-Asterisk/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Configuration/Core-Configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Deployment/ class=md-nav__link> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Operation/ class=md-nav__link> <span class=md-ellipsis> Operation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <div class="md-nav__link md-nav__container"> <a href=../../../ class="md-nav__link "> <span class=md-ellipsis> Development </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Policies-and-Procedures/ class=md-nav__link> <span class=md-ellipsis> Policies and Procedures </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Debugging/ class=md-nav__link> <span class=md-ellipsis> Debugging </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Reference-Information/ class=md-nav__link> <span class=md-ellipsis> Reference Information </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_5 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Roadmap </span> </a> <label class="md-nav__link " for=__nav_8_5 id=__nav_8_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_5_label aria-expanded=true> <label class=md-nav__title for=__nav_8_5> <span class="md-nav__icon md-icon"></span> Roadmap </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../AstriCon-2012-Presentations/ class=md-nav__link> <span class=md-ellipsis> AstriCon 2012 Presentations </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2010/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2010 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2011/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2011 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2012/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2012 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2013/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2013 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2014/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2014 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2015/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2015 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2016/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2016 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2017/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2017 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2022/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2022 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2024-December/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2024 December </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2024/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2024 </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2025-April/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2025 April </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon-2025-July/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2025 July </span> </a> </li> <li class=md-nav__item> <a href=../../AstriDevCon/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon </span> </a> </li> <li class=md-nav__item> <a href=../../Astricon-2021-Presentation-attachments/ class=md-nav__link> <span class=md-ellipsis> Astricon 2021 Presentation attachments </span> </a> </li> <li class=md-nav__item> <a href=../../FOSDEM-2011-Open-Source-Telephony-Devroom/ class=md-nav__link> <span class=md-ellipsis> FOSDEM 2011 Open Source Telephony Devroom </span> </a> </li> <li class=md-nav__item> <a href=../../OpenSIPit-2021/ class=md-nav__link> <span class=md-ellipsis> OpenSIPit 2021 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Asterisk-10-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 10 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Asterisk-11-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 11 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Asterisk-12-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 12 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Asterisk-13-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 13 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_5_24 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Asterisk 14 Projects </span> </a> <label class="md-nav__link " for=__nav_8_5_24 id=__nav_8_5_24_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_8_5_24_label aria-expanded=true> <label class=md-nav__title for=__nav_8_5_24> <span class="md-nav__icon md-icon"></span> Asterisk 14 Projects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ARI-Feature-Wish-list/ class=md-nav__link> <span class=md-ellipsis> ARI Feature Wish-list </span> </a> </li> <li class=md-nav__item> <a href=../Asterisk-14-Project-ARI-and-generic-Text-To-Speech/ class=md-nav__link> <span class=md-ellipsis> Asterisk 14 Project - ARI and generic Text To Speech </span> </a> </li> <li class=md-nav__item> <a href=../Asterisk-14-Project-Media-Playlists/ class=md-nav__link> <span class=md-ellipsis> Asterisk 14 Project - Media Playlists </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Asterisk 14 Project - URI Media Playback </span> </a> </li> <li class=md-nav__item> <a href=../Asterisk-Beacon-Module/ class=md-nav__link> <span class=md-ellipsis> Asterisk Beacon Module </span> </a> </li> <li class=md-nav__item> <a href=../Git-Migration/ class=md-nav__link> <span class=md-ellipsis> Git Migration </span> </a> </li> <li class=md-nav__item> <a href=../Module-Loader-Ideas/ class=md-nav__link> <span class=md-ellipsis> Module Loader Ideas </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../Asterisk-DNS-API/ class=md-nav__link> <span class=md-ellipsis> Asterisk DNS API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../RTP-engine-replacement/ class=md-nav__link> <span class=md-ellipsis> RTP engine replacement </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Asterisk-15-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 15 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Asterisk-16-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 16 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Asterisk-18-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 18 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Asterisk-19-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 19 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../AstriDevCon-2018/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2018 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../AstriDevCon-2019/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2019 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../AstriDevCon-2020/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2020 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../AstriDevCon-2021/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2021 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Future-Potential-Project-Thoughts/ class=md-nav__link> <span class=md-ellipsis> Future Potential Project Thoughts </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Asterisk-Bug-Bounties/ class=md-nav__link> <span class=md-ellipsis> Asterisk Bug Bounties </span> </a> </li> <li class=md-nav__item> <a href=../../../Asterisk-C-API-Deprecations/ class=md-nav__link> <span class=md-ellipsis> Asterisk C API Deprecations </span> </a> </li> <li class=md-nav__item> <a href=../../../Asterisk-Module-Deprecations/ class=md-nav__link> <span class=md-ellipsis> Asterisk Module Deprecations </span> </a> </li> <li class=md-nav__item> <a href=../../../Asterisk-Open-Source-Maintainers/ class=md-nav__link> <span class=md-ellipsis> Asterisk Open Source Maintainers </span> </a> </li> <li class=md-nav__item> <a href=../../../Open-Features-and-Improvements/ class=md-nav__link> <span class=md-ellipsis> Open Features and Improvements </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Latest_API/ class=md-nav__link> <span class=md-ellipsis> Latest API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_16_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 16 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_18_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 18 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_19_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 19 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_20_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 20 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_21_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 21 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_22_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 22 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_23_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 23 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Certified-Asterisk_18.9_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 18.9 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Certified-Asterisk_20.7_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 20.7 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Test-Suite-Documentation/ class=md-nav__link> <span class=md-ellipsis> Test Suite Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Historical-Documentation/ class=md-nav__link> <span class=md-ellipsis> Historical Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../../Contributing-to-the-Documentation/ class=md-nav__link> <span class=md-ellipsis> Contributing to the Documentation </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=project-overview>Project Overview<a class=headerlink href=#project-overview title="Permanent link">&para;</a></h1> <p>One of the features that was discussed for the <a href=/Development/Roadmap/Asterisk-13-Projects>Asterisk 13 Projects</a> was the ability to playback media from a URI to a channel or bridge. See <a href=http://lists.digium.com/pipermail/asterisk-app-dev/2014-April/000425.html>http://lists.digium.com/pipermail/asterisk-app-dev/2014-April/000425.html</a> for more information.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The conversation on the mailing list included both playback of a URI, as well as allowing for a unicast stream of media to be injected into a channel/bridge. At this time, that would be considered a separate project from this one.</p> </div> <p>The primary reason to add this feature is scalability. Allowing sounds to be placed on a remote HTTP server allows a cluster of Asterisk servers to access and pull down the sounds as needed. This is much easier for system administration, as the sounds don't have to all be pushed to individual Asterisk machines.</p> <h1 id=requirements-and-specification>Requirements and Specification<a class=headerlink href=#requirements-and-specification title="Permanent link">&para;</a></h1> <h3 id=extensions>Extensions<a class=headerlink href=#extensions title="Permanent link">&para;</a></h3> <p>Normally, Asterisk eschews usage of a file extension and instead picks the best extension available based on the native formats of the channel. In the case of a remote URI, this impractical as the URI represents a unique location to retrieve. The optimal file extension may not be present, and checking for each file extension may be costly.</p> <p>As such, the extension should be provided of the resource to retrieve; however, that may not result in a playable file depending on the channel formats. That is expected behaviour.</p> <h3 id=uri-schemes>URI Schemes<a class=headerlink href=#uri-schemes title="Permanent link">&para;</a></h3> <p>Playback of a remote URI should support both HTTP and HTTPS.</p> <h3 id=caching>Caching<a class=headerlink href=#caching title="Permanent link">&para;</a></h3> <p>When a sound file has been retrieved, it should be cached on the local server. The management of the file should follow standard HTTP caching rules - for more information, see:</p> <p><a href=https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching>https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching</a></p> <p>Generally, the rules should follow as such:</p> <ul> <li> <p>If a <code>Cache-Control</code> header is included, Asterisk will obey whatever rules it specifies. In particular, the following should be checked:</p> <ul> <li>If <code>no-cache</code> is specified, the resulting file is marked as always 'dirty' - that is, we have to always retrieve a new resource from the server.</li> <li>If <code>no-store</code> is specified, Asterisk must attempt to purge the information before Asterisk shutdown and will always retrieve the resource from the server.</li> </ul> <hr> <p><strong>Note:</strong> We can't play back the file if we don't store it temporarily on disk. With file streams, we may not get notified when the playback completes, so it may be difficult to purge it out of the cache until Asterisk shuts down. If Asterisk does shut down however, we have an opportunity to flush it out of any semi-permanent storage we may have set up.</p> <hr> <ul> <li><code>s-maxage</code> or <code>max-age</code>: mark the file as 'dirty' after so many seconds.</li> <li>If the cached resource is 'dirty', look at the <code>E-Tag</code> header on the remote resource and compare it to the local <code>E-Tag</code>. If the two are different, retrieve the resource and update the entry in the cache. If the cached resource was retrieved with <code>no-store</code>, then we always retrieve the full resource.</li> </ul> </li> </ul> <p>CLI commands and an ARI resource should be provided to view the local cached files, the last time they were updated, and their originating URIs. Similar mechanisms should be provided to flush the entire cache.</p> <h3 id=video>Video<a class=headerlink href=#video title="Permanent link">&para;</a></h3> <p>Video is particularly difficult, as it typically requires multiple files (one video, one audio) to be useful. Container formats are beyond the scope of this project. To support video, remote playback of URIs should support a parallel form of extraction using the pipe <code>|</code> character:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>same =&gt; n,Playback(http://myserver.com/monkeys.h264|http://myserver.com/monkeys.wav)
</span></code></pre></div> <p>The behaviour of the files retrieved in such a fashion are as follows:</p> <ul> <li>Playback does not begin until all files are retrieved.</li> <li>Files are treated individually in the cache.</li> <li>While files with different names can be played back, the first file in the parallel list will be the actual "core sound file" played back. That is, assuming <code>monkeys.h264</code> and <code>monkeys.wav</code> already existed on the server, the <code>Playback</code> operation would operate on sound file <code>monkeys</code>, which would play both the audio and video files.</li> </ul> <h3 id=persistence>Persistence<a class=headerlink href=#persistence title="Permanent link">&para;</a></h3> <p>The cached entries and their metadata should be stored in the <code>AstDB</code>. When Asterisk starts, the entries in the <code>AstDB</code> should be verified to still be accurate (that is, that the local files still exist), and if so, the buckets for them re-created.</p> <h3 id=playback-of-a-uri>Playback of a URI<a class=headerlink href=#playback-of-a-uri title="Permanent link">&para;</a></h3> <p>Playback of a URI can be done via any of the supported playback operations, through any API. This functionality should be a part of the Asterisk core, and available through any of the media playback operations.</p> <h5 id=dialplan>Dialplan<a class=headerlink href=#dialplan title="Permanent link">&para;</a></h5> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>same =&gt; n,Playback(http://myserver.com/monkeys.wav)
</span></code></pre></div> <p>Note that this can be combined with multiple URIs or sounds to form a playlist:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>same =&gt; n,Playback(http://myserver.com/monkeys.wav&amp;http://myserver.com/weasels.wav)
</span></code></pre></div> <p>Since an <code>&amp;</code> is valid for a URI but is also used as a separator in dialplan, ampersands in a resource cannot be supported. If an ampersand is used in a URI (say, as part of a query), then the entire URI must be URI encoded.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>URIs in a resource can't be supported, as performing a URI decode on the URI cannot tell the difference between an <code>&amp;</code> in a resource and an <code>&amp;</code> in a query. That is:</p> <p><code>http://myserver.com/media?sound=monkeys%26weasels&amp;format=wav =&gt; http%3A%2F%2Fmyserver.com%2Fmedia%3Fsound%3dmonkeys%26weasels%26format%3Dwav</code></p> <p>The latter cannot be decoded correctly as the <code>&amp;</code> that forms the query parameter cannot now be distinguished from the already URI encoded <code>&amp;</code> in the resource.</p> </div> <h5 id=agi>AGI<a class=headerlink href=#agi title="Permanent link">&para;</a></h5> <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>CONTROL STREAM FILE http://myserver.com/monkeys.wav &quot;&quot; 3000
</span></code></pre></div> <h5 id=ari>ARI<a class=headerlink href=#ari title="Permanent link">&para;</a></h5> <p>Playback can be done on either a channel or a bridge. Since the resource being requested is a URI, it should be presented in the body of the request encoded using <code>text/uri-list</code> (see <a href=https://www.ietf.org/rfc/rfc2483.txt>RFC 2483</a>). Note that we still need to provide a media query parameter that specifies the resource type to play - the actual 'entity' being played back is simply specified in the body of the request.</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>http://localhost:8088/ari/channels/12345/play/p1?media=uri:list
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>Content-Type: text/uri-list
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>http://myserver.com/monkeys.wav
</span></code></pre></div> <p>This format works nicely with simple playlists, as it can specify multiple files to retrieve. Note that these files should be played back sequentially as a playlist (which is not yet supported, but will need to be by the time we get here!)</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>http://localhost:8088/ari/channels/12345/play/p2?media=uri:list
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>Content-Type: text/uri-list
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a># Audio File One (I&#39;m a comment and should be ignored)
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>http://myserver.com/monkeys.wav
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a># Comment comment comment
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>http://myserver.com/awesome-sound.wave
</span></code></pre></div> <p>Note that when the <code>Content-Type</code> is <code>text/uri-list</code>, the resource specified by the <code>uri</code> media scheme is simply tossed away, as we can only have a single list of URIs. Note that this approach is somewhat limiting in that supporting multiples</p> <p>Another option is to provide the URIs in JSON. This would allow parallel playback of files for video support. Note that the JSON must follow the following schema:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>http://localhost:8088/ari/channels/12345/play/p3
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>{
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a> &quot;media&quot;: &quot;playlist&quot;,
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a> &quot;playlist&quot;: [
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a> { &quot;media_group&quot;: [
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a> {
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a> &quot;scheme&quot;: &quot;uri&quot;,
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a> &quot;resource&quot;: &quot;http://myserver.com/monkeys.wav&quot;
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a> },
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a> {
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a> &quot;scheme&quot;: &quot;uri&quot;,
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a> &quot;resource&quot;: &quot;http://myserver.com/monkeys.h264&quot;
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a> }
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a> ]
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a> }
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a> { &quot;media_group&quot;: [
</span><span id=__span-6-18><a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a> { &quot;scheme&quot;: &quot;uri&quot;,
</span><span id=__span-6-19><a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a> &quot;resource&quot;: &quot;http://myserver.com/awesome-sound.wav&quot;,
</span><span id=__span-6-20><a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a>  }
</span><span id=__span-6-21><a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a> ]
</span><span id=__span-6-22><a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a> }
</span><span id=__span-6-23><a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a> ]
</span><span id=__span-6-24><a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a>}
</span></code></pre></div> <p>There's some obvious differences here:</p> <ol type=1> <li>The <code>schema</code> type <strong>must</strong> be <code>playlist</code>. We can't use a <code>uri</code> schema type, as doing so would prevent combining <code>URI</code> resources with other media resource types for playlists.</li> <li>The playlist must be strongly typed. Otherwise, swagger code generation turns into a nightmare. As such, that means a new strongly named body parameter must be used.</li> </ol> <h1 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">&para;</a></h1> <p>No configuration should be needed.</p> <h1 id=design>Design<a class=headerlink href=#design title="Permanent link">&para;</a></h1> <h2 id=core-media_cache>Core - media_cache<a class=headerlink href=#core-media_cache title="Permanent link">&para;</a></h2> <p>This new file in the Asterisk core will provide the following:</p> <ul> <li>A universal API that the core and rest of Asterisk can do to query for something in the media cache.</li> <li>Caching of the bucket information in the <code>AstDB</code></li> <li>Informing the bucket implementation that a new bucket has been created during startup (or otherwise creating the buckets itself)</li> <li>CLI commands</li> </ul> <p>Implementations of a cache should implement the <code>bucket</code> API for a particular scheme.</p> <h3 id=api>API<a class=headerlink href=#api title="Permanent link">&para;</a></h3> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>cpp/*
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a> * \brief Return whether or not a URI is currently stored in the cache
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a> *
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a> * \param uri The URI to the resource to query
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a> *
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a> * \retval 0 The item is not in the cache
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a> * \retval 1 The item is in the cache
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a> */
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>int ast_media_cache_exists(const char *uri);
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>/*
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a> * \brief Retrieve media from a URI or in the cache
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a> *
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a> * \param preferred_file_name If not yet retrieved from the remote server, use the preferred file name
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a> * for the media file. Note that this does not include the extension of the
</span><span id=__span-7-16><a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a> * file, if any.
</span><span id=__span-7-17><a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a> * \param file_path Buffer to hold the location of the media on the local file system, minus the extension
</span><span id=__span-7-18><a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a> * \param len Length of \c file_path
</span><span id=__span-7-19><a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a> *
</span><span id=__span-7-20><a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a> * \retval 0 on success
</span><span id=__span-7-21><a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a> * \retval -1 on error
</span><span id=__span-7-22><a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a> */
</span><span id=__span-7-23><a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a>int ast_media_cache_retrieve(const char *uri, const char *preferred_file_name, char *file_path, size_t len);
</span><span id=__span-7-24><a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a>
</span><span id=__span-7-25><a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a>/*!
</span><span id=__span-7-26><a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a> * \brief Update an item in the cache
</span><span id=__span-7-27><a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a> *
</span><span id=__span-7-28><a id=__codelineno-7-28 name=__codelineno-7-28 href=#__codelineno-7-28></a> * \param uri The item to update
</span><span id=__span-7-29><a id=__codelineno-7-29 name=__codelineno-7-29 href=#__codelineno-7-29></a> * \param file_path The location to the local file to associate with \c uri
</span><span id=__span-7-30><a id=__codelineno-7-30 name=__codelineno-7-30 href=#__codelineno-7-30></a> * \param metadata A list of key/value pairs to store with the URI
</span><span id=__span-7-31><a id=__codelineno-7-31 name=__codelineno-7-31 href=#__codelineno-7-31></a> *
</span><span id=__span-7-32><a id=__codelineno-7-32 name=__codelineno-7-32 href=#__codelineno-7-32></a> * \retval 0 success
</span><span id=__span-7-33><a id=__codelineno-7-33 name=__codelineno-7-33 href=#__codelineno-7-33></a> * \retval -1 error
</span><span id=__span-7-34><a id=__codelineno-7-34 name=__codelineno-7-34 href=#__codelineno-7-34></a> */
</span><span id=__span-7-35><a id=__codelineno-7-35 name=__codelineno-7-35 href=#__codelineno-7-35></a>int ast_media_cache_create_or_update(const char *uri, const char *file_path, struct ast_variable *metadata);
</span><span id=__span-7-36><a id=__codelineno-7-36 name=__codelineno-7-36 href=#__codelineno-7-36></a>
</span><span id=__span-7-37><a id=__codelineno-7-37 name=__codelineno-7-37 href=#__codelineno-7-37></a>/*
</span><span id=__span-7-38><a id=__codelineno-7-38 name=__codelineno-7-38 href=#__codelineno-7-38></a> * \brief Remove an item from the cache
</span><span id=__span-7-39><a id=__codelineno-7-39 name=__codelineno-7-39 href=#__codelineno-7-39></a> *
</span><span id=__span-7-40><a id=__codelineno-7-40 name=__codelineno-7-40 href=#__codelineno-7-40></a> * \param uri The item to remove
</span><span id=__span-7-41><a id=__codelineno-7-41 name=__codelineno-7-41 href=#__codelineno-7-41></a> *
</span><span id=__span-7-42><a id=__codelineno-7-42 name=__codelineno-7-42 href=#__codelineno-7-42></a> * \retval 0 success
</span><span id=__span-7-43><a id=__codelineno-7-43 name=__codelineno-7-43 href=#__codelineno-7-43></a> * \retval -1 error
</span><span id=__span-7-44><a id=__codelineno-7-44 name=__codelineno-7-44 href=#__codelineno-7-44></a> */
</span><span id=__span-7-45><a id=__codelineno-7-45 name=__codelineno-7-45 href=#__codelineno-7-45></a>int ast_media_cache_delete(const char *uri);
</span></code></pre></div> <h3 id=cli-commands>CLI Commands<a class=headerlink href=#cli-commands title="Permanent link">&para;</a></h3> <h4 id=core-show-media-cache>core show media-cache<a class=headerlink href=#core-show-media-cache title="Permanent link">&para;</a></h4> <p>Just for fun! It'd be good to see what is in the cache, the timestamps, etc.</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>*CLI&gt;core show media-cache
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>URI Last update Local file
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>http://myserver.com/awesome.wav 2014-10-30 00:52:25 UTC /var/spool/asterisk/media_cache/ahsd98d1.wav
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>http://myserver.com/monkeys.wav 2014-09-14 10:10:00 UTC /var/spool/asterisk/media_cache/77asdf7a.wav
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>http://myserver.com/monkeys.h264 2014-09-14 10:10:00 UTC /var/spool/asterisk/media_cache/77asdf7a.h264 
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>3 items found.
</span></code></pre></div> <p>Note that the last two files would have been created using a preferred file prefix. This allow the <code>file</code> and <code>app</code> core to "find" both the audio and the video file when opening up the stream returned by the <code>file_path</code> by the <code>media_cache</code>.</p> <h4 id=core-clear-media-cache>core clear media-cache<a class=headerlink href=#core-clear-media-cache title="Permanent link">&para;</a></h4> <p>This is really a handy way for a system administrator to force files to be pulled down.</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>*CLI&gt;core clear media-cache
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>3 items purged.
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>*CLI&gt;core show media-cache
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>URI Last update Local file
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>0 items found.
</span></code></pre></div> <h2 id=res_http_media_cache>res_http_media_cache<a class=headerlink href=#res_http_media_cache title="Permanent link">&para;</a></h2> <h3 id=file-retrieval>File Retrieval<a class=headerlink href=#file-retrieval title="Permanent link">&para;</a></h3> <p>A module should be implemented that does the actual work of using <code>libcurl</code> to retrieve a media file from the system subject to caching constraints, if they exist. It should:</p> <ul> <li>Implement the HTTP caching, noted previously</li> <li>cURL files down to a local file, create a bucket, and store the bucket along with the appropriate metadata</li> </ul> <h2 id=core-usage-of-ast_openstream>Core - Usage of ast_openstream<a class=headerlink href=#core-usage-of-ast_openstream title="Permanent link">&para;</a></h2> <p>Prior to call <code>ast_openstream</code>, users who want to support URI playback should first:</p> <ul> <li>Determine if the provided "file" is actually a URI. A simple 'strncmp' is sufficient for this.</li> <li>If so, ask the cache for the actual file. Use that for subsequent calls to <code>ast_openstream</code> and <code>ast_openvstream</code>.</li> <li>If not, move on as normal.</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>There are other callers of <code>ast_openstream</code>, but it's probably not worth updating <code>ExternalIVR</code> (sorry )</p> </div> <h3 id=core-filecast_streamfile>Core - file.c::ast_streamfile<a class=headerlink href=#core-filecast_streamfile title="Permanent link">&para;</a></h3> <p>This covers most functionality, as most dialplan applications (and other things) end up calling <code>ast_streamfile</code>.</p> <h3 id=agi-res_agichandle_streamfile-handle_getoption>AGI - res_agi.c::handle_streamfile | handle_getoption<a class=headerlink href=#agi-res_agichandle_streamfile-handle_getoption title="Permanent link">&para;</a></h3> <p>AGI implementations of basic sound playback, which emulate their dialplan counterparts. These will need to be updated in the same way as <code>ast_streamfile</code>.</p> <h2 id=core-http-server>Core - HTTP server<a class=headerlink href=#core-http-server title="Permanent link">&para;</a></h2> <p>Support for a new Content-Type, <code>text/uri-list</code>, needs to be added to the HTTP server. Since we typically parse the body as JSON using <code>ast_http_get_json</code>, this should be a new public function <code>ast_http_get_uri_list</code> that pulls a body as a <code>text/uri-list</code>. Since we now have core support for URIs, a bit of basic support for a list of URIs should be added to <code>uri.h</code> and used by the HTTP server.</p> <h3 id=httph>http.h<a class=headerlink href=#httph title="Permanent link">&para;</a></h3> <div class="language-text highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>/*!
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a> * \brief Get the text/uri-list body of a request
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a> *
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a> * \param ser TCP/TLS session object
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a> * \param headers List of HTTP headers
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a> *
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a> * \retval NULL on error or a body not encoded as text/uri-list
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a> * \retval A list of URIs. This an ao2 object that must be disposed of by the caller of the function.
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a> */
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>struct ast_uri_list *ast_http_get_uri_list(struct ast_tcptls_session_instance *ser, struct ast_variable *headers);
</span></code></pre></div> <h3 id=urih>uri.h<a class=headerlink href=#urih title="Permanent link">&para;</a></h3> <div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>/*!
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a> * \brief Get the string representation of a URI
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a> *
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a> * \param The URI
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a> *
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a> * \retval The string representation of the URI.
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a> */
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>const char *ast_uri_to_string(struct ast_uri *uri);
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>struct ast_uri_list;
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>struct ast_uri_list_iterator;
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>/*!
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a> * \brief Create a URI list
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a> *
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a> * \retval A new \c ast_uri_list on success. This is an ao2 object.
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a> * \retval NULL on error
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a> */
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a>struct ast_uri_list *ast_uri_list_create(void);
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>
</span><span id=__span-11-21><a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a>/*!
</span><span id=__span-11-22><a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a> * \brief Append a \c ast_uri to a \c ast_uri_list
</span><span id=__span-11-23><a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a> *
</span><span id=__span-11-24><a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a> * \param uri The \c ast_uri to append
</span><span id=__span-11-25><a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a> */
</span><span id=__span-11-26><a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>void ast_uri_list_append(struct ast_uri *uri);
</span><span id=__span-11-27><a id=__codelineno-11-27 name=__codelineno-11-27 href=#__codelineno-11-27></a>
</span><span id=__span-11-28><a id=__codelineno-11-28 name=__codelineno-11-28 href=#__codelineno-11-28></a>/*!
</span><span id=__span-11-29><a id=__codelineno-11-29 name=__codelineno-11-29 href=#__codelineno-11-29></a> * \brief Create an iterator for a \c ast_uri_list
</span><span id=__span-11-30><a id=__codelineno-11-30 name=__codelineno-11-30 href=#__codelineno-11-30></a> *
</span><span id=__span-11-31><a id=__codelineno-11-31 name=__codelineno-11-31 href=#__codelineno-11-31></a> * \param uri_list The \c ast_uri_list to iterate over
</span><span id=__span-11-32><a id=__codelineno-11-32 name=__codelineno-11-32 href=#__codelineno-11-32></a> *
</span><span id=__span-11-33><a id=__codelineno-11-33 name=__codelineno-11-33 href=#__codelineno-11-33></a> * \retval A \c ast_uri_list_iterator on success
</span><span id=__span-11-34><a id=__codelineno-11-34 name=__codelineno-11-34 href=#__codelineno-11-34></a> * \retval NULL on error
</span><span id=__span-11-35><a id=__codelineno-11-35 name=__codelineno-11-35 href=#__codelineno-11-35></a> */
</span><span id=__span-11-36><a id=__codelineno-11-36 name=__codelineno-11-36 href=#__codelineno-11-36></a>struct ast_uri_list_iterator *ast_uri_list_iterator_create(struct ast_uri_list *uri_list);
</span><span id=__span-11-37><a id=__codelineno-11-37 name=__codelineno-11-37 href=#__codelineno-11-37></a>
</span><span id=__span-11-38><a id=__codelineno-11-38 name=__codelineno-11-38 href=#__codelineno-11-38></a>/*!
</span><span id=__span-11-39><a id=__codelineno-11-39 name=__codelineno-11-39 href=#__codelineno-11-39></a> * \brief Dispose of a \c ast_uri_list_iterator
</span><span id=__span-11-40><a id=__codelineno-11-40 name=__codelineno-11-40 href=#__codelineno-11-40></a> *
</span><span id=__span-11-41><a id=__codelineno-11-41 name=__codelineno-11-41 href=#__codelineno-11-41></a> * \param iterator The \c ast_uri_list_iterator to destroy
</span><span id=__span-11-42><a id=__codelineno-11-42 name=__codelineno-11-42 href=#__codelineno-11-42></a> */
</span><span id=__span-11-43><a id=__codelineno-11-43 name=__codelineno-11-43 href=#__codelineno-11-43></a>void ast_uri_list_iterator_destroy(struct ast_uri_list_iterator *iterator);
</span><span id=__span-11-44><a id=__codelineno-11-44 name=__codelineno-11-44 href=#__codelineno-11-44></a>
</span><span id=__span-11-45><a id=__codelineno-11-45 name=__codelineno-11-45 href=#__codelineno-11-45></a>/*!
</span><span id=__span-11-46><a id=__codelineno-11-46 name=__codelineno-11-46 href=#__codelineno-11-46></a> * \brief Retrieve the next \c ast_uri in an \c ast_uri_list
</span><span id=__span-11-47><a id=__codelineno-11-47 name=__codelineno-11-47 href=#__codelineno-11-47></a> *
</span><span id=__span-11-48><a id=__codelineno-11-48 name=__codelineno-11-48 href=#__codelineno-11-48></a> * \param iterator The \c ast_uri_list_iterator for the list
</span><span id=__span-11-49><a id=__codelineno-11-49 name=__codelineno-11-49 href=#__codelineno-11-49></a> *
</span><span id=__span-11-50><a id=__codelineno-11-50 name=__codelineno-11-50 href=#__codelineno-11-50></a> * \retval NULL if no more items in the list
</span><span id=__span-11-51><a id=__codelineno-11-51 name=__codelineno-11-51 href=#__codelineno-11-51></a> * \retval The next \c ast_uri otherwise
</span><span id=__span-11-52><a id=__codelineno-11-52 name=__codelineno-11-52 href=#__codelineno-11-52></a> */
</span><span id=__span-11-53><a id=__codelineno-11-53 name=__codelineno-11-53 href=#__codelineno-11-53></a>struct ast_uri *ast_uri_list_iterator_next(struct ast_uri_list_iterator *iterator);
</span></code></pre></div> <h2 id=ari_1>ARI<a class=headerlink href=#ari_1 title="Permanent link">&para;</a></h2> <h3 id=swagger-schema>Swagger Schema<a class=headerlink href=#swagger-schema title="Permanent link">&para;</a></h3> <p>Providing a 'type' for the <code>media</code> parameter is a bit tricky. We have the following situation:</p> <ul> <li>If the <code>media</code> parameter does not specify a resource type of <code>uri</code>, treat it as a string.</li> <li>If the <code>media</code> parameter does specify a resource type of <code>uri</code>, look to the body as a URI list.</li> <li>If the <code>media</code> parameter is in the body, however, it must be of type <code>string</code>. Hence, we cannot specify the URIs directly in the <code>media</code> parameter. Thus, to specify URIs, a body parameter of <code>playlist</code> must be provided and the URIs provided in a <code>Playlist</code> model object.</li> </ul> <div class="language-json highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>playbacks.json</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1> 1</a></span>
<span class=normal><a href=#__codelineno-12-2> 2</a></span>
<span class=normal><a href=#__codelineno-12-3> 3</a></span>
<span class=normal><a href=#__codelineno-12-4> 4</a></span>
<span class=normal><a href=#__codelineno-12-5> 5</a></span>
<span class=normal><a href=#__codelineno-12-6> 6</a></span>
<span class=normal><a href=#__codelineno-12-7> 7</a></span>
<span class=normal><a href=#__codelineno-12-8> 8</a></span>
<span class=normal><a href=#__codelineno-12-9> 9</a></span>
<span class=normal><a href=#__codelineno-12-10>10</a></span>
<span class=normal><a href=#__codelineno-12-11>11</a></span>
<span class=normal><a href=#__codelineno-12-12>12</a></span>
<span class=normal><a href=#__codelineno-12-13>13</a></span>
<span class=normal><a href=#__codelineno-12-14>14</a></span>
<span class=normal><a href=#__codelineno-12-15>15</a></span>
<span class=normal><a href=#__codelineno-12-16>16</a></span>
<span class=normal><a href=#__codelineno-12-17>17</a></span>
<span class=normal><a href=#__codelineno-12-18>18</a></span>
<span class=normal><a href=#__codelineno-12-19>19</a></span>
<span class=normal><a href=#__codelineno-12-20>20</a></span>
<span class=normal><a href=#__codelineno-12-21>21</a></span>
<span class=normal><a href=#__codelineno-12-22>22</a></span>
<span class=normal><a href=#__codelineno-12-23>23</a></span>
<span class=normal><a href=#__codelineno-12-24>24</a></span>
<span class=normal><a href=#__codelineno-12-25>25</a></span>
<span class=normal><a href=#__codelineno-12-26>26</a></span>
<span class=normal><a href=#__codelineno-12-27>27</a></span>
<span class=normal><a href=#__codelineno-12-28>28</a></span>
<span class=normal><a href=#__codelineno-12-29>29</a></span>
<span class=normal><a href=#__codelineno-12-30>30</a></span>
<span class=normal><a href=#__codelineno-12-31>31</a></span>
<span class=normal><a href=#__codelineno-12-32>32</a></span>
<span class=normal><a href=#__codelineno-12-33>33</a></span>
<span class=normal><a href=#__codelineno-12-34>34</a></span>
<span class=normal><a href=#__codelineno-12-35>35</a></span>
<span class=normal><a href=#__codelineno-12-36>36</a></span>
<span class=normal><a href=#__codelineno-12-37>37</a></span>
<span class=normal><a href=#__codelineno-12-38>38</a></span>
<span class=normal><a href=#__codelineno-12-39>39</a></span>
<span class=normal><a href=#__codelineno-12-40>40</a></span>
<span class=normal><a href=#__codelineno-12-41>41</a></span>
<span class=normal><a href=#__codelineno-12-42>42</a></span>
<span class=normal><a href=#__codelineno-12-43>43</a></span>
<span class=normal><a href=#__codelineno-12-44>44</a></span>
<span class=normal><a href=#__codelineno-12-45>45</a></span>
<span class=normal><a href=#__codelineno-12-46>46</a></span>
<span class=normal><a href=#__codelineno-12-47>47</a></span>
<span class=normal><a href=#__codelineno-12-48>48</a></span>
<span class=normal><a href=#__codelineno-12-49>49</a></span>
<span class=normal><a href=#__codelineno-12-50>50</a></span>
<span class=normal><a href=#__codelineno-12-51>51</a></span>
<span class=normal><a href=#__codelineno-12-52>52</a></span>
<span class=normal><a href=#__codelineno-12-53>53</a></span>
<span class=normal><a href=#__codelineno-12-54>54</a></span>
<span class=normal><a href=#__codelineno-12-55>55</a></span>
<span class=normal><a href=#__codelineno-12-56>56</a></span>
<span class=normal><a href=#__codelineno-12-57>57</a></span>
<span class=normal><a href=#__codelineno-12-58>58</a></span>
<span class=normal><a href=#__codelineno-12-59>59</a></span>
<span class=normal><a href=#__codelineno-12-60>60</a></span>
<span class=normal><a href=#__codelineno-12-61>61</a></span>
<span class=normal><a href=#__codelineno-12-62>62</a></span>
<span class=normal><a href=#__codelineno-12-63>63</a></span>
<span class=normal><a href=#__codelineno-12-64>64</a></span>
<span class=normal><a href=#__codelineno-12-65>65</a></span>
<span class=normal><a href=#__codelineno-12-66>66</a></span>
<span class=normal><a href=#__codelineno-12-67>67</a></span>
<span class=normal><a href=#__codelineno-12-68>68</a></span>
<span class=normal><a href=#__codelineno-12-69>69</a></span>
<span class=normal><a href=#__codelineno-12-70>70</a></span>
<span class=normal><a href=#__codelineno-12-71>71</a></span>
<span class=normal><a href=#__codelineno-12-72>72</a></span>
<span class=normal><a href=#__codelineno-12-73>73</a></span>
<span class=normal><a href=#__codelineno-12-74>74</a></span>
<span class=normal><a href=#__codelineno-12-75>75</a></span>
<span class=normal><a href=#__codelineno-12-76>76</a></span>
<span class=normal><a href=#__codelineno-12-77>77</a></span>
<span class=normal><a href=#__codelineno-12-78>78</a></span>
<span class=normal><a href=#__codelineno-12-79>79</a></span>
<span class=normal><a href=#__codelineno-12-80>80</a></span>
<span class=normal><a href=#__codelineno-12-81>81</a></span>
<span class=normal><a href=#__codelineno-12-82>82</a></span>
<span class=normal><a href=#__codelineno-12-83>83</a></span>
<span class=normal><a href=#__codelineno-12-84>84</a></span>
<span class=normal><a href=#__codelineno-12-85>85</a></span>
<span class=normal><a href=#__codelineno-12-86>86</a></span>
<span class=normal><a href=#__codelineno-12-87>87</a></span>
<span class=normal><a href=#__codelineno-12-88>88</a></span>
<span class=normal><a href=#__codelineno-12-89>89</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1></a><span class=err>js</span><span class=w> </span><span class=nt>&quot;models&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2></a><span class=w> </span><span class=nt>&quot;Playback&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3></a><span class=w> </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Playback&quot;</span><span class=p>,</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Object representing the playback of media to a channel&quot;</span><span class=p>,</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5></a><span class=w> </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6></a><span class=w> </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7></a><span class=w> </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;string&quot;</span><span class=p>,</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ID for this playback operation&quot;</span><span class=p>,</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10></a><span class=w> </span><span class=p>},</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11></a><span class=w> </span><span class=nt>&quot;media_uri&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12></a><span class=w> </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;string&quot;</span><span class=p>,</span>
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;URI for the media to play back.&quot;</span><span class=p>,</span>
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15></a><span class=w> </span><span class=p>},</span>
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16></a><span class=w> </span><span class=nt>&quot;playlist&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-17><a id=__codelineno-12-17 name=__codelineno-12-17></a><span class=w> </span><span class=nt>&quot;$ref&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Playlist&quot;</span><span class=p>,</span>
</span><span id=__span-12-18><a id=__codelineno-12-18 name=__codelineno-12-18></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;If media_uri is of schema type playlist, the playlist to play&quot;</span><span class=p>,</span>
</span><span id=__span-12-19><a id=__codelineno-12-19 name=__codelineno-12-19></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-12-20><a id=__codelineno-12-20 name=__codelineno-12-20></a><span class=w> </span><span class=p>},</span>
</span><span id=__span-12-21><a id=__codelineno-12-21 name=__codelineno-12-21></a><span class=w> </span><span class=nt>&quot;target_uri&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-22><a id=__codelineno-12-22 name=__codelineno-12-22></a><span class=w> </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;string&quot;</span><span class=p>,</span>
</span><span id=__span-12-23><a id=__codelineno-12-23 name=__codelineno-12-23></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;URI for the channel or bridge to play the media on&quot;</span><span class=p>,</span>
</span><span id=__span-12-24><a id=__codelineno-12-24 name=__codelineno-12-24></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-12-25><a id=__codelineno-12-25 name=__codelineno-12-25></a><span class=w> </span><span class=p>},</span>
</span><span id=__span-12-26><a id=__codelineno-12-26 name=__codelineno-12-26></a><span class=w> </span><span class=nt>&quot;language&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-27><a id=__codelineno-12-27 name=__codelineno-12-27></a><span class=w> </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;string&quot;</span><span class=p>,</span>
</span><span id=__span-12-28><a id=__codelineno-12-28 name=__codelineno-12-28></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;For media types that support multiple languages, the language requested for playback.&quot;</span>
</span><span id=__span-12-29><a id=__codelineno-12-29 name=__codelineno-12-29></a><span class=w> </span><span class=p>},</span>
</span><span id=__span-12-30><a id=__codelineno-12-30 name=__codelineno-12-30></a><span class=w> </span><span class=nt>&quot;state&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-31><a id=__codelineno-12-31 name=__codelineno-12-31></a><span class=w> </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;string&quot;</span><span class=p>,</span>
</span><span id=__span-12-32><a id=__codelineno-12-32 name=__codelineno-12-32></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Current state of the playback operation.&quot;</span><span class=p>,</span>
</span><span id=__span-12-33><a id=__codelineno-12-33 name=__codelineno-12-33></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-12-34><a id=__codelineno-12-34 name=__codelineno-12-34></a><span class=w> </span><span class=nt>&quot;allowableValues&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-35><a id=__codelineno-12-35 name=__codelineno-12-35></a><span class=w> </span><span class=nt>&quot;valueType&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;LIST&quot;</span><span class=p>,</span>
</span><span id=__span-12-36><a id=__codelineno-12-36 name=__codelineno-12-36></a><span class=w> </span><span class=nt>&quot;values&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-12-37><a id=__codelineno-12-37 name=__codelineno-12-37></a><span class=w> </span><span class=s2>&quot;queued&quot;</span><span class=p>,</span>
</span><span id=__span-12-38><a id=__codelineno-12-38 name=__codelineno-12-38></a><span class=w> </span><span class=s2>&quot;playing&quot;</span><span class=p>,</span>
</span><span id=__span-12-39><a id=__codelineno-12-39 name=__codelineno-12-39></a><span class=w> </span><span class=s2>&quot;complete&quot;</span>
</span><span id=__span-12-40><a id=__codelineno-12-40 name=__codelineno-12-40></a><span class=w> </span><span class=p>]</span>
</span><span id=__span-12-41><a id=__codelineno-12-41 name=__codelineno-12-41></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-42><a id=__codelineno-12-42 name=__codelineno-12-42></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-43><a id=__codelineno-12-43 name=__codelineno-12-43></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-44><a id=__codelineno-12-44 name=__codelineno-12-44></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-45><a id=__codelineno-12-45 name=__codelineno-12-45></a><span class=w> </span><span class=nt>&quot;MediaResource&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-46><a id=__codelineno-12-46 name=__codelineno-12-46></a><span class=w> </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MediaResource&quot;</span><span class=p>,</span>
</span><span id=__span-12-47><a id=__codelineno-12-47 name=__codelineno-12-47></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;A single media resource to operate on&quot;</span><span class=p>,</span>
</span><span id=__span-12-48><a id=__codelineno-12-48 name=__codelineno-12-48></a><span class=w> </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-49><a id=__codelineno-12-49 name=__codelineno-12-49></a><span class=w> </span><span class=nt>&quot;scheme&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-50><a id=__codelineno-12-50 name=__codelineno-12-50></a><span class=w> </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;string&quot;</span><span class=p>,</span>
</span><span id=__span-12-51><a id=__codelineno-12-51 name=__codelineno-12-51></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;The type for this media resource.&quot;</span><span class=p>,</span>
</span><span id=__span-12-52><a id=__codelineno-12-52 name=__codelineno-12-52></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-12-53><a id=__codelineno-12-53 name=__codelineno-12-53></a><span class=w> </span><span class=p>},</span>
</span><span id=__span-12-54><a id=__codelineno-12-54 name=__codelineno-12-54></a><span class=w> </span><span class=nt>&quot;resource&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-55><a id=__codelineno-12-55 name=__codelineno-12-55></a><span class=w> </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;string&quot;</span><span class=p>,</span>
</span><span id=__span-12-56><a id=__codelineno-12-56 name=__codelineno-12-56></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;The actual media resource to manipulate.&quot;</span><span class=p>,</span>
</span><span id=__span-12-57><a id=__codelineno-12-57 name=__codelineno-12-57></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-12-58><a id=__codelineno-12-58 name=__codelineno-12-58></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-59><a id=__codelineno-12-59 name=__codelineno-12-59></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-60><a id=__codelineno-12-60 name=__codelineno-12-60></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-61><a id=__codelineno-12-61 name=__codelineno-12-61></a><span class=w> </span><span class=nt>&quot;MediaGroup&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-62><a id=__codelineno-12-62 name=__codelineno-12-62></a><span class=w> </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MediaGroup&quot;</span><span class=p>,</span>
</span><span id=__span-12-63><a id=__codelineno-12-63 name=__codelineno-12-63></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;One or more MediaResources that are associated together as a logical unit&quot;</span><span class=p>,</span>
</span><span id=__span-12-64><a id=__codelineno-12-64 name=__codelineno-12-64></a><span class=w> </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-65><a id=__codelineno-12-65 name=__codelineno-12-65></a><span class=w> </span><span class=nt>&quot;media_group&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-66><a id=__codelineno-12-66 name=__codelineno-12-66></a><span class=w> </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;array&quot;</span><span class=p>,</span>
</span><span id=__span-12-67><a id=__codelineno-12-67 name=__codelineno-12-67></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Array of MediaResources to treat as a single logical unit&quot;</span><span class=p>,</span>
</span><span id=__span-12-68><a id=__codelineno-12-68 name=__codelineno-12-68></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-12-69><a id=__codelineno-12-69 name=__codelineno-12-69></a><span class=w> </span><span class=nt>&quot;items&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-70><a id=__codelineno-12-70 name=__codelineno-12-70></a><span class=w> </span><span class=nt>&quot;$ref&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MediaResource&quot;</span>
</span><span id=__span-12-71><a id=__codelineno-12-71 name=__codelineno-12-71></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-72><a id=__codelineno-12-72 name=__codelineno-12-72></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-73><a id=__codelineno-12-73 name=__codelineno-12-73></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-74><a id=__codelineno-12-74 name=__codelineno-12-74></a><span class=w> </span><span class=p>}</span><span class=w> </span>
</span><span id=__span-12-75><a id=__codelineno-12-75 name=__codelineno-12-75></a><span class=w> </span><span class=nt>&quot;Playlist&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-76><a id=__codelineno-12-76 name=__codelineno-12-76></a><span class=w> </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Playlist&quot;</span><span class=p>,</span>
</span><span id=__span-12-77><a id=__codelineno-12-77 name=__codelineno-12-77></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;One or more MediaGroups to play sequentially&quot;</span><span class=p>,</span>
</span><span id=__span-12-78><a id=__codelineno-12-78 name=__codelineno-12-78></a><span class=w> </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-79><a id=__codelineno-12-79 name=__codelineno-12-79></a><span class=w> </span><span class=nt>&quot;playlist&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-80><a id=__codelineno-12-80 name=__codelineno-12-80></a><span class=w> </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;array&quot;</span><span class=p>,</span>
</span><span id=__span-12-81><a id=__codelineno-12-81 name=__codelineno-12-81></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Array of MediaGroups to play sequentially&quot;</span><span class=p>,</span>
</span><span id=__span-12-82><a id=__codelineno-12-82 name=__codelineno-12-82></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-12-83><a id=__codelineno-12-83 name=__codelineno-12-83></a><span class=w> </span><span class=nt>&quot;items&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-84><a id=__codelineno-12-84 name=__codelineno-12-84></a><span class=w> </span><span class=nt>&quot;$ref&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MediaGroup&quot;</span>
</span><span id=__span-12-85><a id=__codelineno-12-85 name=__codelineno-12-85></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-86><a id=__codelineno-12-86 name=__codelineno-12-86></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-87><a id=__codelineno-12-87 name=__codelineno-12-87></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-88><a id=__codelineno-12-88 name=__codelineno-12-88></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-12-89><a id=__codelineno-12-89 name=__codelineno-12-89></a><span class=w> </span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Note that the following for <code>channels.json</code> would be repeated for <code>bridges.json</code>:</p> <div class="language-json highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>channels.json</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-13-1> 1</a></span>
<span class=normal><a href=#__codelineno-13-2> 2</a></span>
<span class=normal><a href=#__codelineno-13-3> 3</a></span>
<span class=normal><a href=#__codelineno-13-4> 4</a></span>
<span class=normal><a href=#__codelineno-13-5> 5</a></span>
<span class=normal><a href=#__codelineno-13-6> 6</a></span>
<span class=normal><a href=#__codelineno-13-7> 7</a></span>
<span class=normal><a href=#__codelineno-13-8> 8</a></span>
<span class=normal><a href=#__codelineno-13-9> 9</a></span>
<span class=normal><a href=#__codelineno-13-10>10</a></span>
<span class=normal><a href=#__codelineno-13-11>11</a></span>
<span class=normal><a href=#__codelineno-13-12>12</a></span>
<span class=normal><a href=#__codelineno-13-13>13</a></span>
<span class=normal><a href=#__codelineno-13-14>14</a></span>
<span class=normal><a href=#__codelineno-13-15>15</a></span>
<span class=normal><a href=#__codelineno-13-16>16</a></span>
<span class=normal><a href=#__codelineno-13-17>17</a></span>
<span class=normal><a href=#__codelineno-13-18>18</a></span>
<span class=normal><a href=#__codelineno-13-19>19</a></span>
<span class=normal><a href=#__codelineno-13-20>20</a></span>
<span class=normal><a href=#__codelineno-13-21>21</a></span>
<span class=normal><a href=#__codelineno-13-22>22</a></span>
<span class=normal><a href=#__codelineno-13-23>23</a></span>
<span class=normal><a href=#__codelineno-13-24>24</a></span>
<span class=normal><a href=#__codelineno-13-25>25</a></span>
<span class=normal><a href=#__codelineno-13-26>26</a></span>
<span class=normal><a href=#__codelineno-13-27>27</a></span>
<span class=normal><a href=#__codelineno-13-28>28</a></span>
<span class=normal><a href=#__codelineno-13-29>29</a></span>
<span class=normal><a href=#__codelineno-13-30>30</a></span>
<span class=normal><a href=#__codelineno-13-31>31</a></span>
<span class=normal><a href=#__codelineno-13-32>32</a></span>
<span class=normal><a href=#__codelineno-13-33>33</a></span>
<span class=normal><a href=#__codelineno-13-34>34</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1></a><span class=err>js</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2></a><span class=w> </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/channels/{channelId}/play&quot;</span><span class=p>,</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Play media to a channel&quot;</span><span class=p>,</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4></a><span class=w> </span><span class=nt>&quot;operations&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5></a><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6></a><span class=w> </span><span class=nt>&quot;httpMethod&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;POST&quot;</span><span class=p>,</span>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7></a><span class=w> </span><span class=nt>&quot;summary&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Start playback of media.&quot;</span><span class=p>,</span>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8></a><span class=w> </span><span class=nt>&quot;notes&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;The media URI may be any of a number of URI&#39;s. Currently sound:, recording:, number:, digits:, characters:, uri:, and tone: URI&#39;s are supported. This operation creates a playback resource that can be used to control the playback of media (pause, rewind, fast forward, etc.)&quot;</span><span class=p>,</span>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9></a><span class=w> </span><span class=nt>&quot;nickname&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;play&quot;</span><span class=p>,</span>
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10></a><span class=w> </span><span class=nt>&quot;responseClass&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Playback&quot;</span><span class=p>,</span>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11></a><span class=w> </span><span class=nt>&quot;parameters&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12></a><span class=w> </span><span class=err>...</span>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13></a><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14></a><span class=w> </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;playlist&quot;</span><span class=p>,</span>
</span><span id=__span-13-15><a id=__codelineno-13-15 name=__codelineno-13-15></a><span class=w> </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;A play list to play.&quot;</span><span class=p>,</span>
</span><span id=__span-13-16><a id=__codelineno-13-16 name=__codelineno-13-16></a><span class=w> </span><span class=nt>&quot;paramType&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;body&quot;</span><span class=p>,</span>
</span><span id=__span-13-17><a id=__codelineno-13-17 name=__codelineno-13-17></a><span class=w> </span><span class=nt>&quot;required&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
</span><span id=__span-13-18><a id=__codelineno-13-18 name=__codelineno-13-18></a><span class=w> </span><span class=nt>&quot;allowMultiple&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
</span><span id=__span-13-19><a id=__codelineno-13-19 name=__codelineno-13-19></a><span class=w> </span><span class=nt>&quot;$ref&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Playlist&quot;</span>
</span><span id=__span-13-20><a id=__codelineno-13-20 name=__codelineno-13-20></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-13-21><a id=__codelineno-13-21 name=__codelineno-13-21></a><span class=w> </span><span class=p>],</span>
</span><span id=__span-13-22><a id=__codelineno-13-22 name=__codelineno-13-22></a><span class=w> </span><span class=nt>&quot;errorResponses&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-13-23><a id=__codelineno-13-23 name=__codelineno-13-23></a><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-24><a id=__codelineno-13-24 name=__codelineno-13-24></a><span class=w> </span><span class=nt>&quot;code&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>404</span><span class=p>,</span>
</span><span id=__span-13-25><a id=__codelineno-13-25 name=__codelineno-13-25></a><span class=w> </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Channel not found&quot;</span>
</span><span id=__span-13-26><a id=__codelineno-13-26 name=__codelineno-13-26></a><span class=w> </span><span class=p>},</span>
</span><span id=__span-13-27><a id=__codelineno-13-27 name=__codelineno-13-27></a><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-28><a id=__codelineno-13-28 name=__codelineno-13-28></a><span class=w> </span><span class=nt>&quot;code&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>409</span><span class=p>,</span>
</span><span id=__span-13-29><a id=__codelineno-13-29 name=__codelineno-13-29></a><span class=w> </span><span class=nt>&quot;reason&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Channel not in a Stasis application&quot;</span>
</span><span id=__span-13-30><a id=__codelineno-13-30 name=__codelineno-13-30></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-13-31><a id=__codelineno-13-31 name=__codelineno-13-31></a><span class=w> </span><span class=p>]</span>
</span><span id=__span-13-32><a id=__codelineno-13-32 name=__codelineno-13-32></a><span class=w> </span><span class=p>}</span>
</span><span id=__span-13-33><a id=__codelineno-13-33 name=__codelineno-13-33></a><span class=w> </span><span class=p>]</span>
</span><span id=__span-13-34><a id=__codelineno-13-34 name=__codelineno-13-34></a><span class=w> </span><span class=p>},</span>
</span></code></pre></div></td></tr></table></div> <h3 id=mustache-templates>Mustache Templates<a class=headerlink href=#mustache-templates title="Permanent link">&para;</a></h3> <p>The Mustache templates generated will need to be modified to check for <code>text/uri-list</code> as a possible body type:</p> <ul> <li>The existing <code>body_parsing.mustache</code> should be renamed to note that it parses JSON. The caller of the <code>body_parsing</code> routines should be made to only look at the results if the function returns non-NULL.<ul> <li>If it does return NULL, it should also check for a <code>text/uri-list</code> using the new function in <code>http.h</code>.</li> <li>The body parsers should be updated for a playback operation to return the structured Playback object.</li> </ul> </li> <li>A new <code>text_uri_body_parser</code> should be added that parses a body into a <code>struct ast_uri_list</code>. This should be hard-typed to convert the URI list into a structured Playback object.</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This is limiting, but for now, we don't have any use for a URI list in ARI outside of specifying a list of media resources. If that assumption proves false later, that code should be re-visited.</p> </div> <h1 id=test-plan>Test Plan<a class=headerlink href=#test-plan title="Permanent link">&para;</a></h1> <h2 id=unit-tests>Unit Tests<a class=headerlink href=#unit-tests title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Category</th> <th>Test</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>/main/media_cache/exists</code></td> <td><code>nominal</code></td> <td>Nominal test that verifies a valid item in the cache can be found</td> </tr> <tr> <td><code>/main/media_cache/exists</code></td> <td><code>non_existent</code></td> <td>Test that verifies that an item in the cache that doesn't exist isn't located</td> </tr> <tr> <td><code>/main/media_cache/exists</code></td> <td><code>bad_scheme</code></td> <td>Verify that we reject a URI with an unknown or unsupported scheme</td> </tr> <tr> <td><code>/main/media_cache/exists</code></td> <td><code>bad_params</code></td> <td>Pass in bad parameters, make sure we get back a "huh?"</td> </tr> <tr> <td><code>/main/media_cache/retrieve</code></td> <td><code>nominal</code></td> <td>Retrieve a file from the Asterisk HTTP server (using magic!) and make sure it is in the cache. Retrieve it again and make sure we didn't do an HTTP request twice.</td> </tr> <tr> <td><code>/main/media_cache/retrieve</code></td> <td><code>non_existent</code></td> <td>Ask for a file that doesn't exist. Get an error back.</td> </tr> <tr> <td><code>/main/media_cache/retrieve</code></td> <td><code>bad_scheme</code></td> <td>Ask for something that has a bad URI scheme.</td> </tr> <tr> <td><code>/main/media_cache/retrieve</code></td> <td><code>bad_params</code></td> <td>Ask for something with no URI and no file_path. Make sure we reject it.</td> </tr> <tr> <td><code>/main/media_cache/retrieve</code></td> <td><code>new_file</code></td> <td>Retrieve a media file, cache it. Update the file, ask for the file again; make sure it gets the new copy.</td> </tr> <tr> <td><code>/main/media_cache/retrieve</code></td> <td><code>preferred_file_name</code></td> <td>Ask for a file with a preferred file name; verify that we retrieve the file and set the file name accordingly (with the right extension).</td> </tr> <tr> <td><code>/main/media_cache/delete</code></td> <td><code>nominal</code></td> <td>Put something in the cache. Call delete; verify the cache is purged.</td> </tr> <tr> <td><code>/main/media_cache/empty</code></td> <td><code>nominal</code></td> <td>Call delete on an empty cache; make sure everything is cool.</td> </tr> <tr> <td><code>/main/media_cache/update</code></td> <td><code>create</code></td> <td>Verify that a new item in the cache can be created</td> </tr> <tr> <td><code>/main/media_cache/update</code></td> <td><code>update</code></td> <td>Verify that an existing item in the cache can be updated</td> </tr> <tr> <td><code>/main/uri</code></td> <td><code>to_string</code></td> <td>Test that a constructed URI can be converted back to a string</td> </tr> <tr> <td><code>/main/uri</code></td> <td><code>list_ctor</code></td> <td>Verify that we can make a URI list</td> </tr> <tr> <td><code>/main/uri</code></td> <td><code>list_append_nominal</code></td> <td>Test appending URIs to a list</td> </tr> <tr> <td><code>/main/uri</code></td> <td><code>list_append_off_nominal</code></td> <td>Test appending things that aren't a URI, and make sure we fail appropriately</td> </tr> <tr> <td><code>/main/uri</code></td> <td><code>iterator_ctor</code></td> <td>Test nominal creation of an iterator</td> </tr> <tr> <td><code>/main/uri</code></td> <td><code>iterator_ctor_off_nominal</code></td> <td>Test off-nominal creation of an iterator with a bad list</td> </tr> <tr> <td><code>/main/uri</code></td> <td><code>iterator_iteration</code></td> <td>Test nominal iteration over lists. Include empty lists.</td> </tr> </tbody> </table> <h2 id=asterisk-test-suite>Asterisk Test Suite<a class=headerlink href=#asterisk-test-suite title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Test</th> <th>Level</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>funcs/func_curl/read</code></td> <td>Asterisk Test Suite</td> <td>A regression test that verifies that the current read functionality of <code>CURL</code> is maintained</td> </tr> <tr> <td><code>funcs/func_curl/write</code></td> <td>Asterisk Test Suite</td> <td>Verify that we can cURL a file down and store it</td> </tr> <tr> <td><code>funcs/func_curl/curl_opt/timestamp</code></td> <td>Asterisk Test Suite</td> <td>Verify that we can retrieve the timestamp from a resource</td> </tr> <tr> <td><code>tests/apps/playback/uri</code></td> <td>Asterisk Test Suite</td> <td>Verify that the <code>Playback</code> dialplan application can playback a remote URI</td> </tr> <tr> <td><code>tests/apps/control_playback/uri</code></td> <td>Asterisk Test Suite</td> <td>Verify that the <code>ControlPlayback</code> dialplan application can playback a remote URI</td> </tr> <tr> <td><code>tests/fastagi/stream-file-uri</code></td> <td>Asterisk Test Suite</td> <td>Verify that the AGI Stream File command can play a URI</td> </tr> <tr> <td><code>tests/fastagi/control-stream-file-uri</code></td> <td>Asterisk Test Suite</td> <td>Verify that the AGI Control Stream File command can play a URI</td> </tr> <tr> <td><code>tests/rest_api/channels/playback/playlist</code></td> <td>Asterisk Test Suite</td> <td>Verify that a Playback resource that contains a playlist can be played back to a channel</td> </tr> <tr> <td><code>tests/rest_api/bridges/playback/playlist</code></td> <td>Asterisk Test Suite</td> <td>Verify that a Playback resource that contains a playlist can be played back to a bridge</td> </tr> <tr> <td><code>tests/rest_api/channels/playback/uri</code></td> <td>Asterisk Test Suite</td> <td>Verify that a Playback resource can be created from a URI for a Channel</td> </tr> <tr> <td><code>tests/rest_api/bridges/playback/uri</code></td> <td>Asterisk Test Suite</td> <td>Verify that a Playback resource can be created from a URI for a Bridge</td> </tr> </tbody> </table> <h1 id=project-planning>Project Planning<a class=headerlink href=#project-planning title="Permanent link">&para;</a></h1> <p>The following are rough tasks that need to be done in order to complete this feature. These are meant to be guidelines, and should not necessarily be followed verbatim. Note that many of these are actually independent of each other, and can be worked out simultaneously. If you're interested in helping out with any of these tasks, please speak up on the <code>asterisk-dev</code> mailing list!</p> <p>The various phases are meant to be implemented as separately as possible to ease the process of peer review.</p> <h2 id=phase-one-core-media-cache>Phase One - Core Media Cache<a class=headerlink href=#phase-one-core-media-cache title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Task</th> <th>Description</th> <th>Status</th> </tr> </thead> <tbody> <tr> <td>Implement the basic API</td> <td>Mask callbacks into the <code>bucket</code> API based on the URI scheme being requested. Add handling for manipulating the created bucket's local file if the predefined filename is provided.</td> <td>Done</td> </tr> <tr> <td>Integrate with the AstDB</td> <td>When items are created via a bucket <code>create</code> or <code>retrieve</code>, update entries in the AstDB.When Asterisk is started, re-create buckets based on the entries currently in the AstDB.</td> <td>Done</td> </tr> <tr> <td>Add CLI commands</td> <td>Both for showing elements in the media cache as well as for purging the cache. If the cache is purged, remove entries from the AstDB.</td> <td>Done</td> </tr> </tbody> </table> <h2 id=phase-two-res_http_media_cache>Phase Two - res_http_media_cache<a class=headerlink href=#phase-two-res_http_media_cache title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Task</th> <th>Description</th> <th>Status</th> </tr> </thead> <tbody> <tr> <td>Create <code>http_media_cache</code>. Add bucket wizards for schema types <code>http</code> and <code>https</code>.* Define basic unit tests for creation/deletion</td> <td></td> <td></td> </tr> <tr> <td>* Implement bucket wizard callbacks for basic manipulation</td> <td></td> <td></td> </tr> <tr> <td>Generally, get the basic structure of the the thing defined, implement unit tests, and make sure the unit tests fail. TDD.</td> <td>Done</td> <td></td> </tr> <tr> <td>Implement retrieval. Use the underlying <code>CURL</code> function to retrieve a provided URI and store as a temporary file (or use the predetermined filename).</td> <td>A few observations:* This shouldn't worry about marking the cache entries as dirty yet using the caching rules. This should:</td> <td></td> </tr> <tr> <td>+ Check to see if we have a bucket with the URI. If not, create the bucket.</td> <td></td> <td></td> </tr> <tr> <td>+ <code>cURL</code> the resource down into the provided file path.</td> <td></td> <td></td> </tr> <tr> <td>+ Update the bucket entry with the now locally stored file.</td> <td></td> <td></td> </tr> <tr> <td>+ Return the location of the local file on the file system.</td> <td></td> <td></td> </tr> <tr> <td>Done</td> <td></td> <td></td> </tr> <tr> <td>Implement 'dirtying' of cache entry based on HTTP caching rules.</td> <td>Implement handling of <code>E-Tags</code> as well as the <code>Cache-Control</code> header.</td> <td>Done</td> </tr> </tbody> </table> <h2 id=phase-three-coredialplanagi-implementations>Phase Three - Core/dialplan/AGI implementations<a class=headerlink href=#phase-three-coredialplanagi-implementations title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Task</th> <th>Description</th> <th>Status</th> </tr> </thead> <tbody> <tr> <td>Update the <code>file</code> core to use the <code>http_media_cache</code></td> <td>Update the core <code>file</code> users of <code>ast_openstream</code> to first look for the resource in the <code>http_media_cache</code>. If found, use the returned file.</td> <td>Done</td> </tr> <tr> <td>Update the dialplan users</td> <td>Same as the core, except for dialplan functions.</td> <td>Done</td> </tr> <tr> <td>Add tests for <code>Playback</code> and <code>ControlPlayback</code></td> <td></td> <td>Done</td> </tr> <tr> <td>Update the AGI users</td> <td>Same as the core, except for <code>res_agi</code> functions.</td> <td>Done</td> </tr> <tr> <td>Add tests for <code>stream file</code> and <code>control stream file</code></td> <td></td> <td>Done</td> </tr> </tbody> </table> <h2 id=phase-four-ari-playlists>Phase Four - ARI Playlists<a class=headerlink href=#phase-four-ari-playlists title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This is actually a completely separate and super useful feature. URI playbacks really need it to function so... here it is.</p> <p>Note that this does not envision complete playlist control (such as 'skip to next sound in the playlist'). That could be added either as part of this work or at a future date.</p> </div> <table> <thead> <tr> <th>Task</th> <th>Description</th> <th>Status</th> </tr> </thead> <tbody> <tr> <td>Update the JSON schema with JSON playlists</td> <td>This should require updates to the <code>Playbacks</code> model, as well as the <code>play</code> operations for <code>channels</code> and <code>bridges</code>. The mustache templates may need to be updated to properly extract this complex of a body type.</td> <td>Not Done (see Note below)</td> </tr> <tr> <td>Re-generate stubs; add connecting logic</td> <td>Re-generating the stubs will create a new body handler and a more complex 'playlist' object that can be optionally present. This will be passed to the <code>resource_channels</code> and <code>resource_bridges</code> operations.</td> <td>Not Done (see Note below)</td> </tr> <tr> <td>Add a 'playlist' media resource type</td> <td>* Update <code>resource_channels:ari_channels_handle_play</code> and <code>resource_bridges:ari_handle_play</code> (boiling down to <code>ari_bridges_play_helper</code> ) to understand a body playlist. This should pass it off to <code>stasis_app_control_play_uri</code> or an equivalent function for actual handling.</td> <td></td> </tr> <tr> <td>* Update <code>stasis_app_control_play_uri</code> or add an equivalent function to actually play the list.</td> <td></td> <td></td> </tr> <tr> <td>Not Done (see Note below)</td> <td></td> <td></td> </tr> <tr> <td>Update <code>res_stasis_playback</code></td> <td>The various function calls boil down to <code>play_on_channel</code> in <code>res_stasis_playback</code>. This is passed the actual <code>Playback</code> resource object, which now can contain a <code>Playlist</code>. The function should be updated to parse out the various items in the playlist and pass them to <code>ast_control_streamfile_lang</code>.</td> <td>Not Done (see Note below)</td> </tr> <tr> <td>Add <code>rest_api</code> tests for playlists.</td> <td></td> <td>Not Done (see Note below)</td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Arguably, we don't really need a 'playlist' media resource type. Lists of media are now played back in sequence by simply specifying multiple media URIs in a sequence, e.g., <code>media=``sound:foo.wav,sound:bar.wav</code>, or as a list, e.g., <code>media=sound:foo.wav,media=sound:bar.wav</code>.</p> <p>This works as well for remote URIs, although admittedly the syntax is a bit clunky right now:</p> <p><code>media=sound:http://localhost/foo.wav,media=sound:http://localhost/bar.wav</code></p> </div> <h2 id=phase-five-http-server-updates>Phase Five - HTTP Server Updates<a class=headerlink href=#phase-five-http-server-updates title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Task</th> <th>Description</th> <th>Status</th> </tr> </thead> <tbody> <tr> <td>Update <code>uri.h</code> to support URI lists and URI iterators.</td> <td>Add unit tests!</td> <td>Not Done</td> </tr> <tr> <td>Update <code>http.h</code> to support body types of <code>text/uri-list</code>. Generate a <code>ast_uri_list</code> as a result of said body type.</td> <td></td> <td>Not Done</td> </tr> </tbody> </table> <h2 id=phase-six-ari-texturi-list-supporturi-playbacks>Phase Six - ARI <code>text/uri-list</code> support/URI playbacks<a class=headerlink href=#phase-six-ari-texturi-list-supporturi-playbacks title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Task</th> <th>Description</th> <th>Status</th> </tr> </thead> <tbody> <tr> <td>Update mustache templates to understand a body type of <code>text/uri-list</code>. Re-generate appropriate stubs.</td> <td>Body parsing should be made to handle both JSON as well as the <code>text/uri-list</code> body type. A <code>text/uri-list</code> body parser can be made to explicitly return <code>Playback</code> objects suitable for consumption in the existing playlist mechanisms.</td> <td>Not Done</td> </tr> <tr> <td>Wire generated code to <code>resource_channels</code>, <code>resource_bridges</code>. Update API callbacks as needed.</td> <td>Generally, this should "just work" (or nearly) at this point. We have:* Understanding of URI playbacks in the core</td> <td></td> </tr> <tr> <td>* Understanding of playlists in ARI</td> <td></td> <td></td> </tr> <tr> <td>* The ability to handle URI playbacks (including parallel playbacks) in <code>ast_control_streamfile_lang</code>, which is what is used by <code>res_stasis_playback:play_on_channel</code>.</td> <td></td> <td></td> </tr> </tbody> </table> <p>Most of this should be just gluing the pieces together as needed. | Not Done | | Add URI playback tests to Asterisk Test Suite. | | Not Done |</p> <h2 id=jira-issues>JIRA Issues<a class=headerlink href=#jira-issues title="Permanent link">&para;</a></h2> <p>Digium/Asterisk JIRAee634d14-2067-31b4-9ca3-00e0845ec070ASTERISK-25654</p> <h2 id=contributors>Contributors<a class=headerlink href=#contributors title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Name</th> <th>E-mail Address</th> </tr> </thead> <tbody> <tr> <td>unknown user</td> <td><a href=mailto:mjordan@digium.com>mjordan@digium.com</a></td> </tr> </tbody> </table> <h1 id=reference-information>Reference Information<a class=headerlink href=#reference-information title="Permanent link">&para;</a></h1> <p>http%3A%2F%<a href=http://2Fmyserver.com>2Fmyserver.com</a>%2Fmedia%3Fsound%3Dmonkeys%26format%3Dwav</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Content is licensed under a Creative Commons Attribution-ShareAlike 3.0 United States License. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.asterisk.org/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg version=1.1 id=svg2 width=48 height=48 viewbox="0 0 48 48" sodipodi:docname=favicon.svg inkscape:version="1.2.2 (b0a8486541, 2022-12-01)" xmlns:inkscape=http://www.inkscape.org/namespaces/inkscape xmlns:sodipodi=http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd xmlns:xlink=http://www.w3.org/1999/xlink xmlns=http://www.w3.org/2000/svg xmlns:svg=http://www.w3.org/2000/svg> <defs id=defs6 /> <sodipodi:namedview id=namedview4 pagecolor=#ffffff bordercolor=#666666 borderopacity=1.0 inkscape:showpageshadow=2 inkscape:pageopacity=0.0 inkscape:pagecheckerboard=0 inkscape:deskcolor=#d1d1d1 showgrid=false inkscape:zoom=17.291667 inkscape:cx=24 inkscape:cy=24.028916 inkscape:current-layer=g8 /> <g inkscape:groupmode=layer inkscape:label=Image id=g8> <image width=48 height=48 preserveaspectratio=none id=image10 xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAACzxJREFU
aIHtmXuQXNVxxn997jz3qRdasay0s5IMiQCDIx4JqaSwjQFDoGIXAhUVMAajgF0kAWShB48xDy2W
eLmoOLbsFBHGBahcgYTEBAJBhYNLxsjEWKEko6BdJCEJSWi1O7O7M3Pv+fLHvmZ3Z1YrYZJ/+Kqm
am6fPt393XNud5974RN8go8E+ziNK4s70HtSbTpWrCl5pdMxFy9FYdx8EBdRKBcrxeWLUUR/nyXz
M2q25S2LPxofHwuB/LLZzVEQnGXyp2HuJEythh0PTAXSoADMA33AIcFeEzvMsRVpc6RwU3377g/3
LW2qmfXAvvz/CQEJy9/ZcorC2DeccZ5gOtAAuEGVItIHODuIKCDiGNMMZgmSgzoeowuxXfgHEwrf
Kvj4tM3pztc/myX8WAgom0kVC35uyexWwxYLUkAXsB/pVx694nz0evchvdO87v3esfN33tySnl4T
P7XkdbEzLjXIAI2ASTwdmH8NXCxU6fGG9t0Hf6cE+pZnMnLc4I2vmDRDst/g+HeTXhXujdrVOz4w
0GTtHbxpfkO6rnSezK4GLhTEgP/00i9jxqySi+5uvHfXO78TAodXzr4gwD2CbJ4ZuyTucS58Mb2/
6QNbt7l0rHYF1n1zy9QgHVwH3A+GxFbQf5jZjND7r0+5/71Dx0xAS5tq8/H09Rh3I/I4Hi+GbvW0
b797+FiDrobcisxXZTxi0IB4E6MGaV3t6s6HzQZW9qgIdK84Ybpz8TsRfwG8JvRwXaLzZzbmAeu5
Y87JLuScclkEexra3/uXo/Gnm1vS+bS7A9wtCDD2AnUu4OKaezp+MWkCyuLyxZnHQc0PQJ8DvisV
1ta3791fmWjb9YHpO6OEppdr7+u85GgIAOz/m9bj0zX2b8CngSIQk/RKV390yeyHd/W5iSYruyBx
YNnxv0+xtQnSDwj+1MTq2kTnymrBAzgUCtKjfxO6qorjHunc46RvAR5IAM7MTm9IB+cO+Jog+Fx/
9zn1ybjrxe5CnOvEbTXJzvuHtowWEVRh0D/OnihUUt1QzUYZ0gc7n0O8WSaaGsjO3ZJdkKhKoKfQ
c7ZzwfxS6JYIFoM9uCNZ89hQqd9xTSaVn5/5cX757DM1ZivKa1ywJj+OVO+yE1ouOrH1sdzKzOkT
EbB1lDB+VCZyzrTwZLoaKhLov735pJhzWYNGjKtMPFV7sONvT8m+XQTQBoKZzdyGcYVc7Kd9y1u/
0Z1tnjFExAXjV8DKVkVLm2pzt2cu9LH4C8iuQjykZSfVT0SCyDZStorCTuwP4/XjCPSuap4d+sT3
Q29veLgS089rvLvN1jGc2/t+3bJQ6GuDpmZ4Z9+xYuKJ3hWtX9ySXZCotAJeFJTF5VZmTu9NpB/C
6yfAAgCZzuwN+i+vuiWBwHTYjD3DBMQs52O1owgouyAhxa8HjnfYCcIapdhyK8vxe5c21Uqx68Ca
y6Y6g/Nl9nim0LsWXGxsACYr9hdbrzH0E+A6sNrhMaxOZkt6P9U6sxoBn4qKEsMFDCNeME0ZRaC3
P3+ysK9JvI9pkTP9Q11i9tZynVQqNVPGn1TwYcB0jL8Cnq4wem2E/b2weWLcnRZwYmT8YTUCFJ1g
dL2Jex8ME3glS8w7uws4HlgIdIRR9JRlN46a1PjpzveiEtcKfiDK7shoNFaQNVTRLZnpX510XX3c
nq8Wv1nkGEijQ/De1DNMYGGh7SJDFw8oU2/GUw3tu/5nnKHLiRrXdGyqSxRvCUIuQnoJiKo5PgK2
Ofkrw3j0lXR75zOW7Rj38I8QCBJmTB26FnQHLuiJwUBLnCvqVrChvduH9L2hfqOiwez7vcCmHdnM
JTNLXANaKm9zMOJHCNpjfCDPBjNbXdP+3r7JMI28NRo0DV07o9Or2OsAevr8GQYnlbF7sXZ1555K
hsaiLdvRvzbesU5m92F0HUnfoCTPU3XJ4oq61TsmFfzgvLPKDj54z7a+eKrHCcwFdjYwbZiA16Sb
rt5VLSd8s9T6PcT9DJzCJoQgiXFtvph4Nr9q7hnSZBtKXVr2PxS8OY3tuRjZ5jRFOwUGlt5QGMHm
CU0J61naPD0ej1/gPXfLbO7kghiADTzQX5D8Wb23tz7auyq2Lh2fvWdswhhCftnsZmFfGAnAPowT
vWZZvMvl0nUSbcNj0JUm6qnmfOfNLenciszlLpl4IjJbf7TBj0GjZLd7hT/NF3f8dW5lW1NFrcDd
SFkGEnorlYw2A7ggSRIbeTgM6+2PBVWzyvRE4jhzuhM4H6tcOSul1wlSLmCnAN/Cc9rYkUPLMxlv
dnm5zBsPDSYRnFkYM1RX5iiZwldt8tLp1F7QP4HGkvSIvZJWx/CLKrBaH1q0GPQ2aOxWEfCqt+Ko
ratFBHHTZQatw1ThhcbVncP1whVCGWXdpMGU0AdVGyvLvl30LlgPtr3MfUHS0/LRFXXJtrsqz1Sy
8d6dG3xY+rLDHgTKM1CXl62rb9/9YfmM7nktbWBXM5R9xN5I/p5yHZcMgsiwkU5xQHnC9rb+nh2/
9Wjt4OU2c1xRl4zfUP/tna9admPosdTYOc5ImqGGNe9vS/fE7jKL/gzTSwwcVJ6vz8WeH/sGIwiC
OzFOHryMMJ48mHSjVikWxVWgyAFg3ojYLpNYX62QmSGp87H8qkyTC0s/qlmze1f5uPekbMwmlEZy
uD26vQC8sXdp05/XJVJft9D/2B7tGGmVlyyM52YcWILsqhGn2hqz4O/asu+OqtaxArHeBGGnwdll
7j7ftSpzGnT8VyUCQySgo73imBsJdkTfjVuVwdeGa8tl2kCQ+/WBSw27c+j2CQ47cVvqvnffGWvD
TWN7zqEtjO5nUgnpDi05YltQEX7g7dwoqIKsEnrebDvHZA8ijhsUlfAsr0l0Vmz0nGXxQpswjUpz
Mvtcbkbbl5Q9htO4B0wHyn+Sr3gmLkf/8nnzndOzDGQdA4USP+zrzj9R7a11DKCQSPwiWQx/A3y2
bGyKodvyxbatsOOto4k/puAlr/DKclnkNEEdGEAy1fd+WEi8jnEhgGHPOVdsn/nd/blqc4bTZ//y
OeeF5l7EynoTIWBLLIi+lLp357jW+uPAoW9mTo/H+WdgtozF9fd1jD8clWFUI5Vflfm+xHWMPzF1
4LmxNsXGiXr2o8GW7ILE3FJXEz7eYiX2Hqb/g6YH9vWSJegptC5zZnchfl6bLF48VHWPSKB31bzZ
XuF6ZOeOWokB7BPaIPFkfabzDftLjukFbtfyOVNjuLMxfR5nFyAWALsMvSzcKy4sbqQGfCH+jzI+
5cRXa9s7np0UAQk7vGLOHwSBPW2yeRX0/QARXpfX+vpU6YWJ7s6w3ZvmJ/saws8gfdnLzsdoYeBr
TXmCEJAD9gDPO2mXx9ZgPFnoid04/dHt3UckMITuFZnfc/CUGQtE9VRqKCfZLzH9Ssa7RHbQmfWZ
kYq8n2FmrZhOxWzhYFoc60+CHkPdhk0V1IzoyIM54LCz8Pya+3a9PmkCAIdubWuNJ3QLxtXAlGp6
HwH7kV6U7Dlc9N/ywRku4DOIUxk4Hc5icIUEz9QlOi6rlEonPA0p21zTU4ifFhirJLuwWvs8aQjh
+G0g1pfEM4UouXvGmm25oR7onZvmJ2fV0RAPCg3ybo6Hc4A/lnEm0uK61e+9fFQEhv0uIuib23q2
d9xg5v5IqNGgdrC6Vip03qCgga+QedA+sJ95Rc/UH9y5qfwt36T8Z8+N7c93zJi5tmPvMREoR25l
W5PwCyTmBsasSEwzsxpnCpArCfokuhzRPrDdMezdRH/YaQ/v6jtaX5PBR/rIJ7DNSxbGpjcfDDKH
Q6Mt5fmwJSK7MTqaj3uf4BP8P+J/ASVw7ffFYZkMAAAAAElFTkSuQmCC
"/> </g> </svg> </a> <a href=https://www.asterisk.org/blog/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="m61.7 169.4 101.5 278C92.2 413 43.3 340.2 43.3 256c0-30.9 6.6-60.1 18.4-86.6m337.9 75.9c0-26.3-9.4-44.5-17.5-58.7-10.8-17.5-20.9-32.4-20.9-49.9 0-19.6 14.8-37.8 35.7-37.8.9 0 1.8.1 2.8.2-37.9-34.7-88.3-55.9-143.7-55.9-74.3 0-139.7 38.1-177.8 95.9 5 .2 9.7.3 13.7.3 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l77.5 230.4L249.8 247l-33.1-90.8c-11.5-.7-22.3-2-22.3-2-11.5-.7-10.1-18.2 1.3-17.5 0 0 35.1 2.7 56 2.7 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l76.9 228.7 21.2-70.9c9-29.4 16-50.5 16-68.7m-139.9 29.3-63.8 185.5c19.1 5.6 39.2 8.7 60.1 8.7 24.8 0 48.5-4.3 70.6-12.1-.6-.9-1.1-1.9-1.5-2.9zm183-120.7c.9 6.8 1.4 14 1.4 21.9 0 21.6-4 45.8-16.2 76.2l-65 187.9C426.2 403 468.7 334.5 468.7 256c0-37-9.4-71.8-26-102.1M8 256a248 248 0 1 1 496 0 248 248 0 1 1-496 0m484.6 0a236.6 236.6 0 1 0-473.2 0 236.6 236.6 0 1 0 473.2 0"/></svg> </a> <a href=https://twitter.com/asteriskdev target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> <a href=https://github.com/asterisk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://community.asterisk.org target=_blank rel=noopener title=community.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.prune", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../assets/javascripts/bundle.92b07e13.min.js></script> </body> </html>