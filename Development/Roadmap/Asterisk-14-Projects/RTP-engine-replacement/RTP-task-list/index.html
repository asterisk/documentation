<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.asterisk.org/Development/Roadmap/Asterisk-14-Projects/RTP-engine-replacement/RTP-task-list/ rel=canonical><link href=../Notes-on-RTP-standards/ rel=prev><link href=../Testing-RTP/ rel=next><link rel=icon href=../../../../../favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.19"><title>RTP task list - Asterisk Documentation</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../material-override.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2ZKMCW9DZ9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2ZKMCW9DZ9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2ZKMCW9DZ9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#bare-bones-calls class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="Asterisk Documentation" class="md-header__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../../../favicon.ico alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Asterisk Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> RTP task list </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="Asterisk Documentation" class="md-nav__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../../../favicon.ico alt=logo> </a> Asterisk Documentation </label> <div class=md-nav__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../About-the-Project/ class=md-nav__link> <span class=md-ellipsis> About the Project </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk-Community/ class=md-nav__link> <span class=md-ellipsis> Asterisk Community </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Fundamentals/ class=md-nav__link> <span class=md-ellipsis> Fundamentals </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Getting-Started/Beginning-Asterisk/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Configuration/Core-Configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Deployment/ class=md-nav__link> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Operation/ class=md-nav__link> <span class=md-ellipsis> Operation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../ class="md-nav__link "> <span class=md-ellipsis> Development </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Policies-and-Procedures/ class=md-nav__link> <span class=md-ellipsis> Policies and Procedures </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Debugging/ class=md-nav__link> <span class=md-ellipsis> Debugging </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Reference-Information/ class=md-nav__link> <span class=md-ellipsis> Reference Information </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_5 checked> <div class="md-nav__link md-nav__container"> <a href=../../../ class="md-nav__link "> <span class=md-ellipsis> Roadmap </span> </a> <label class="md-nav__link " for=__nav_8_5 id=__nav_8_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_5_label aria-expanded=true> <label class=md-nav__title for=__nav_8_5> <span class="md-nav__icon md-icon"></span> Roadmap </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../AstriCon-2012-Presentations/ class=md-nav__link> <span class=md-ellipsis> AstriCon 2012 Presentations </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2010/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2010 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2011/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2011 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2012/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2012 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2013/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2013 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2014/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2014 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2015/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2015 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2016/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2016 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2017/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2017 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2022/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2022 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2024-December/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2024 December </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2024/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2024 </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2025-April/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2025 April </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon-2025-July/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2025 July </span> </a> </li> <li class=md-nav__item> <a href=../../../AstriDevCon/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon </span> </a> </li> <li class=md-nav__item> <a href=../../../Astricon-2021-Presentation-attachments/ class=md-nav__link> <span class=md-ellipsis> Astricon 2021 Presentation attachments </span> </a> </li> <li class=md-nav__item> <a href=../../../FOSDEM-2011-Open-Source-Telephony-Devroom/ class=md-nav__link> <span class=md-ellipsis> FOSDEM 2011 Open Source Telephony Devroom </span> </a> </li> <li class=md-nav__item> <a href=../../../OpenSIPit-2021/ class=md-nav__link> <span class=md-ellipsis> OpenSIPit 2021 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk-10-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 10 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk-11-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 11 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk-12-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 12 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk-13-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 13 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_5_24 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Asterisk 14 Projects </span> </a> <label class="md-nav__link " for=__nav_8_5_24 id=__nav_8_5_24_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_8_5_24_label aria-expanded=true> <label class=md-nav__title for=__nav_8_5_24> <span class="md-nav__icon md-icon"></span> Asterisk 14 Projects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ARI-Feature-Wish-list/ class=md-nav__link> <span class=md-ellipsis> ARI Feature Wish-list </span> </a> </li> <li class=md-nav__item> <a href=../../Asterisk-14-Project-ARI-and-generic-Text-To-Speech/ class=md-nav__link> <span class=md-ellipsis> Asterisk 14 Project - ARI and generic Text To Speech </span> </a> </li> <li class=md-nav__item> <a href=../../Asterisk-14-Project-Media-Playlists/ class=md-nav__link> <span class=md-ellipsis> Asterisk 14 Project - Media Playlists </span> </a> </li> <li class=md-nav__item> <a href=../../Asterisk-14-Project-URI-Media-Playback/ class=md-nav__link> <span class=md-ellipsis> Asterisk 14 Project - URI Media Playback </span> </a> </li> <li class=md-nav__item> <a href=../../Asterisk-Beacon-Module/ class=md-nav__link> <span class=md-ellipsis> Asterisk Beacon Module </span> </a> </li> <li class=md-nav__item> <a href=../../Git-Migration/ class=md-nav__link> <span class=md-ellipsis> Git Migration </span> </a> </li> <li class=md-nav__item> <a href=../../Module-Loader-Ideas/ class=md-nav__link> <span class=md-ellipsis> Module Loader Ideas </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Asterisk-DNS-API/ class=md-nav__link> <span class=md-ellipsis> Asterisk DNS API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_5_24_10 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> RTP engine replacement </span> </a> <label class="md-nav__link " for=__nav_8_5_24_10 id=__nav_8_5_24_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_8_5_24_10_label aria-expanded=true> <label class=md-nav__title for=__nav_8_5_24_10> <span class="md-nav__icon md-icon"></span> RTP engine replacement </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Current-RTP-state-of-Asterisk/ class=md-nav__link> <span class=md-ellipsis> Current RTP state of Asterisk </span> </a> </li> <li class=md-nav__item> <a href=../Notes-on-RTP-standards/ class=md-nav__link> <span class=md-ellipsis> Notes on RTP standards </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> RTP task list </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> RTP task list </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#create-initial-skeletons-and-stubs class=md-nav__link> <span class=md-ellipsis> Create initial skeletons and stubs </span> </a> <nav class=md-nav aria-label="Create initial skeletons and stubs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-the-rtp-engine-structure class=md-nav__link> <span class=md-ellipsis> Create the RTP engine structure </span> </a> </li> <li class=md-nav__item> <a href=#create-the-rtp-stream-structure class=md-nav__link> <span class=md-ellipsis> Create the RTP stream structure </span> </a> </li> <li class=md-nav__item> <a href=#create-the-rtp-session-structure class=md-nav__link> <span class=md-ellipsis> Create the RTP session structure </span> </a> </li> <li class=md-nav__item> <a href=#un-stub-the-rtp-engine-new-method class=md-nav__link> <span class=md-ellipsis> Un-stub the RTP engine new() method </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#construct-the-media-outflow class=md-nav__link> <span class=md-ellipsis> Construct the media outflow </span> </a> <nav class=md-nav aria-label="Construct the media outflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-an-rtp-encoder class=md-nav__link> <span class=md-ellipsis> Create an RTP encoder </span> </a> </li> <li class=md-nav__item> <a href=#create-a-default-packet-router class=md-nav__link> <span class=md-ellipsis> Create a default packet router. </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-transport class=md-nav__link> <span class=md-ellipsis> Create an RTP transport </span> </a> </li> <li class=md-nav__item> <a href=#write-the-rtp-engine-write-function class=md-nav__link> <span class=md-ellipsis> Write the RTP engine write() function </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#construct-the-media-inflow class=md-nav__link> <span class=md-ellipsis> Construct the media inflow </span> </a> <nav class=md-nav aria-label="Construct the media inflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#add-packet-reception-to-the-rtp-transport class=md-nav__link> <span class=md-ellipsis> Add packet reception to the RTP transport </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-transport-monitor-thread class=md-nav__link> <span class=md-ellipsis> Create an RTP transport monitor thread </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-packet-handler class=md-nav__link> <span class=md-ellipsis> Create an RTP packet handler </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-decoder class=md-nav__link> <span class=md-ellipsis> Create an RTP Decoder </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-demultiplexer class=md-nav__link> <span class=md-ellipsis> Create an RTP demultiplexer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#destruction class=md-nav__link> <span class=md-ellipsis> Destruction </span> </a> <nav class=md-nav aria-label=Destruction> <ul class=md-nav__list> <li class=md-nav__item> <a href=#stop class=md-nav__link> <span class=md-ellipsis> Stop </span> </a> </li> <li class=md-nav__item> <a href=#destroy class=md-nav__link> <span class=md-ellipsis> Destroy </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Testing-RTP/ class=md-nav__link> <span class=md-ellipsis> Testing RTP </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk-15-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 15 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk-16-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 16 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk-18-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 18 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk-19-Projects/ class=md-nav__link> <span class=md-ellipsis> Asterisk 19 Projects </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../AstriDevCon-2018/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2018 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../AstriDevCon-2019/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2019 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../AstriDevCon-2020/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2020 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../AstriDevCon-2021/ class=md-nav__link> <span class=md-ellipsis> AstriDevCon 2021 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Future-Potential-Project-Thoughts/ class=md-nav__link> <span class=md-ellipsis> Future Potential Project Thoughts </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../Asterisk-Bug-Bounties/ class=md-nav__link> <span class=md-ellipsis> Asterisk Bug Bounties </span> </a> </li> <li class=md-nav__item> <a href=../../../../Asterisk-C-API-Deprecations/ class=md-nav__link> <span class=md-ellipsis> Asterisk C API Deprecations </span> </a> </li> <li class=md-nav__item> <a href=../../../../Asterisk-Module-Deprecations/ class=md-nav__link> <span class=md-ellipsis> Asterisk Module Deprecations </span> </a> </li> <li class=md-nav__item> <a href=../../../../Asterisk-Open-Source-Maintainers/ class=md-nav__link> <span class=md-ellipsis> Asterisk Open Source Maintainers </span> </a> </li> <li class=md-nav__item> <a href=../../../../Open-Features-and-Improvements/ class=md-nav__link> <span class=md-ellipsis> Open Features and Improvements </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Latest_API/ class=md-nav__link> <span class=md-ellipsis> Latest API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_16_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 16 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_18_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 18 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_19_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 19 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_20_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 20 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_21_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 21 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_22_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 22 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_23_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 23 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Certified-Asterisk_18.9_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 18.9 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Certified-Asterisk_20.7_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 20.7 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Test-Suite-Documentation/ class=md-nav__link> <span class=md-ellipsis> Test Suite Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Historical-Documentation/ class=md-nav__link> <span class=md-ellipsis> Historical Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../../../Contributing-to-the-Documentation/ class=md-nav__link> <span class=md-ellipsis> Contributing to the Documentation </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#create-initial-skeletons-and-stubs class=md-nav__link> <span class=md-ellipsis> Create initial skeletons and stubs </span> </a> <nav class=md-nav aria-label="Create initial skeletons and stubs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-the-rtp-engine-structure class=md-nav__link> <span class=md-ellipsis> Create the RTP engine structure </span> </a> </li> <li class=md-nav__item> <a href=#create-the-rtp-stream-structure class=md-nav__link> <span class=md-ellipsis> Create the RTP stream structure </span> </a> </li> <li class=md-nav__item> <a href=#create-the-rtp-session-structure class=md-nav__link> <span class=md-ellipsis> Create the RTP session structure </span> </a> </li> <li class=md-nav__item> <a href=#un-stub-the-rtp-engine-new-method class=md-nav__link> <span class=md-ellipsis> Un-stub the RTP engine new() method </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#construct-the-media-outflow class=md-nav__link> <span class=md-ellipsis> Construct the media outflow </span> </a> <nav class=md-nav aria-label="Construct the media outflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-an-rtp-encoder class=md-nav__link> <span class=md-ellipsis> Create an RTP encoder </span> </a> </li> <li class=md-nav__item> <a href=#create-a-default-packet-router class=md-nav__link> <span class=md-ellipsis> Create a default packet router. </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-transport class=md-nav__link> <span class=md-ellipsis> Create an RTP transport </span> </a> </li> <li class=md-nav__item> <a href=#write-the-rtp-engine-write-function class=md-nav__link> <span class=md-ellipsis> Write the RTP engine write() function </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#construct-the-media-inflow class=md-nav__link> <span class=md-ellipsis> Construct the media inflow </span> </a> <nav class=md-nav aria-label="Construct the media inflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#add-packet-reception-to-the-rtp-transport class=md-nav__link> <span class=md-ellipsis> Add packet reception to the RTP transport </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-transport-monitor-thread class=md-nav__link> <span class=md-ellipsis> Create an RTP transport monitor thread </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-packet-handler class=md-nav__link> <span class=md-ellipsis> Create an RTP packet handler </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-decoder class=md-nav__link> <span class=md-ellipsis> Create an RTP Decoder </span> </a> </li> <li class=md-nav__item> <a href=#create-an-rtp-demultiplexer class=md-nav__link> <span class=md-ellipsis> Create an RTP demultiplexer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#destruction class=md-nav__link> <span class=md-ellipsis> Destruction </span> </a> <nav class=md-nav aria-label=Destruction> <ul class=md-nav__list> <li class=md-nav__item> <a href=#stop class=md-nav__link> <span class=md-ellipsis> Stop </span> </a> </li> <li class=md-nav__item> <a href=#destroy class=md-nav__link> <span class=md-ellipsis> Destroy </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>This page has not received peer review and may still be undergoing edits.</p> </div> <p>This page contains a list of necessary tasks in order to write a new RTP engine. The tasks start out with incredibly specific detail and eventually move into much more general terms. The reason for this is to help remain agile in the process. Undoubtedly, requirements will change, or mistakes in the design early will change the nature of later tasks.</p> <h1 id=bare-bones-calls>Bare-Bones calls<a class=headerlink href=#bare-bones-calls title="Permanent link">&para;</a></h1> <p>The first milestone will be to get the RTP engine written to the point that we can successfully pass media through Asterisk. This means successfully constructing the media flows as described in the parent page and putting some basic setup in place. For this phase, it is encouraged to use hard-coding in place of pluggable elements. The sooner we can get to a point where we have successful calls, the easier it is to rapidly develop new features (and tests!) with confidence that they work as intended.</p> <h2 id=create-initial-skeletons-and-stubs>Create initial skeletons and stubs<a class=headerlink href=#create-initial-skeletons-and-stubs title="Permanent link">&para;</a></h2> <p>The goal of this task is basically to make sure that when channel drivers attempt to interact with the RTP engine, they do not crash.</p> <h4 id=create-the-rtp-engine-structure>Create the RTP engine structure<a class=headerlink href=#create-the-rtp-engine-structure title="Permanent link">&para;</a></h4> <p>Fill in all required functions with stubs that return some error value. All optional functions should be left empty for now. Required functions are:</p> <ul> <li><code>new()</code>: Return NULL</li> <li><code>destroy()</code>: Return -1</li> <li><code>read()</code>: Return -1</li> <li><code>write()</code>: Return -1</li> <li><code>name</code>: "Steel Zebra"</li> </ul> <h4 id=create-the-rtp-stream-structure>Create the RTP stream structure<a class=headerlink href=#create-the-rtp-stream-structure title="Permanent link">&para;</a></h4> <p>The RTP stream structure will have nothing on it for the time being. We will add the requisite parts to it as tasks require them.</p> <h4 id=create-the-rtp-session-structure>Create the RTP session structure<a class=headerlink href=#create-the-rtp-session-structure title="Permanent link">&para;</a></h4> <p>The RTP session structure will currently contain a single RTP stream and nothing else. We will add parts to it as tasks require them.</p> <h4 id=un-stub-the-rtp-engine-new-method>Un-stub the RTP engine new() method<a class=headerlink href=#un-stub-the-rtp-engine-new-method title="Permanent link">&para;</a></h4> <p>For the time being, this will allocate an RTP session and an RTP stream. The RTP stream will be placed on the RTP session.</p> <h2 id=construct-the-media-outflow>Construct the media outflow<a class=headerlink href=#construct-the-media-outflow title="Permanent link">&para;</a></h2> <p>The first task is to be able to play audio over an RTP stream. In order to reach this, the media outflow will need to be implemented. Media outflow means implementing the <code>write()</code> method on the RTP engine to completion. According to the planned outflow, a media write should go through an encoder, a router, and a transport.</p> <h4 id=create-an-rtp-encoder>Create an RTP encoder<a class=headerlink href=#create-an-rtp-encoder title="Permanent link">&para;</a></h4> <p>Create an RTP encoder structure. Write an <code>encode()</code> method that will accept an <code>ast_frame</code> and return an encoded RTP header with an appropriate payload. For the time being, the encoder can work only on <code>AST_FRAME_VOICE</code> frames. Since this is the bare-bones phase, the RTP encoder can cheat in some respects, such as always using the same SSRC and never setting the marker bit. However, it must properly indicate sequence numbers and timestamps. The payload type number for the payload to transmit can be learned with <code>ast_rtp_codecs_payload_code()</code>.</p> <h4 id=create-a-default-packet-router>Create a default packet router.<a class=headerlink href=#create-a-default-packet-router title="Permanent link">&para;</a></h4> <p>Create a default packet router structure. Add this structure to the RTP stream structure. Write a <code>route()</code> method that will pass an encoded RTP packet to the stream's transport's <code>write()</code> method. The main job of the default packet router is to provide an address for the packet to be routed to. The default packet router can call <code>ast_rtp_instance_get_remote_address()</code> to get the address to route the packet to.</p> <h4 id=create-an-rtp-transport>Create an RTP transport<a class=headerlink href=#create-an-rtp-transport title="Permanent link">&para;</a></h4> <p>Create a UDP RTP transport structure. Add this structure to the RTP stream structure.</p> <ul> <li>Write an <code>init()</code> method and call it from the RTP engine's <code>new()</code> callback. The <code>init()</code> method should create a UDP socket and set any socket level flags required (e.g. nonblocking I/O). For this first phase, this can bind to a hard-coded IP address and port.</li> <li>Write a <code>write()</code> method that accepts an encoded RTP packet (a sequence of bytes), its size, and a destination address (an <code>ast_sockaddr</code>), and have that method call <code>ast_sockaddr_sendto()</code> when invoked.</li> </ul> <h4 id=write-the-rtp-engine-write-function>Write the RTP engine write() function<a class=headerlink href=#write-the-rtp-engine-write-function title="Permanent link">&para;</a></h4> <p>In order to actually transmit media, the RTP engine's write function will need to be implemented. For this task, the write function will operate like so</p> <ul> <li>Accept <code>AST_FRAME_VOICE</code> frames and pass the payloads down to the RTP encoder's <code>encode()</code> method.</li> <li>Pass the encoded data to the default packet router's <code>route()</code> method.</li> </ul> <p>Frame types other than <code>AST_FRAME_VOICE</code> can be ignored for now.</p> <h2 id=construct-the-media-inflow>Construct the media inflow<a class=headerlink href=#construct-the-media-inflow title="Permanent link">&para;</a></h2> <p>The next logical task is to be able to create the media inflow. With this task completed, a call should be capable of receiving media and passing it up to the channel when requested.</p> <h4 id=add-packet-reception-to-the-rtp-transport>Add packet reception to the RTP transport<a class=headerlink href=#add-packet-reception-to-the-rtp-transport title="Permanent link">&para;</a></h4> <p>The UDP RTP transport that was created previously needs to be modified to be able to receive packets.</p> <ul> <li>Write a <code>read()</code> callback that will call <code>ast_recvfrom()</code> on the UDP socket. The <code>read()</code> callback should take a buffer and size as its arguments and return the number of bytes read.</li> </ul> <h4 id=create-an-rtp-transport-monitor-thread>Create an RTP transport monitor thread<a class=headerlink href=#create-an-rtp-transport-monitor-thread title="Permanent link">&para;</a></h4> <p>Create a thread whose purpose is to detect when incoming RTP media is received.</p> <ul> <li>Create the function that runs in the thread. The thread should run a loop that polls a collection of file descriptors to determine if any is ready for reading. If any file descriptor is ready for reading, read data from that file descriptor. Pass this data to the associated stream's demultiplexer.</li> <li>Write a function that will allow for a file descriptor to be monitored by the monitor thread. The function should take a file descriptor and an RTP stream as arguments so that a file descriptor can be associated with its associated stream.</li> <li>Modify the <code>init()</code> method for the transport to call the above function after creating its socket.</li> </ul> <h4 id=create-an-rtp-packet-handler>Create an RTP packet handler<a class=headerlink href=#create-an-rtp-packet-handler title="Permanent link">&para;</a></h4> <p>The RTP packet handler will be responsible for taking decoded RTP frames, packaging the payload into an <code>ast_frame</code> and queuing that frame onto the channel associated with the stream. For the time being, the packet handler can assume that all frames are <code>AST_FRAME_VOICE</code> frames and that all frames should be queued onto the channel.</p> <h4 id=create-an-rtp-decoder>Create an RTP Decoder<a class=headerlink href=#create-an-rtp-decoder title="Permanent link">&para;</a></h4> <p>Create a structure to represent an RTP decoder, and add this structure to the RTP stream structure.</p> <ul> <li>Create a structure that represents an RTP header. A suggested structure can be found in <a href=http://tools.ietf.org/html/rfc3550#appendix-A>Appendix A</a> of RFC 3550.</li> <li>Write a <code>decode()</code> method that can take raw bytes and separate them into a decoded RTP header and a payload. When decoding RTP, the routine does not need to try to understand or decode RTP header extensions for the time being, but it does need to be prepared for header extensions to be present. This routine should not attempt to perform any processing on the payload. The decoder should pass the decoded RTP packet to the RTP packet handler created in the previous step.</li> </ul> <h4 id=create-an-rtp-demultiplexer>Create an RTP demultiplexer<a class=headerlink href=#create-an-rtp-demultiplexer title="Permanent link">&para;</a></h4> <p>Create a structure to represent an RTP demultiplexer, and add this to the RTP stream structure.</p> <ul> <li>Write a <code>demux()</code> method that will pass all data it receives to the RTP decoder's <code>decode()</code> method. For now, this method is pretty useless, but having it in place now will make future demultiplexing efforts much easier.</li> </ul> <h2 id=destruction>Destruction<a class=headerlink href=#destruction title="Permanent link">&para;</a></h2> <p>Once a call is hung up, we need to be able to clean up the RTP</p> <h4 id=stop>Stop<a class=headerlink href=#stop title="Permanent link">&para;</a></h4> <p>The goal of this task is to stop RTP when requested.</p> <ul> <li>Create a "null" packet router. This packet router's <code>route()</code> method should simply drop all packets passed to it.</li> <li>Write a <code>stop()</code> RTP engine method. It should do the following:<ul> <li>Install the null packet router for the RTP stream.</li> <li>Remove the file descriptor for the UDP socket from the RTP monitor thread.</li> </ul> </li> </ul> <h4 id=destroy>Destroy<a class=headerlink href=#destroy title="Permanent link">&para;</a></h4> <p>The goal of this task to is to ensure that all memory is freed when requested.</p> <p>Write a <code>destroy()</code> method for the RTP engine. It should do the following:</p> <ul> <li>Destroy all dynamically allocated data on the RTP stream, including closing the UDP socket on the transport.</li> <li>Remove the RTP stream from the list of streams on the RTP session.</li> <li>If the RTP session no longer has any streams, then free all dynamically allocated data on the RTP session. Since RTP sessions currently only have one stream, this should happen every time.</li> </ul> <h1 id=basic-rtp-features>Basic RTP features<a class=headerlink href=#basic-rtp-features title="Permanent link">&para;</a></h1> <p>Once we have the bare minimum setup created and tested, we can start to add more basic RTP features.</p> <h2 id=get-rid-of-some-of-those-hard-coded-items>Get rid of some of those hard-coded items<a class=headerlink href=#get-rid-of-some-of-those-hard-coded-items title="Permanent link">&para;</a></h2> <h4 id=rtp-encoder>RTP encoder<a class=headerlink href=#rtp-encoder title="Permanent link">&para;</a></h4> <p>The RTP encoder initially has been using hard-coded values for</p> <ul> <li>SSRC</li> <li>Marker bit</li> </ul> <p>Modify the RTP encoder to use proper values for these.</p> <ul> <li>SSRC<ul> <li>An initial SSRC can be created at random when the encoder is allocated. RFC 3550 <a href=http://tools.ietf.org/html/rfc3550#appendix-A.6>Appendix A.6</a> has a suggeseted algorithm for generating random 32-bit values. Feel free to use this or something else if desired.</li> <li>Implement a <code>change_source()</code> RTP engine callback that will change our SSRC to a different random value when called. One of the reasons for us creating a new RTP engine was due to "mangling SSRC". It may be wise to keep in consideration that the <code>change_source()</code> method on Steel Zebra should be a bit smarter about when to actually change SSRC. For this particular task, though, we're going to leave this method stupid.</li> </ul> </li> <li> <p>Marker bit</p> <ul> <li>The marker bit should always be set during the first packet that we send during an RTP stream.</li> <li>Implement an <code>update_source()</code> RTP engine callback that will indicate that the marker bit should be set on the next media frame sent</li> </ul> </li> </ul> <h4 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">&para;</a></h4> <p>Configuration is a necessary predecessor for getting rid of some hard-coded values in the engine. The goal is to use the existing <code>rtp.conf</code> configuration file and its existing settings so that migration is painless.</p> <p>Add configuration loading and reloading capabilities to the module that implements Steel Zebra.</p> <ul> <li>The module's <code>load()</code> method should load configuration from <code>rtp.conf</code>. For the time being, the only configuration item that we are worried about are the <code>rtpstart</code> and <code>rtpend</code> options.</li> <li>The module's <code>reload()</code> method should re-read <code>rtp.conf</code> and update the saved port range based on new values of <code>rtpstart</code> and <code>rtpend</code>.</li> </ul> <p>There is no hard requirement to use the new config API, though its use would be nice here.</p> <h4 id=port-binding>Port binding<a class=headerlink href=#port-binding title="Permanent link">&para;</a></h4> <p>Steel Zebra's <code>new()</code> method should use the configured <code>rtpstart</code> and <code>rtpend</code> values to bind RTP to an even numbered port in that range. The current method employed by <code>res_rtp_asterisk</code> is to choose a random even number in the range and attempt to bind to it. If binding fails, the number is incremented by 2 and binding is retried. It is unknown how much this impedes RTP stream setup times on loaded systems, so you will want to implement port selection as a function that can be replaced with a new algorithm if desired. One naive suggestion for a different port selection algorithm would be to have all legal ports defined by the configured range in a queue (with the order randomized). Pop a number off the queue when it is time to allocate a port. When you have finished using that port, push it back onto the queue. This way is less likely to result in failed bind attempts, but it is also potentially memory-heavy (default range of RTP is 10000 ports, which is 5000 even numbered ports, which is 5000 * 16 bits ~= 80KB). If you can devise something better, then go for it!</p> <h4 id=packetization>Packetization<a class=headerlink href=#packetization title="Permanent link">&para;</a></h4> <p>All code currently is assuming 20 ms packetization for audio, but it shouldn't!</p> <p>Audio presented to Steel Zebra's <code>write()</code> method may not be of the same packetization as requested by the remote receiver. The goal is to ensure that we only send media of the requested packetization.</p> <ul> <li>Create an RTP playout structure. For the time being, the structure should only have an <code>ast_smoother</code> on it.</li> <li>Add a <code>write()</code> method to the playout structure that takes an <code>AST_FRAME_VOICE</code> as a parameter. The first time that a frame of a particular audio type is received, the smoother should have <code>ast_smoother_reset()</code> called on it, with the size of the smoother being calculated from the format on the frame. The audio data should be fed into the smoother. Then we should read from the smoother in order to get the correct number of samples to send. After these samples have been retrieved, these are passed down to the encoder.</li> <li>Modify the <code>write()</code> method on Steel Zebra not to call the encoder's <code>encode()</code> method. Instead, this should be replaced by calling the playout's <code>write()</code> method.</li> </ul> <p>No change is required for the inflow since code at the channel or bridge layer can provide buffering and smoothing of media. The RTP inflow should remain packaging received media in <code>ast_frames</code> based on the amount of media received.</p> <h2 id=add-telephone-event-support>Add telephone-event support<a class=headerlink href=#add-telephone-event-support title="Permanent link">&para;</a></h2> <p>Telephone-event refers to RFC 4733 DTMF telephone events. DTMF telephone-event support requires a decent chunk o' work in order to get correct. This is because this is the first feature that requires that existing components of the RTP stack become extensible.</p> <h4 id=incoming-telephone-events>Incoming telephone events<a class=headerlink href=#incoming-telephone-events title="Permanent link">&para;</a></h4> <p>RTP packet handler changes:</p> <ul> <li>The RTP packet handler will need to be made pluggable, so that when RFC 4733 packets are received, they can be packaged into an <code>AST_FRAME_DTMF_BEGIN</code> or <code>AST_FRAME_DTMF_END</code> as appropriate.</li> <li>An RFC4733 plugin will need to be created and installed when the <code>AST_RTP_PROPERTY_DTMF</code> property is set on a Steel Zebra instance. The plugin will implement a state machine to determine the current DTMF state of incoming audio. Here are the states:</li> <li>The packet handler will need to call into the plugin on <strong>all</strong> RTP frames. This may seem odd since RFC 4733 should be concerned with specific payloads of RTP; however, the plugin does need to know when non-DTMF RTP has been received since that can affect its operation.</li> </ul> <p>Decoder changes:</p> <ul> <li>The decoder will need to be able to decode specific types of encoded payloads, such as RFC 4733. So whereas the payload of an RTP packet may have been stored as an array of bytes before, the payload now needs to be able to be stored in alternate formats.</li> <li>The decoder will need to be made pluggable so that when decoding, the RTP packet may be passed to the plugin in order to be decoded properly. Plugins only need to be called into when an RTP packet of an appropriate payload is received.</li> </ul> <h4 id=outgoing-telephone-events>Outgoing telephone events<a class=headerlink href=#outgoing-telephone-events title="Permanent link">&para;</a></h4> <p>The channel driver maintains information about whether RFC 4733 DTMF should be used on an RTP stream and will call into an RTP stream in order to begin and end DTMF.</p> <ul> <li>Write a <code>dtmf_begin()</code> method for Steel Zebra.<ul> <li>The method should begin by creating a DTMF payload based on the specified digit.</li> <li>The method should pass this payload to the RTP encoder, indicating that the marker bit should be set.</li> <li>The method should schedule DTMF continuations to be sent at regular intervals based on the packetization of the outgoing stream.</li> </ul> </li> <li>Write a <code>dtmf_end()</code> method for Steel Zebra.<ul> <li>The method should begin by canceling the DTMF continuations that have been sent.</li> <li>The method should generate an RFC 4733 DTMF end payload.</li> <li>The method should send send this payload to the RTP encoder three times.</li> </ul> </li> <li>Write a DTMF continuation scheduler callback function.<ul> <li>This method will take as its user data the DTMF digit being sent, and the timestamp of the DTMF begin.</li> <li>The method will create an RFC 4733 payload with updated duration based on the timestamp.</li> <li>The method will then pass this RFC 4733 payload to the RTP encoder to be transmitted.</li> </ul> </li> </ul> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>This section currently is saying to pass the RFC 4733 payload to the encoder. Previous language on this page said to pass <code>ast_frame</code> payloads to the encoder, which are different. This probably means that the <code>encode()</code> method should have its input parameters broken up a bit more. For instance, instead of <code>encode(voice_frame)</code>, it should be <code>encode(timestamp, marker_bit, raw_voice_data)</code>. This way, when it comes time to encode RFC 4733 DTMF, this works just as well.</p> </div> <h2 id=add-support-for-multiple-remote-media-sources>Add support for multiple remote media sources<a class=headerlink href=#add-support-for-multiple-remote-media-sources title="Permanent link">&para;</a></h2> <p>When communicating with a remote endpoint, even though we may be receiving media from only a single remote IP address and port, the media could originate from multiple sources, represented by different SSRC identifiers. This section mostly deals with what should be done when receiving audio from multiple SSRCs.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Honestly, I'm not really sure what should be done here. Should this mostly be a statistical thing? Should we actually even expect to be communicating with an endpoint that sends us audio from multiple sources on a single stream?</p> </div> <h1 id=basic-rtcp-support>Basic RTCP support<a class=headerlink href=#basic-rtcp-support title="Permanent link">&para;</a></h1> <p>Now that RTP has reached a state where it works generally well, we can start to add RTCP support in.</p> <h2 id=create-structures-for-different-rtcp-packet-types>Create structures for different RTCP packet types<a class=headerlink href=#create-structures-for-different-rtcp-packet-types title="Permanent link">&para;</a></h2> <p>RFC 3550 defines 5 RTCP packet types: SR, RR, SDES, BYE, and APP. Create structures that can represent decoded packets of these types. Some suggested structures appear in Appendix A of RFC 3550; however, I do not suggest using these directly because the union approach they use does not allow for easy addition of new RTCP packet types. We already know that we will require additional packet types for RTP/AVPF, so don't box yourself in too early!</p> <h2 id=add-rtcp-creation>Add RTCP creation<a class=headerlink href=#add-rtcp-creation title="Permanent link">&para;</a></h2> <p>RTCP is activated and deactivated via RTP properties on an RTP instance. For this task, create a <code>prop_set()</code> method for Steel Zebra. For now, the only property that it needs to recognize is <code>AST_RTP_PROPERTY_RTCP</code>. If this property gets set, then we need to create an RTCP stream to live alongside the RTP stream. The RTCP stream will need to get statistics from the RTP stream, and the RTP stream may have need to force RTCP packets to be sent, so the two structures should have mutual access to each other somehow.</p> <p>If the <code>AST_RTP_PROPERTY_RTCP</code> property is set with a zero value, then RTCP should be deactivated. This should completely destroy the RTCP stream, not just stop it. Part of the destruction process for RTCP should be to send an RTCP BYE packet, since presumably the reason RTCP is being stopped is because we will no longer be the source of media on this stream.</p> <h2 id=add-rtcp-inflow>Add RTCP inflow<a class=headerlink href=#add-rtcp-inflow title="Permanent link">&para;</a></h2> <p>RTCP inflow works similarly to RTP inflow. RTCP comes in through a transport, is sent to a demultiplexer (in this case, the demultiplexer can recognize all traffic as RTCP), is sent to a decoder, and then is sent to something that acts on the RTCP packet. RTCP can re-use the RTP transport structures that have already been written since their job is no different. The RTCP demultiplexer is trivial for now since it, much like the RTP demultiplexer, will only ever interpret incoming packets as a single type.</p> <h4 id=write-the-rtcp-decoder>Write the RTCP decoder<a class=headerlink href=#write-the-rtcp-decoder title="Permanent link">&para;</a></h4> <p>The RTCP decoder is a bit different from the RTP decoder since RTCP is received in compound packets, and there are multiple different types of RTCP sub-packets that can be received at once. The RTCP decoder should be designed such that a top-level decoder breaks the packets into sub-packets, recognizes what type of packet it is, and sends the packet to be decoded by a subpacket decoder. The subpacket decoder is responsible for decoding the contents of the subpacket and sending that packet to a packet handler that takes some sort of action on that type of packet.</p> <h4 id=write-rtcp-subpacket-handlers>Write RTCP subpacket handlers<a class=headerlink href=#write-rtcp-subpacket-handlers title="Permanent link">&para;</a></h4> <p>Once an RTCP subpacket has been decoded, the subpacket needs to be given to someone that is interested in acting on that type of subpacket. The most common thing that a subpacket handler will do is emit a Stasis event with the information in it. We do not want to take any sort of automatic action on the RTP stream at this time.</p> <h2 id=add-rtcp-to-media-outflow>Add RTCP to media outflow<a class=headerlink href=#add-rtcp-to-media-outflow title="Permanent link">&para;</a></h2> <p>RTCP outflow also works similarly to RTP outflow. At periodic intervals, RTCP reports need to be generated. When the time arrives, An RTCP report generator feeds data into encoders to create encoded RTCP subpackets. The report generator concatenates these encoded packets into a compound RTCP packet. This packet is then sent to a packet router, which sends it out the transport. The packet router and transport behave exactly the same for RTCP as they do for RTP, so the same structures can be re-used for RTCP.</p> <h4 id=write-rtcp-encoders>Write RTCP encoders<a class=headerlink href=#write-rtcp-encoders title="Permanent link">&para;</a></h4> <p>Write encoders that can create RTCP SR, RR, SDES, and BYE packets. There is no need for us to create APP packets at this time since we are not doing anything that requires their use. Since appropriate statistics are not yet being collected, the RTCP sender and receiver reports will not provide accurate details about the session.</p> <h4 id=write-an-rtcp-report-generator>Write an RTCP report generator<a class=headerlink href=#write-an-rtcp-report-generator title="Permanent link">&para;</a></h4> <p>The RTCP report generator will be called into periodically to send RTCP reports. The RTCP report generator will determine what type of RTCP packets should be sent at this time and call into the encoders to create packets with the appropriate information. Once the RTCP packets have been encoded, the report generator will concatenate these reports and send them down to the packet router to be transmitted.</p> <h2 id=gather-statistics-for-rtcp-sr-and-rr>Gather statistics for RTCP SR and RR<a class=headerlink href=#gather-statistics-for-rtcp-sr-and-rr title="Permanent link">&para;</a></h2> <p>RTP transmission and reception need to be augmented to gather statistics that can be sent in RTCP SR and RR packets. I suggest reading in-depth RFC 3550 section 6, as well as all sections in Appendix A for gathering RTCP statistics. I also have an RTP book whose RTCP chapter goes into more detail than RFC 3550 about details being reported in RTCP reports.</p> <h1 id=advanced-rtp-features>Advanced RTP features<a class=headerlink href=#advanced-rtp-features title="Permanent link">&para;</a></h1> <p>These RTP features go beyond the humble</p> <h2 id=strict-rtp>Strict RTP<a class=headerlink href=#strict-rtp title="Permanent link">&para;</a></h2> <p>Strict RTP is an Asterisk security feature that prevents injection of media from unknown sources. RFC 3550 provides an algorithm in Appendix A.1 that allows for an RTP implementation to not accept packets from a new SSRC until after receiving a certain minimum number of RTP packets from that SSRC. Strict RTP is similar, except that</p> <ul> <li>Rather than applying the algorithm to new SSRCs, we apply the algorithm to source IP addresses and ports on arriving packets.</li> <li>We have to recognize periods where our strictness needs to be opened back up and reset the learning period.</li> </ul> <p>Strict RTP is controlled through an option in <code>rtp.conf</code>. </p> <h2 id=symmetric-rtp>Symmetric RTP<a class=headerlink href=#symmetric-rtp title="Permanent link">&para;</a></h2> <p>Symmetric RTP is defined in RFC 4961. It describes a local policy of sending RTP to the same IP address and port that the data was received from, no matter what address had previously been communicated to be used for media. This is mainly used for NAT traversal. Symmetric RTP is controlled by setting an RTP property.</p> <p>The <code>prop_set()</code> method on Steel Zebra needs to be updated to understand the <code>AST_RTP_PROPERTY_NAT</code> property. While this property may end up contributing additional behavior changes, for this task, the goal is to enable/disable symmetric RTP when this property is set/unset.</p> <p>Symmetric RTP consists of two parts</p> <ul> <li>A transport plugin that will record the address of received RTP/RTCP.</li> <li>A packet router that will be used to route the packets to the recorded address.</li> </ul> <h2 id=add-support-for-multiple-media-streams-on-a-session>Add support for multiple media streams on a session<a class=headerlink href=#add-support-for-multiple-media-streams-on-a-session title="Permanent link">&para;</a></h2> <p>Most changes required for supporting multiple streams will happen at the RTP session level. For this task, the easiest way to implement this is to think of the common situation of having an audio and video stream on a session. Most of the work is going to be verifying that previous tasks provided for multiple streams correctly and that there are no bugs.</p> <h4 id=verify-multiple-stream-creation-works-as-expected>Verify multiple stream creation works as expected<a class=headerlink href=#verify-multiple-stream-creation-works-as-expected title="Permanent link">&para;</a></h4> <p>When multiple RTP streams are created on a session, the first stream's creation should create the RTP session. The second stream's creation should result in looking up the already-created RTP session and simply adding the second stream to the session. This should not result in the creation of a second RTP session.</p> <h4 id=verify-multiple-stream-stopping-works-as-expected>Verify multiple stream stopping works as expected<a class=headerlink href=#verify-multiple-stream-stopping-works-as-expected title="Permanent link">&para;</a></h4> <p>When a single RTP stream is stopped, the stream should be deactivated on the session, meaning that the synchronizer no longer will take it into account when reading RTP data. Verify that if a session has multiple streams, stopping a single stream does not prevent data from being read from the other stream. Verify that once all streams are stopped that the synchronizer no longer runs.</p> <h4 id=verify-multiple-stream-destruction-works-as-expected>Verify multiple stream destruction works as expected<a class=headerlink href=#verify-multiple-stream-destruction-works-as-expected title="Permanent link">&para;</a></h4> <p>When a single RTP stream is destroyed, it should be removed from the RTP session. Ensure that destroying the first of multiple RTP streams does not result in the session being destroyed. Verify that once all streams are destroyed that the session is destroyed.</p> <h2 id=native-rtp-bridging>Native RTP bridging<a class=headerlink href=#native-rtp-bridging title="Permanent link">&para;</a></h2> <p>Native RTP bridging refers to a shortcut where received RTP packets can have their payloads directly placed into a new RTP header and sent out without incurring the overhead of the Asterisk core. The way this currently works is that the native RTP bridge technology will set pointers on the RTP instances in the native bridge so that they can know if they should short-circuit. Since we have such a well defined inflow and outflow of media, the best way to handle native bridging is to run all of the current steps for media inflow, except that instead of queuing the frame onto the channel, we instead write the frame to the bridged RTP instance. This way, the outflow works exactly the same as any other frame, and the inflow is only slightly altered.</p> <h4 id=alter-the-rtp-packet-handler>Alter the RTP Packet Handler<a class=headerlink href=#alter-the-rtp-packet-handler title="Permanent link">&para;</a></h4> <p>The RTP packet handler currently creates frames from incoming decoded RTP packets and queues them onto the channel. The RTP packet handler needs to be altered so that when the stream has a bridged RTP instance, the RTP packet handler will write the frames to the bridged RTP instance instead of queuing the frames on the channel.</p> <h1 id=srtp>SRTP<a class=headerlink href=#srtp title="Permanent link">&para;</a></h1> <h2 id=create-rtpsavp-decoder>Create RTP/SAVP decoder<a class=headerlink href=#create-rtpsavp-decoder title="Permanent link">&para;</a></h2> <p>When the RTP profile in use for a stream is RTP/SAVP, then this decoder should be used for the stream. The RTP/SAVP decoder is essentially a decorator of the RTP/AVP decoder. The RTP headers are still going to be decoded exactly the same since they are not encrypted. However, the payloads will need to be decoded differently since they require decryption. Therefore, the easiest way to write the RTP/SAVP decoder is to have it unprotect the payload, and then simply embed the RTP/AVP decoder and have it do the rest of the job.</p> <h2 id=create-rtpsavp-encoder>Create RTP/SAVP encoder<a class=headerlink href=#create-rtpsavp-encoder title="Permanent link">&para;</a></h2> <p>When the RTP profile in use for a stream is RTP/SAVP, then this encoder should be used for the stream. The RTP/SAVP encoder is essentially a decorator of the RTP/AVP encoder. The RTP headers are still going to be encoded exactly the same since they do not need to be encrypted. However, the payloads will need to be encoded differently since they will need to be encrypted. The easiest way to write the RTP/SAVP encoder is to have it use the RTP/AVP encoder to encode the data and then to have the RTP/SAVP encoder protect the data before sending the data down to the packet router.</p> <h2 id=add-srtp-setup-and-destruction-code>Add SRTP setup and destruction code<a class=headerlink href=#add-srtp-setup-and-destruction-code title="Permanent link">&para;</a></h2> <p>Unfortunately, when SRTP is set up on an RTP instance, the underlying RTP engine is not notified that this has happened. Instead, an RTP engine is supposed to detect that an SRTP policy has been set up on an RTP instance when receiving or sending traffic and adapting based on that. For us, it makes a lot of sense to know when SRTP is being applied to a stream rather than having to find out later. So the strategy here is going to be to modify the RTP engine API to allow for RTP engines to be notified when an SRTP policy has been added to an RTP instance. This way, the RTP engine can make any structural changes it deems necessary. In the case of Steel Zebra, when SRTP is set up on an RTP instance, we will switch the current encoder and decoder on the stream to be the RTP/SAVP encoder and decoder.</p> <h1 id=dtls-srtp>DTLS-SRTP<a class=headerlink href=#dtls-srtp title="Permanent link">&para;</a></h1> <h2 id=create-dtls-transport>Create DTLS transport<a class=headerlink href=#create-dtls-transport title="Permanent link">&para;</a></h2> <p>When the DTLS <code>set_configuration</code> method is called, a DTLS transport will need to be installed in place of the traditional UDP transport. This way, once a remote address has been determined for the media, a DTLS session can be set up.</p> <h2 id=create-dtls-demultiplexer>Create DTLS demultiplexer<a class=headerlink href=#create-dtls-demultiplexer title="Permanent link">&para;</a></h2> <p>On DTLS streams, you can receive either RTP/RTCP packets or DTLS packets. The demultiplexer on an RTP stream needs to be able to discern RTP packets from DTLS packets. Similarly, on an RTCP stream, the demultiplexer needs to be able to discern RTCP packets from DTLS packets. RTP and RTCP packets will go through the typical process. DTLS packets will need to be passed to something that knows what to do with DTLS packets. In our case, that currently just means handing the packet to OpenSSL and being done with it.</p> <h2 id=create-dtls-setup-and-destruction-code>Create DTLS setup and destruction code<a class=headerlink href=#create-dtls-setup-and-destruction-code title="Permanent link">&para;</a></h2> <p>Like with <code>res_rtp_asterisk</code>, Steel Zebra will need a DTLS engine. The majority of what this engine does will be very similar to what <code>res_rtp_asterisk</code> does. For the time being, focus more on getting things functional than trying to refactor the two engines into a single shared engine. The <code>set_configuration</code> method is going to be the method that sets the transport and demultiplexer into place. The <code>stop</code> method can be used to put the vanilla demultiplexer and transports back into their proper places.</p> <h1 id=ice>ICE<a class=headerlink href=#ice title="Permanent link">&para;</a></h1> <p>Ice is one of the areas that needs a great deal of improvement over the current implementation in <code>res_rtp_asterisk</code>.</p> <h2 id=create-an-intermediary-ice-layer-to-wrap-pjnath>Create an intermediary ICE layer to wrap PJNATH<a class=headerlink href=#create-an-intermediary-ice-layer-to-wrap-pjnath title="Permanent link">&para;</a></h2> <p>In anticipation of a possible switch to a different implementation of ICE than PJNATH, wrapping PJNATH in an API is a good idea. Some functions that will be required:</p> <ul> <li>Adding local candidates</li> <li>Adding remote candidates</li> <li>Performing STUN/TURN queries (both asynchronously and synchronously)</li> <li>Creating check lists</li> <li>Initiating connectivity checks</li> <li>Querying for a remote address to send media to (or alternatively providing a callback for being notified when connectivity checks have completed)</li> <li>Stopping/shutdown functions</li> <li>Methods for translating an ICE candidate into an SDP line (and vice-versa)</li> </ul> <p>The <code>pj_ice_sess</code> API from PJNATH is very good and can be used as a model for constructing our ICE API.</p> <h2 id=add-local-ice-candidate-harvesting>Add local ICE candidate harvesting<a class=headerlink href=#add-local-ice-candidate-harvesting title="Permanent link">&para;</a></h2> <p><code>res_rtp_asterisk</code> currently harvests local ICE candidates when an RTP instance is created if the <code>icesupport</code> option in <code>rtp.conf</code> is enabled. For Steel Zebra, this will be altered somewhat. Instead, the ICE engine implemented by Steel Zebra will start gathering local ICE candidates when the <code>get_local_candidates()</code> method is called. This way, we will only gather ICE candidates when demanded by the channel driver. Subsequent calls to <code>get_local_candidates()</code> may return cached candidates instead of re-learning ICE candidates.</p> <h2 id=create-an-ice-packet-router>Create an ICE packet router<a class=headerlink href=#create-an-ice-packet-router title="Permanent link">&para;</a></h2> <p>When ICE is in use, the destination for media packets depends on the results of the connectivity checks performed during negotiation. The ICE packet router will be able to get an appropriate remote address and communicate to the transport in use to use the negotiated address.</p> <h2 id=create-an-rtp-ice-engine>Create an RTP ICE engine<a class=headerlink href=#create-an-rtp-ice-engine title="Permanent link">&para;</a></h2> <p>Steel zebra needs an RTP ICE engine. Many of the calls to the ICE engine will result in direct calls to the new ICE API that was created. The RTP engine's <code>start</code> method is appropriate for installing the ICE packet router. The <code>stop</code> method can restore the old packet router.</p> <h1 id=rtpavpf>RTP/AVPF (?)<a class=headerlink href=#rtpavpf title="Permanent link">&para;</a></h1> <p>RTP/AVPF adds new kinds of RTCP packets and redefines the rules about the intervals between sending RTCP packets. <code>res_rtp_asterisk</code> currently supports RTP/AVPF in name only. There is nothing that attempts to modify the RTCP transmission interval, and there is no code to parse the new RTCP packe types defined by RFC 4585. Any work done in this section will be breaking new ground in Asterisk's support of RTP/AVPF.</p> <h2 id=create-rtpavpf-rtcp-packet-decoders>Create RTP/AVPF RTCP packet decoders.<a class=headerlink href=#create-rtpavpf-rtcp-packet-decoders title="Permanent link">&para;</a></h2> <p>Modify the table of understood RTCP packet types to include RTPFB and PSFB payload types. Currently, it will be good enough to log that these have been received in some way (such as a Stasis Event). It's better than what <code>res_rtp_asterisk</code> is currently doing.</p> <h2 id=add-feedback-sending-support>Add feedback sending support(?)<a class=headerlink href=#add-feedback-sending-support title="Permanent link">&para;</a></h2> <p>The majority of RTCP feedback defined in RFC 4585 is payload-specific and is mostly based around problems during video reception. Payload-specific feedback would have to be requested by a higher layer than the RTP stack since the RTP stack does not possess the capability to understand payload-specific information. Even transport-specific RTP feedback would need to be initiated by a higher-level construct in Asterisk since it would be responsible for knowing if any packets were missed.</p> <h1 id=trickle-ice>Trickle-ICE (?)<a class=headerlink href=#trickle-ice title="Permanent link">&para;</a></h1> <p>Trickle-ICE is a draft that modifies ICE to be able to initiate connectivity checks before all local ICE candidates have been gathered. Since it is a draft, it is unlikely that we would aim to implement this in the new RTP stack until the draft is finalized into an RFC. Using the current draft as a guide, we can get a good idea of the tasks involved in adding support for Trickle ICE</p> <h4 id=ice-state-machine-changes>ICE state machine changes<a class=headerlink href=#ice-state-machine-changes title="Permanent link">&para;</a></h4> <p>This is where the majority of changes need to take place in order to facilitate Trickle ICE. The state machine has to be updated to take into account that new local candidates can be added after connectivity checks have begun, and the state machine has to be told not to consider ICE negotiation to have failed if connectivity checks fail while local candidates are still being gathered.</p> <p>The changes to the ICE state machine would require an audit of whether making the appropriate changes to PJNATH is the way to go or if writing our own ICE implementation is the way to go. Having the ICE API as previously defined will make this sort of transition less painful if that is what we deicde to do.</p> <h4 id=rtp-glue-changes>RTP glue changes<a class=headerlink href=#rtp-glue-changes title="Permanent link">&para;</a></h4> <p>If we send an RTP offer/answer with ICE candidates and we learn of a new local ICE candidate, we have to be able to "trickle" that candidate to the remote signaling endpoint. This means implementing a new RTP glue callback that channel drivers can implement in order to send an appropriate channel technology message with the trickled candidate.</p> <h4 id=asynchronous-candidate-harvesting>Asynchronous candidate harvesting<a class=headerlink href=#asynchronous-candidate-harvesting title="Permanent link">&para;</a></h4> <p>Steel Zebra's vanilla ICE implementation will make use of synchronous calls to the ICE API to gather all local candidates at once. With trickle ICE, the calls to the ICE API will need to switch to being asynchronous so that an SDP offer/answer can be sent as soon as it is possible to do so. The most likely way this will happen is to gather host candidates synchronously and send those in the initial offer, and then trickle in server-reflexive, relay, and peer-reflexive candidates as they are learned.</p> <h1 id=bundle>BUNDLE (?)<a class=headerlink href=#bundle title="Permanent link">&para;</a></h1> <p>BUNDLE is a draft that allows for separate media streams in a media session to use a common transport, thus allowing for fewer port allocations on the host and fewer NAT headaches as well. Implementing BUNDLE has challenges since it is inherently a session-level feature, but channel drivers do not have access to an RTP stream.</p> <h4 id=add-necessary-sdp-parsing-to-channel-drivers>Add necessary SDP parsing to channel drivers<a class=headerlink href=#add-necessary-sdp-parsing-to-channel-drivers title="Permanent link">&para;</a></h4> <p>BUNDLE support requires some reinterpretation of SDP from the norm. Specifcially, if an m= line in an SDP has port 0 on it, it does not mean the same thing as it normally does. Channel drivers will need to be capable of not misinterpreting this when BUNDLE is used.</p> <h4 id=add-rtp-engine-callback-for-adding-a-stream-to-a-bundle-group>Add RTP engine callback for adding a stream to a bundle group<a class=headerlink href=#add-rtp-engine-callback-for-adding-a-stream-to-a-bundle-group title="Permanent link">&para;</a></h4> <p>The channel driver calls this function in order to add an RTP instance to a bundle group. This can be as a result of an incoming SDP offer or it can be done on an outgoing SDP offer. The method will take the media identification tag of the stream as well as some identifier for the BUNDLE group. When a Steel Zebra RTP stream is told it belongs to a BUNDLE group, it can relay this information to the RTP session, thus allowing the RTP session to be able to keep track of which RTP streams are bundled. This method will need to have the means of rejecting adding a stream to a bundle group if there are conflicting properties on the stream (such as differing transport protocols between the streams).</p> <h4 id=add-rtp-engine-callback-for-setting-a-bundle-address>Add RTP engine callback for setting a BUNDLE address<a class=headerlink href=#add-rtp-engine-callback-for-setting-a-bundle-address title="Permanent link">&para;</a></h4> <p>This is called on the RTP instance whose local address has been chosen as the BUNDLE address for the session. The RTP stream will need to communicate to the RTP session that it has been selected. The RTP session can then point the other streams in the BUNDLE group to the chosen stream's transport and packet router so they all use the same one.</p> <p>Also at this point, the RTP session will need to add a stream selection plugin to the chosen stream's decoder so that after the RTP header can be decoded and then sent to the appropriate stream for further processing. This can be a bit complicated since different streams may have different decoding steps required (e.g. an audio stream uses RTP/AVP and a video stream uses RTP/SAVPF). This means that the initial part of a decode may be performed by one decoder, but a subsequent decode step may be performed by a separate decoder. Getting this to work will sure be fun!</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Content is licensed under a Creative Commons Attribution-ShareAlike 3.0 United States License. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.asterisk.org/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg version=1.1 id=svg2 width=48 height=48 viewbox="0 0 48 48" sodipodi:docname=favicon.svg inkscape:version="1.2.2 (b0a8486541, 2022-12-01)" xmlns:inkscape=http://www.inkscape.org/namespaces/inkscape xmlns:sodipodi=http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd xmlns:xlink=http://www.w3.org/1999/xlink xmlns=http://www.w3.org/2000/svg xmlns:svg=http://www.w3.org/2000/svg> <defs id=defs6 /> <sodipodi:namedview id=namedview4 pagecolor=#ffffff bordercolor=#666666 borderopacity=1.0 inkscape:showpageshadow=2 inkscape:pageopacity=0.0 inkscape:pagecheckerboard=0 inkscape:deskcolor=#d1d1d1 showgrid=false inkscape:zoom=17.291667 inkscape:cx=24 inkscape:cy=24.028916 inkscape:current-layer=g8 /> <g inkscape:groupmode=layer inkscape:label=Image id=g8> <image width=48 height=48 preserveaspectratio=none id=image10 xlink:href="data:image/png;base64,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
"/> </g> </svg> </a> <a href=https://www.asterisk.org/blog/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="m61.7 169.4 101.5 278C92.2 413 43.3 340.2 43.3 256c0-30.9 6.6-60.1 18.4-86.6m337.9 75.9c0-26.3-9.4-44.5-17.5-58.7-10.8-17.5-20.9-32.4-20.9-49.9 0-19.6 14.8-37.8 35.7-37.8.9 0 1.8.1 2.8.2-37.9-34.7-88.3-55.9-143.7-55.9-74.3 0-139.7 38.1-177.8 95.9 5 .2 9.7.3 13.7.3 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l77.5 230.4L249.8 247l-33.1-90.8c-11.5-.7-22.3-2-22.3-2-11.5-.7-10.1-18.2 1.3-17.5 0 0 35.1 2.7 56 2.7 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l76.9 228.7 21.2-70.9c9-29.4 16-50.5 16-68.7m-139.9 29.3-63.8 185.5c19.1 5.6 39.2 8.7 60.1 8.7 24.8 0 48.5-4.3 70.6-12.1-.6-.9-1.1-1.9-1.5-2.9zm183-120.7c.9 6.8 1.4 14 1.4 21.9 0 21.6-4 45.8-16.2 76.2l-65 187.9C426.2 403 468.7 334.5 468.7 256c0-37-9.4-71.8-26-102.1M8 256a248 248 0 1 1 496 0 248 248 0 1 1-496 0m484.6 0a236.6 236.6 0 1 0-473.2 0 236.6 236.6 0 1 0 473.2 0"/></svg> </a> <a href=https://twitter.com/asteriskdev target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> <a href=https://github.com/asterisk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://community.asterisk.org target=_blank rel=noopener title=community.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.prune", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../../assets/javascripts/bundle.92b07e13.min.js></script> </body> </html>