<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.asterisk.org/Configuration/Reporting/Call-Detail-Records-CDR/CDR-Specification/ rel=canonical><link href=../ rel=prev><link href=../CDR-Variables/ rel=next><link rel=icon href=../../../../favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.19"><title>CDR Specification - Asterisk Documentation</title><link rel=stylesheet href=../../../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../material-override.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2ZKMCW9DZ9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2ZKMCW9DZ9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2ZKMCW9DZ9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#scope class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title="Asterisk Documentation" class="md-header__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../../favicon.ico alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Asterisk Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> CDR Specification </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title="Asterisk Documentation" class="md-nav__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../../favicon.ico alt=logo> </a> Asterisk Documentation </label> <div class=md-nav__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../About-the-Project/ class=md-nav__link> <span class=md-ellipsis> About the Project </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk-Community/ class=md-nav__link> <span class=md-ellipsis> Asterisk Community </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Fundamentals/ class=md-nav__link> <span class=md-ellipsis> Fundamentals </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Getting-Started/Beginning-Asterisk/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <div class="md-nav__link md-nav__container"> <a href=../../../ class="md-nav__link "> <span class=md-ellipsis> Configuration </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Core-Configuration/ class=md-nav__link> <span class=md-ellipsis> Core Configuration </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Channel-Drivers/ class=md-nav__link> <span class=md-ellipsis> Channel Drivers </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Dialplan/ class=md-nav__link> <span class=md-ellipsis> Dialplan </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Applications/ class=md-nav__link> <span class=md-ellipsis> Applications </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Functions/ class=md-nav__link> <span class=md-ellipsis> Functions </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Features/ class=md-nav__link> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Interfaces/ class=md-nav__link> <span class=md-ellipsis> Interfaces </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Reporting </span> </a> <label class="md-nav__link " for=__nav_5_9 id=__nav_5_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=true> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> Reporting </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9_2 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Call Detail Records CDR </span> </a> <label class="md-nav__link " for=__nav_5_9_2 id=__nav_5_9_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_9_2_label aria-expanded=true> <label class=md-nav__title for=__nav_5_9_2> <span class="md-nav__icon md-icon"></span> Call Detail Records CDR </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> CDR Specification </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> CDR Specification </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#scope class=md-nav__link> <span class=md-ellipsis> Scope </span> </a> </li> <li class=md-nav__item> <a href=#terminology class=md-nav__link> <span class=md-ellipsis> Terminology </span> </a> </li> <li class=md-nav__item> <a href=#cdr-overview class=md-nav__link> <span class=md-ellipsis> CDR Overview </span> </a> </li> <li class=md-nav__item> <a href=#semantics-and-syntax class=md-nav__link> <span class=md-ellipsis> Semantics and Syntax </span> </a> <nav class=md-nav aria-label="Semantics and Syntax"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-cdr-lifetime class=md-nav__link> <span class=md-ellipsis> Basic CDR Lifetime </span> </a> </li> <li class=md-nav__item> <a href=#detailed-semantics class=md-nav__link> <span class=md-ellipsis> Detailed Semantics </span> </a> <nav class=md-nav aria-label="Detailed Semantics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cdr-lifetime class=md-nav__link> <span class=md-ellipsis> CDR Lifetime </span> </a> <nav class=md-nav aria-label="CDR Lifetime"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creation class=md-nav__link> <span class=md-ellipsis> Creation </span> </a> </li> <li class=md-nav__item> <a href=#dialing-parties class=md-nav__link> <span class=md-ellipsis> Dialing Parties </span> </a> </li> <li class=md-nav__item> <a href=#bridging class=md-nav__link> <span class=md-ellipsis> Bridging </span> </a> </li> <li class=md-nav__item> <a href=#finalization class=md-nav__link> <span class=md-ellipsis> Finalization </span> </a> </li> <li class=md-nav__item> <a href=#dispatch class=md-nav__link> <span class=md-ellipsis> Dispatch </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#choosing-the-party-a-channel class=md-nav__link> <span class=md-ellipsis> Choosing the Party A channel </span> </a> </li> <li class=md-nav__item> <a href=#linkedid-propagation class=md-nav__link> <span class=md-ellipsis> LinkedID Propagation </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fields class=md-nav__link> <span class=md-ellipsis> Fields </span> </a> <nav class=md-nav aria-label=Fields> <ul class=md-nav__list> <li class=md-nav__item> <a href=#standard-fields class=md-nav__link> <span class=md-ellipsis> Standard Fields </span> </a> <nav class=md-nav aria-label="Standard Fields"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dispositions class=md-nav__link> <span class=md-ellipsis> Dispositions </span> </a> </li> <li class=md-nav__item> <a href=#ama-flags class=md-nav__link> <span class=md-ellipsis> AMA Flags </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#user-defined-fields class=md-nav__link> <span class=md-ellipsis> User Defined Fields </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scenarios class=md-nav__link> <span class=md-ellipsis> Scenarios </span> </a> <nav class=md-nav aria-label=Scenarios> <ul class=md-nav__list> <li class=md-nav__item> <a href=#unanswered-inbound-call class=md-nav__link> <span class=md-ellipsis> Unanswered "Inbound" Call </span> </a> </li> <li class=md-nav__item> <a href=#unanswered-outbound-call class=md-nav__link> <span class=md-ellipsis> Unanswered "Outbound" Call </span> </a> </li> <li class=md-nav__item> <a href=#single-party class=md-nav__link> <span class=md-ellipsis> Single Party </span> </a> </li> <li class=md-nav__item> <a href=#basic-two-party-calls class=md-nav__link> <span class=md-ellipsis> Basic Two Party Calls </span> </a> <nav class=md-nav aria-label="Basic Two Party Calls"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-call class=md-nav__link> <span class=md-ellipsis> Basic Call </span> </a> </li> <li class=md-nav__item> <a href=#unanswered-dial class=md-nav__link> <span class=md-ellipsis> Unanswered Dial </span> </a> </li> <li class=md-nav__item> <a href=#parallel-dial class=md-nav__link> <span class=md-ellipsis> Parallel Dial </span> </a> </li> <li class=md-nav__item> <a href=#call-forward class=md-nav__link> <span class=md-ellipsis> Call Forward </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#transfers class=md-nav__link> <span class=md-ellipsis> Transfers </span> </a> <nav class=md-nav aria-label=Transfers> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blind-transfer class=md-nav__link> <span class=md-ellipsis> Blind Transfer </span> </a> </li> <li class=md-nav__item> <a href=#core-attended-transfer-to-channel class=md-nav__link> <span class=md-ellipsis> Core Attended Transfer to Channel </span> </a> </li> <li class=md-nav__item> <a href=#core-attended-transfer-to-application class=md-nav__link> <span class=md-ellipsis> Core Attended Transfer to Application </span> </a> </li> <li class=md-nav__item> <a href=#sip-protocol-attended-transfer class=md-nav__link> <span class=md-ellipsis> SIP Protocol Attended Transfer </span> </a> </li> <li class=md-nav__item> <a href=#blonde-transfer class=md-nav__link> <span class=md-ellipsis> Blonde Transfer </span> </a> </li> <li class=md-nav__item> <a href=#three-way-call class=md-nav__link> <span class=md-ellipsis> Three Way Call </span> </a> </li> <li class=md-nav__item> <a href=#sip-attended-transfer class=md-nav__link> <span class=md-ellipsis> SIP Attended Transfer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local-channels class=md-nav__link> <span class=md-ellipsis> Local Channels </span> </a> <nav class=md-nav aria-label="Local Channels"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#non-optimizing-local-channels class=md-nav__link> <span class=md-ellipsis> Non-optimizing Local Channels </span> </a> <nav class=md-nav aria-label="Non-optimizing Local Channels"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#local-channel-to-an-application class=md-nav__link> <span class=md-ellipsis> Local channel to an application </span> </a> </li> <li class=md-nav__item> <a href=#local-channel-between-bridges class=md-nav__link> <span class=md-ellipsis> Local channel between bridges </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local-channel-optimization class=md-nav__link> <span class=md-ellipsis> Local Channel Optimization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#call-hold class=md-nav__link> <span class=md-ellipsis> Call Hold </span> </a> </li> <li class=md-nav__item> <a href=#call-park class=md-nav__link> <span class=md-ellipsis> Call Park </span> </a> </li> <li class=md-nav__item> <a href=#call-queues class=md-nav__link> <span class=md-ellipsis> Call Queues </span> </a> <nav class=md-nav aria-label="Call Queues"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#call-queue-example-1 class=md-nav__link> <span class=md-ellipsis> Call Queue - Example 1 </span> </a> </li> <li class=md-nav__item> <a href=#call-queue-example-2 class=md-nav__link> <span class=md-ellipsis> Call Queue - Example 2 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conference-call class=md-nav__link> <span class=md-ellipsis> Conference Call </span> </a> </li> <li class=md-nav__item> <a href=#a-complex-example class=md-nav__link> <span class=md-ellipsis> A Complex Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#asterisk-cdr-apis class=md-nav__link> <span class=md-ellipsis> Asterisk CDR APIs </span> </a> <nav class=md-nav aria-label="Asterisk CDR APIs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#applications class=md-nav__link> <span class=md-ellipsis> Applications </span> </a> <nav class=md-nav aria-label=Applications> <ul class=md-nav__list> <li class=md-nav__item> <a href=#nocdr class=md-nav__link> <span class=md-ellipsis> NoCDR </span> </a> </li> <li class=md-nav__item> <a href=#forkcdr class=md-nav__link> <span class=md-ellipsis> ForkCDR </span> </a> </li> <li class=md-nav__item> <a href=#resetcdr class=md-nav__link> <span class=md-ellipsis> ResetCDR </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cdr class=md-nav__link> <span class=md-ellipsis> CDR </span> </a> </li> <li class=md-nav__item> <a href=#cdr_prop class=md-nav__link> <span class=md-ellipsis> CDR_PROP </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-setting-the-called-party-as-party-a-of-the-cdr class=md-nav__link> <span class=md-ellipsis> Example: Setting the called party as Party A of the CDR </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general-settings class=md-nav__link> <span class=md-ellipsis> General Settings </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../CDR-Variables/ class=md-nav__link> <span class=md-ellipsis> CDR Variables </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../CDR-Storage-Backends/ class=md-nav__link> <span class=md-ellipsis> CDR Storage Backends </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Channel-Event-Logging-CEL/ class=md-nav__link> <span class=md-ellipsis> Channel Event Logging CEL </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Miscellaneous/ class=md-nav__link> <span class=md-ellipsis> Miscellaneous </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../WebRTC/ class=md-nav__link> <span class=md-ellipsis> WebRTC </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../Codec-Opus/ class=md-nav__link> <span class=md-ellipsis> Codec Opus </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Deployment/ class=md-nav__link> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Operation/ class=md-nav__link> <span class=md-ellipsis> Operation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Development/ class=md-nav__link> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Latest_API/ class=md-nav__link> <span class=md-ellipsis> Latest API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_18_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 18 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_19_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 19 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_20_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 20 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_21_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 21 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_22_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 22 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Asterisk_23_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 23 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Certified-Asterisk_18.9_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 18.9 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Certified-Asterisk_20.7_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 20.7 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Test-Suite-Documentation/ class=md-nav__link> <span class=md-ellipsis> Test Suite Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Historical-Documentation/ class=md-nav__link> <span class=md-ellipsis> Historical Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../../Contributing-to-the-Documentation/ class=md-nav__link> <span class=md-ellipsis> Contributing to the Documentation </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#scope class=md-nav__link> <span class=md-ellipsis> Scope </span> </a> </li> <li class=md-nav__item> <a href=#terminology class=md-nav__link> <span class=md-ellipsis> Terminology </span> </a> </li> <li class=md-nav__item> <a href=#cdr-overview class=md-nav__link> <span class=md-ellipsis> CDR Overview </span> </a> </li> <li class=md-nav__item> <a href=#semantics-and-syntax class=md-nav__link> <span class=md-ellipsis> Semantics and Syntax </span> </a> <nav class=md-nav aria-label="Semantics and Syntax"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-cdr-lifetime class=md-nav__link> <span class=md-ellipsis> Basic CDR Lifetime </span> </a> </li> <li class=md-nav__item> <a href=#detailed-semantics class=md-nav__link> <span class=md-ellipsis> Detailed Semantics </span> </a> <nav class=md-nav aria-label="Detailed Semantics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cdr-lifetime class=md-nav__link> <span class=md-ellipsis> CDR Lifetime </span> </a> <nav class=md-nav aria-label="CDR Lifetime"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creation class=md-nav__link> <span class=md-ellipsis> Creation </span> </a> </li> <li class=md-nav__item> <a href=#dialing-parties class=md-nav__link> <span class=md-ellipsis> Dialing Parties </span> </a> </li> <li class=md-nav__item> <a href=#bridging class=md-nav__link> <span class=md-ellipsis> Bridging </span> </a> </li> <li class=md-nav__item> <a href=#finalization class=md-nav__link> <span class=md-ellipsis> Finalization </span> </a> </li> <li class=md-nav__item> <a href=#dispatch class=md-nav__link> <span class=md-ellipsis> Dispatch </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#choosing-the-party-a-channel class=md-nav__link> <span class=md-ellipsis> Choosing the Party A channel </span> </a> </li> <li class=md-nav__item> <a href=#linkedid-propagation class=md-nav__link> <span class=md-ellipsis> LinkedID Propagation </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fields class=md-nav__link> <span class=md-ellipsis> Fields </span> </a> <nav class=md-nav aria-label=Fields> <ul class=md-nav__list> <li class=md-nav__item> <a href=#standard-fields class=md-nav__link> <span class=md-ellipsis> Standard Fields </span> </a> <nav class=md-nav aria-label="Standard Fields"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dispositions class=md-nav__link> <span class=md-ellipsis> Dispositions </span> </a> </li> <li class=md-nav__item> <a href=#ama-flags class=md-nav__link> <span class=md-ellipsis> AMA Flags </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#user-defined-fields class=md-nav__link> <span class=md-ellipsis> User Defined Fields </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scenarios class=md-nav__link> <span class=md-ellipsis> Scenarios </span> </a> <nav class=md-nav aria-label=Scenarios> <ul class=md-nav__list> <li class=md-nav__item> <a href=#unanswered-inbound-call class=md-nav__link> <span class=md-ellipsis> Unanswered "Inbound" Call </span> </a> </li> <li class=md-nav__item> <a href=#unanswered-outbound-call class=md-nav__link> <span class=md-ellipsis> Unanswered "Outbound" Call </span> </a> </li> <li class=md-nav__item> <a href=#single-party class=md-nav__link> <span class=md-ellipsis> Single Party </span> </a> </li> <li class=md-nav__item> <a href=#basic-two-party-calls class=md-nav__link> <span class=md-ellipsis> Basic Two Party Calls </span> </a> <nav class=md-nav aria-label="Basic Two Party Calls"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-call class=md-nav__link> <span class=md-ellipsis> Basic Call </span> </a> </li> <li class=md-nav__item> <a href=#unanswered-dial class=md-nav__link> <span class=md-ellipsis> Unanswered Dial </span> </a> </li> <li class=md-nav__item> <a href=#parallel-dial class=md-nav__link> <span class=md-ellipsis> Parallel Dial </span> </a> </li> <li class=md-nav__item> <a href=#call-forward class=md-nav__link> <span class=md-ellipsis> Call Forward </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#transfers class=md-nav__link> <span class=md-ellipsis> Transfers </span> </a> <nav class=md-nav aria-label=Transfers> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blind-transfer class=md-nav__link> <span class=md-ellipsis> Blind Transfer </span> </a> </li> <li class=md-nav__item> <a href=#core-attended-transfer-to-channel class=md-nav__link> <span class=md-ellipsis> Core Attended Transfer to Channel </span> </a> </li> <li class=md-nav__item> <a href=#core-attended-transfer-to-application class=md-nav__link> <span class=md-ellipsis> Core Attended Transfer to Application </span> </a> </li> <li class=md-nav__item> <a href=#sip-protocol-attended-transfer class=md-nav__link> <span class=md-ellipsis> SIP Protocol Attended Transfer </span> </a> </li> <li class=md-nav__item> <a href=#blonde-transfer class=md-nav__link> <span class=md-ellipsis> Blonde Transfer </span> </a> </li> <li class=md-nav__item> <a href=#three-way-call class=md-nav__link> <span class=md-ellipsis> Three Way Call </span> </a> </li> <li class=md-nav__item> <a href=#sip-attended-transfer class=md-nav__link> <span class=md-ellipsis> SIP Attended Transfer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local-channels class=md-nav__link> <span class=md-ellipsis> Local Channels </span> </a> <nav class=md-nav aria-label="Local Channels"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#non-optimizing-local-channels class=md-nav__link> <span class=md-ellipsis> Non-optimizing Local Channels </span> </a> <nav class=md-nav aria-label="Non-optimizing Local Channels"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#local-channel-to-an-application class=md-nav__link> <span class=md-ellipsis> Local channel to an application </span> </a> </li> <li class=md-nav__item> <a href=#local-channel-between-bridges class=md-nav__link> <span class=md-ellipsis> Local channel between bridges </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local-channel-optimization class=md-nav__link> <span class=md-ellipsis> Local Channel Optimization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#call-hold class=md-nav__link> <span class=md-ellipsis> Call Hold </span> </a> </li> <li class=md-nav__item> <a href=#call-park class=md-nav__link> <span class=md-ellipsis> Call Park </span> </a> </li> <li class=md-nav__item> <a href=#call-queues class=md-nav__link> <span class=md-ellipsis> Call Queues </span> </a> <nav class=md-nav aria-label="Call Queues"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#call-queue-example-1 class=md-nav__link> <span class=md-ellipsis> Call Queue - Example 1 </span> </a> </li> <li class=md-nav__item> <a href=#call-queue-example-2 class=md-nav__link> <span class=md-ellipsis> Call Queue - Example 2 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conference-call class=md-nav__link> <span class=md-ellipsis> Conference Call </span> </a> </li> <li class=md-nav__item> <a href=#a-complex-example class=md-nav__link> <span class=md-ellipsis> A Complex Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#asterisk-cdr-apis class=md-nav__link> <span class=md-ellipsis> Asterisk CDR APIs </span> </a> <nav class=md-nav aria-label="Asterisk CDR APIs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#applications class=md-nav__link> <span class=md-ellipsis> Applications </span> </a> <nav class=md-nav aria-label=Applications> <ul class=md-nav__list> <li class=md-nav__item> <a href=#nocdr class=md-nav__link> <span class=md-ellipsis> NoCDR </span> </a> </li> <li class=md-nav__item> <a href=#forkcdr class=md-nav__link> <span class=md-ellipsis> ForkCDR </span> </a> </li> <li class=md-nav__item> <a href=#resetcdr class=md-nav__link> <span class=md-ellipsis> ResetCDR </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cdr class=md-nav__link> <span class=md-ellipsis> CDR </span> </a> </li> <li class=md-nav__item> <a href=#cdr_prop class=md-nav__link> <span class=md-ellipsis> CDR_PROP </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-setting-the-called-party-as-party-a-of-the-cdr class=md-nav__link> <span class=md-ellipsis> Example: Setting the called party as Party A of the CDR </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general-settings class=md-nav__link> <span class=md-ellipsis> General Settings </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>CDR Specification</h1> <p>Call Detail Records, or CDRs, have been around in Asterisk for a long, long time. In fact, portions of it were taken from the <code>Zapata</code> library, as noted in <code>cdr.c</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a> *
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a> * \note Includes code and algorithms from the Zapata library.
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a> *
</span></code></pre></div> <p>CDRs have always attempted to provide the billing information between two parties involved in a call. While their simplicity has been a big advantage in quickly deploying a billing system, it has also been their largest disadvantage when trying to express complex scenarios. As Asterisk evolved and adapted to more complex scenarios, it became difficult to express the full details of a call within a single CDR. Compounding this problem, the way in which bridging was performed in Asterisk made call scenarios involving more than two parties incredibly difficult to track and coalesce into one or more CDRs. Numerous attempts were made to address the various problems in CDRs with varying degrees of success.</p> <p>In Asterisk 12, changes in the bridging architecture necessitated a substantial upgrade to CDR behavior. The largest changes were:</p> <ul> <li>Individual components in Asterisk no longer modify CDRs directly. CDRs are produced based on the state of the channels and bridges within Asterisk. As a result, there is a much greater degree of consistency in CDRs throughout Asterisk, regardless of the application channels happen to be executing in.</li> <li>The behavior of CDRs between multiple parties is now defined.</li> <li>Depending on how channels are dialed and bridged, multiple CDRs will be created for a given call. Post-processing of these records <strong>will</strong> be required to determine the overall statistics of the call.</li> </ul> <p>It is important to note that in Asterisk 1.8, Channel Event Logging (CEL) was introduced as an alternative to CDRs. Unlike CDRs, where a relatively few records are produced for a call, CEL provides a sequence of events regarding the state of channels within Asterisk. CELs provide substantially more information about what is occurring to the channels involved in a call, thus allowing an Asterisk user to construct their own billing system by handling the events as they choose. While CEL will never supplant CDRs, they are an option if CDRs do not provide the billing information you need or in the format you require. While improvements have been made and some complex scenarios defined in this specification, the fact that CEL can provide a more robust billing system is still true as of Asterisk 12.</p> <p>Asterisk Users moving from Asterisk 11 and earlier to later versions are highly encouraged to read this specification carefully.</p> <h2 id=scope>Scope<a class=headerlink href=#scope title="Permanent link">&para;</a></h2> <p>This CDR specification applies to Asterisk 12 and later. It does not cover CDRs in prior versions of Asterisk.</p> <p>Note that this does not include a comprehensive analysis as to how CDRs can be produced in all call scenarios in Asterisk. It defines the behavior for common scenarios, but certain scenarios are deliberately left unspecified. The behavior of CDRs in said scenarios is <strong>undefined and is not a bug.</strong></p> <p>It is known that the behavior of CDRs will not allow all applications to capture the billing requirements for their systems. If CDRs cannot meet the requirements of your application, <a href=/Configuration/Reporting/Channel-Event-Logging-CEL>Channel Event Logging</a> (CEL) provides call information at a much finer granularity, allowing complex billing systems to be constructed. Please see the <a href=/Configuration/Reporting/Channel-Event-Logging-CEL/CEL-Specification>Asterisk CEL Specification</a> for more information on CEL.</p> <h2 id=terminology>Terminology<a class=headerlink href=#terminology title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>Term</th> <th>Definition</th> </tr> </thead> <tbody> <tr> <td>CDR</td> <td>Call Detail Record. The thing that this document is attempting to describe.</td> </tr> <tr> <td>CEL</td> <td>Channel Event Logging. An alternative way to get billing information from Asterisk, that is significantly more flexible and powerful than CDRs but requires the billing logic to be completely implemented by the user.</td> </tr> <tr> <td>Party A</td> <td>A CDR always involves two parties. One party is always chosen as the 'owner' of the CDR. The CDR reflects the view of the call from that party.</td> </tr> <tr> <td>Party B</td> <td>A CDR always involves two parties. Party B is the target of the call.</td> </tr> <tr> <td>Stasis</td> <td>Stasis is the internal message bus in Asterisk that conveys state to the CDR engine.</td> </tr> <tr> <td>Unanswered</td> <td>A CDR is unanswered if its disposition indicates neither ANSWERED or CONGESTION.</td> </tr> </tbody> </table> <h2 id=cdr-overview>CDR Overview<a class=headerlink href=#cdr-overview title="Permanent link">&para;</a></h2> <p>A CDR is a record of communication between one or two parties. As such, a single CDR always addresses the communication between two parties: a Party A and a Party B. The CDR reflects the view of the call from the perspective of Party A, while Party B is the party that Party A is communicating with. Each CDR includes the following times:</p> <ul> <li>Start time - the time at which the CDR was created for Party A</li> <li>Answer time - the time at which Party A and Party B could begin communicating</li> <li>End time - the time at which Party A and Party B could no longer communicate</li> </ul> <p>From these times, two durations are computed:</p> <ul> <li>Duration - the End time minus the Start time.</li> <li>Billsec - the End time minus the Answer time. (Whether or not you actually bill for this period of time is up to you)</li> </ul> <p>A single CDR only tracks information about a single path of communication between two endpoints. In many scenarios, there will be multiple paths of communication between multiple parties, even in a single "call". Each path of communication results in a new CDR, each representing the communication between two endpoints. All of the CDRs involved are associated by virtue of a special linked identifier field, <code>linkedid</code>. The CDRs themselves, however, typically do <strong>not</strong> aggregate the time between records. It is up to billing systems to determine which CDRs should be used for their billing records, and add up the times/durations themselves.</p> <h2 id=semantics-and-syntax>Semantics and Syntax<a class=headerlink href=#semantics-and-syntax title="Permanent link">&para;</a></h2> <h3 id=basic-cdr-lifetime>Basic CDR Lifetime<a class=headerlink href=#basic-cdr-lifetime title="Permanent link">&para;</a></h3> <p>Fundamentally, a CDR represents a path of communication between a channel and Asterisk or between two channels communicating through Asterisk. Those relationships can be broken down into the following states:</p> <ul> <li>Single - a channel is executing dialplan in Asterisk or otherwise has no relationship with any other channel. This is the default state of a CDR.</li> <li>Dial - a channel is involved in a dial operation - either as a caller or as the callee. If they are the caller, they are automatically the Party A in the CDR. If they are the callee, they are automatically the Party B if there is a caller. If there is no caller - as is the case in channel origination - they are the Party A and there is no Party B.</li> <li>Bridge - two channels share a bridge in which they can potentially talk to each other.</li> <li>Finalized - the channel and Asterisk can no longer communicate or the relationship between the two channels has been broken. At this point, the last state of the channels involved is locked in the CDR.</li> <li>Dispatched - the CDR has been written to the backend storages.</li> </ul> <p>When possible, Asterisk attempts to reuse a CDR. Thus a single CDR can transition through all of the above states. However, once a relationship is established between a Party A and a Party B, the CDR <strong>cannot</strong> be reused. The CDR will be finalized when the relationship between channels is broken and a new CDR created for any channel that is not hung up.</p> <p><img alt="CDR Lifetime" src=../CDR-Lifetime.png></p> <p>When a channel is created, a CDR is created for that channel. The channel is automatically the Party A of that CDR. The CDR is considered to be in the <strong>Single</strong> state while the channel executes dialplan or is waiting to be associated with another channel.</p> <p>If a channel dials another channel, the CDR for that channel is transitioned to the <strong>Dial</strong> state. If the dial operation completes successfully and the channels are bridged together, the CDR transitions to the <strong>Bridged</strong> state. If the dial operation fails, the CDR transitions to the <strong>Finalized</strong> state. If the caller continues on in the dialplan, a new CDR is generated for them.</p> <p>While the channels are bridged together, the CDR remains in the <strong>Bridged</strong> state. Operations that restrict media flow, such as call hold, are not reflected in CDRs. When the bridge is broken - either because one of the parties hangs up or a party is transferred - the CDR transitions to the <strong>Finalized</strong> state and any non-hungup channels have a new CDR created for them.</p> <p>When a channel hangs up, all CDRs associated with it are implicitly finalized. When all CDRs for a channel are finalized, the CDRs are <strong>Dispatched</strong> to the backends for storage.</p> <h3 id=detailed-semantics>Detailed Semantics<a class=headerlink href=#detailed-semantics title="Permanent link">&para;</a></h3> <h4 id=cdr-lifetime>CDR Lifetime<a class=headerlink href=#cdr-lifetime title="Permanent link">&para;</a></h4> <h5 id=creation>Creation<a class=headerlink href=#creation title="Permanent link">&para;</a></h5> <p>A CDR record is created in any one of the following situations:</p> <ul> <li>Whenever a channel is created.</li> <li>Whenever a channel leaves a bridge and is not hung up.</li> <li>When a CDR is forked from a prior record.</li> <li>When a channel enters a multi-party bridge.</li> <li>When a channel <a href=#dialing-parties>dials more than one channel</a>.</li> </ul> <p>When it is created, a CDR inherits the <code>uniqueid</code> and <code>linkedid</code> from its Party A channel, and a new <code>sequence</code> number is generated. When created as a result of a dial operation, the channel acting as the caller is always the Party A.</p> <h5 id=dialing-parties>Dialing Parties<a class=headerlink href=#dialing-parties title="Permanent link">&para;</a></h5> <p>When a channel is known to dial other channels, a CDR is created for each dial attempt. The dial status is recorded for each dial attempt as a <a href=#dispositions>CDR Disposition</a>. Note that not all dial attempts may be dispatched depending on the CDR configuration. The caller is always the Party A in the created CDRs.</p> <h5 id=bridging>Bridging<a class=headerlink href=#bridging title="Permanent link">&para;</a></h5> <p>If a channel is bridged with another channel, the following procedure is performed:</p> <ul> <li>The CDR is marked as having entered a bridge. If there is no other channel in the bridge, the CDR waits for another channel to join.</li> <li>For each pairing of channels, the channels are compared to determine which is the Party A channel and which is the Party B channel. (See <a href=#choosing-the-party-a-channel>Choosing the Party A channel</a>).<ul> <li>If the channel entering the bridge is the Party A, the CDR has a Party B, and the channel it is bridged with is the Party B, the CDR continues.</li> <li>If the channel entering the bridge is the Party A, the CDR has a Party B, and the channel is not already the Party B, the current CDR is finalized and a new CDR is created for the relationship between the two parties. Note that the original CDR will be re-activated if the existing Party B enters the bridge.</li> <li>If the channel entering the bridge is the Party A, the CDR has no Party B, then the channel it is bridged with becomes the Party B.</li> <li>If the channel entering the bridge is the Party B, the other channel has a CDR with no Party B, this channel becomes the Party B and the existing CDR is finalized.</li> <li>If the channel entering the bridge is the Party B, the other channel has a CDR with a Party B, and this channel is that CDR's Party B, then the existing CDR is finalized and the other channel's CDR activated.</li> <li>If the channel entering the bridge is the Party B, the other channel has a CDR with a Party B, and this channel is not that CDR's Party B, then the existing CDR is finalized and a new CDR is created for that other channel with this channel as the Party B.</li> </ul> </li> <li>If a third party joins the bridge with Party A and Party B, the process <a href=#choosing-the-party-a-channel>Choosing the Party A channel</a> is repeated for each pairing of channels. Thus, in a three-way call there will be three CDR records; in a four-way call there will be six records, etc.</li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>This feels complex, but there's really two rules going on here:</p> <ol type=1> <li>Keep using the existing CDR for a channel as long as possible</li> <li>Make CDRs for all pairings of channels in a bridge</li> </ol> </div> <h5 id=finalization>Finalization<a class=headerlink href=#finalization title="Permanent link">&para;</a></h5> <p>A CDR is finalized in one of the following scenarios:</p> <ul> <li>If in a dial, the dial operation completes with a status other than ANSWER</li> <li>If in a bridge, either party A or party B leaves the bridge</li> <li>Either channel in a CDR hangs up</li> <li>The CDR is forked and the forking operation instructs that the CDR should be finalized</li> </ul> <p>When a CDR is finalized, no further modifications can be made to the CDR by the user or Asterisk.</p> <p>If a Party A channel in a CDR is not hung up but the CDR is finalized - such as when the channel leaves a bridge of its Party B hangs up - a new CDR is made for that channel and the process in <a href=#creation>CDR Creation</a> is begun again. Note that if the Party B in a CDR continues on in the dialplan and/or is bridged with a new party, it may become Party A for a new CDR.</p> <p>If at any point the Party A channel for a CDR is hung up, all CDR records for that Party A are <a href=#dispatch>dispatched</a>.</p> <h5 id=dispatch>Dispatch<a class=headerlink href=#dispatch title="Permanent link">&para;</a></h5> <p>When a CDR is dispatched, all CDRs associated with the channel are committed to permanent storage. The CDRs at this point are removed from memory.</p> <h4 id=choosing-the-party-a-channel>Choosing the Party A channel<a class=headerlink href=#choosing-the-party-a-channel title="Permanent link">&para;</a></h4> <p>Asterisk does not have the concept of "internal" versus "external" devices. As such, what constitutes the Party A channel is highly dependent on a particular system configuration which is outside the control of the CDR system. As such, choosing a Party A uses the following rules:</p> <ol type=1> <li>If the channel was dialed (but not originated), the channel is always Party B.</li> <li>If one of the two channels has the <code>party_a</code> flag set, then that channel is chosen as the Party A.</li> <li>If neither or both channels have the <code>party_A</code> flag, the channel with the oldest creation time is chosen as the Party A.</li> </ol> <p>The <code>party_A</code> flag may be set using the <a href=/Latest_API/API_Documentation/Dialplan_Functions/CDR>CDR function</a>.</p> <h4 id=linkedid-propagation>LinkedID Propagation<a class=headerlink href=#linkedid-propagation title="Permanent link">&para;</a></h4> <p>When two channels are bridged, the <code>linkedid</code> property for the channels is updated. The channel with the oldest <code>linkedid</code> "wins", and the other channel's <code>linkedid</code> is replaced. This creates an association between the channels that lasts even if the bridge is broken at a latter time.</p> <p>Note that dialed channels automatically receive the <code>linkedid</code> of the calling channel.</p> <h2 id=fields>Fields<a class=headerlink href=#fields title="Permanent link">&para;</a></h2> <h3 id=standard-fields>Standard Fields<a class=headerlink href=#standard-fields title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Field</th> <th>Type</th> <th>Description</th> <th>Access</th> </tr> </thead> <tbody> <tr> <td>accountcode</td> <td>String (20)</td> <td>An account code associated with the Party A channel</td> <td>r/w</td> </tr> <tr> <td>src</td> <td>String (80)</td> <td>The Caller ID Number</td> <td>r</td> </tr> <tr> <td>dst</td> <td>String (80)</td> <td>The destination extension</td> <td>r</td> </tr> <tr> <td>dcontext</td> <td>String (80)</td> <td>The destination context</td> <td>r</td> </tr> <tr> <td>clid</td> <td>String (80)</td> <td>The Caller ID with text</td> <td>r</td> </tr> <tr> <td>channel</td> <td>String (80)</td> <td>The name of the Party A channel</td> <td>r</td> </tr> <tr> <td>dstchannel</td> <td>String (80)</td> <td>The name of the Party B channel</td> <td>r</td> </tr> <tr> <td>lastapp</td> <td>String (80)</td> <td>The last application the Party A channel executed</td> <td>r</td> </tr> <tr> <td>lastdata</td> <td>String (80)</td> <td>The application data for the last application the Party A channel executed</td> <td>r</td> </tr> <tr> <td>start</td> <td>Date/time</td> <td>The time the CDR was created</td> <td>r</td> </tr> <tr> <td>answer</td> <td>Date/time</td> <td>The time when Party A was answered, or when the bridge between Party A and Party B was created</td> <td>r</td> </tr> <tr> <td>end</td> <td>Date/time</td> <td>The time when the CDR was finished. This occurs when either party hangs up, or when the bridge between the parties is broken</td> <td>r</td> </tr> <tr> <td>duration</td> <td>Integer</td> <td>The time in seconds from start until end</td> <td>r</td> </tr> <tr> <td>billsec</td> <td>Integer</td> <td>The time in seconds from answer until end</td> <td>r</td> </tr> <tr> <td>disposition</td> <td>Enum</td> <td>The final known disposition of the CDR record. See <a href=#dispositions>CDR dispositions</a> for possible values</td> <td>r</td> </tr> <tr> <td>amaflags</td> <td>Enum</td> <td>A flag specified on the Party A channel. See AMA records for possible values</td> <td>r/w</td> </tr> <tr> <td>userfield</td> <td>String (255)</td> <td>A user defined field set on the channels. If set on both the Party A and Party B channel, the userfields of both are concatenated and separated by a <code>;</code></td> <td>r/w</td> </tr> <tr> <td>uniqueid</td> <td>String (32)</td> <td>A unique identifier for the Party A channel</td> <td>r</td> </tr> <tr> <td>linkedid</td> <td>String (32)</td> <td>A unique identifier that unites multiple CDR records. See <a href=#linkedid-propagation>linkedid propagation</a> for more details</td> <td>r</td> </tr> <tr> <td>peeraccount</td> <td>String (80)</td> <td>The account code of the Party B channel</td> <td>r/w</td> </tr> <tr> <td>sequence</td> <td>Integer</td> <td>A numeric value that, combined with uniqueid and linkedid, can be used to uniquely identify a single CDR record</td> <td>r</td> </tr> </tbody> </table> <p>Any of the values may be accessed using the <a href=/Latest_API/API_Documentation/Dialplan_Functions/CDR>CDR function</a>. Any value that is read/write may be modified using this same function. CDR field values cannot be modified once the CDR is finalized.</p> <h4 id=dispositions>Dispositions<a class=headerlink href=#dispositions title="Permanent link">&para;</a></h4> <p>Dispositions represent the final state of the call from the perspective of Party A.</p> <table> <thead> <tr> <th>Value</th> <th>Description</th> <th><a href=/Configuration/Miscellaneous/Hangup-Cause-Mappings>Hangup Cause Mapping</a></th> <th>Dial Status Mapping</th> </tr> </thead> <tbody> <tr> <td>NO ANSWER</td> <td>The channel was never answered. This is the default disposition for an unanswered channel.</td> <td>Any not explicitly listed</td> <td>CANCEL<br>NOANSWER</td> </tr> <tr> <td>CONGESTION</td> <td>The channel dialed something that was congested.</td> <td><code>AST_CAUSE_CONGESTION</code></td> <td>CONGESTION</td> </tr> <tr> <td>FAILED</td> <td>The channel attempted to dial but the call failed.<br>NOTE: The <code>congestion</code> setting in <code>cdr.conf</code> can result in the <code>AST_CAUSE_CONGESTION</code> hang up cause or the CONGESTION dial status to map to this disposition.</td> <td><code>AST_CAUSE_CONGESTION</code><br><code>AST_CAUSE_NO_ROUTE_DESTINATION</code><br><code>AST_CAUSE_UNREGISTERED</code></td> <td>CONGESTION<br>FAILED</td> </tr> <tr> <td>BUSY</td> <td>The channel attempted to dial but the remote party was busy.</td> <td><code>AST_CAUSE_BUSY</code></td> <td>BUSY</td> </tr> <tr> <td>ANSWERED</td> <td>The channel was answered. When the channel is answered, the hangup cause no longer changes the disposition.</td> <td>Any not explicitly listed</td> <td>ANSWER</td> </tr> </tbody> </table> <h4 id=ama-flags>AMA Flags<a class=headerlink href=#ama-flags title="Permanent link">&para;</a></h4> <p>AMA Flags are set on a channel and are conveyed in the CDR. They inform billing systems how to treat the particular CDR. Asterisk provides no additional semantics regarding these flags - they are present simply to help external systems classify CDRs.</p> <ul> <li>OMIT</li> <li>BILLING</li> <li>DOCUMENTATION</li> </ul> <h3 id=user-defined-fields>User Defined Fields<a class=headerlink href=#user-defined-fields title="Permanent link">&para;</a></h3> <p>Any CDR record may have user defined fields associated with it. Fields can be added to either the Party A or Party B channel. Note that not all CDR backends support user defined fields; in those cases the user field is simply dropped when the CDR is dispatched to the backend.</p> <p>If a Party A channel and a Party B channel both contain a field with the same key, only the Party A channel's field will be written to the CDR.</p> <p>User defined CDR fields are created using the <a href=/Latest_API/API_Documentation/Dialplan_Functions/CDR>CDR function</a>, and read using the same function.</p> <h2 id=scenarios>Scenarios<a class=headerlink href=#scenarios title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Scenario Caveats</p> <p>The following scenarios show examples of CDRs created in common use cases. If a particular scenario is not shown below, the CDRs created during the scenario should still match the behavior described previously. Some applications, however, may have undefined behavior as their use is not common or the mechanism by which they manipulate channels does not allow for the capturing of the channel state. </p> <p>Undefined behavior means that the behavior of CDRs in those cases is unsupported and will not be addressed as a bug.</p> </div> <h3 id=unanswered-inbound-call>Unanswered "Inbound" Call<a class=headerlink href=#unanswered-inbound-call title="Permanent link">&para;</a></h3> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Unanswered calls may not always be logged to CDR backends if the configuration has explicitly disabled unanswered calls.</p> </div> <p>Alice calls into Asterisk at extension 500 using a SIP phone and, during dialplan execution of a NoOp(), hangs up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>500</td> <td>default</td> <td>SIP/alice-00000000</td> <td></td> <td>NoOp</td> <td></td> <td>2013-03-04 13:11:18</td> <td></td> <td>2013-03-04 13:11:20</td> <td>2</td> <td>0</td> <td>NO ANSWER</td> <td>DOCUMENTATION</td> <td>100</td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>34</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h3 id=unanswered-outbound-call>Unanswered "Outbound" Call<a class=headerlink href=#unanswered-outbound-call title="Permanent link">&para;</a></h3> <p>Asterisk creates a call file to dial Alice and playback tt-monkeys to her. Alice, anticipating the screeching of howler monkeys, never picks up the phone.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td></td> <td></td> <td>s</td> <td>default</td> <td>SIP/alice-00000000</td> <td></td> <td>AppDial</td> <td>SIP/Alice</td> <td>2013-03-04 13:11:18</td> <td></td> <td>2013-03-04 13:11:20</td> <td>2</td> <td>0</td> <td>NO ANSWER</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>4</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h3 id=single-party>Single Party<a class=headerlink href=#single-party title="Permanent link">&para;</a></h3> <p>Alice calls into Asterisk's VoiceMailMain application. This implicitly Answers the channel. She checks her voicemail for awhile, then hangs up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>8500</td> <td>default</td> <td>SIP/alice-00000000</td> <td></td> <td>Hangup</td> <td></td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:20</td> <td>2013-03-04 13:12:18</td> <td>60</td> <td>58</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td>100</td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>112</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h3 id=basic-two-party-calls>Basic Two Party Calls<a class=headerlink href=#basic-two-party-calls title="Permanent link">&para;</a></h3> <p>Two party calls can be initiated in a variety of ways. Several of the more common ways are illustrated here.</p> <h4 id=basic-call>Basic Call<a class=headerlink href=#basic-call title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob. Bob Answers, and a bridge is formed between Alice and Bob. Alice and Bob talk for awhile, then Bob hangs up. This breaks the bridge between Alice and Bob, and Alice is hung up on as well.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:26</td> <td>2013-03-04 13:13:18</td> <td>120</td> <td>112</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>12</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h4 id=unanswered-dial>Unanswered Dial<a class=headerlink href=#unanswered-dial title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob. Bob refuses to pick up his phone, and the call eventually times out.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,10,Tt</td> <td>2013-03-04 13:11:18</td> <td></td> <td>2013-03-04 13:11:28</td> <td>10</td> <td>0</td> <td>NO ANSWER</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>1</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h4 id=parallel-dial>Parallel Dial<a class=headerlink href=#parallel-dial title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob's SIP desk phone as well as his IAX2 soft phone. Both ring for awhile, and Bob eventually presses the Answer button on his IAX2 soft phone.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob&amp;IAX2/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td></td> <td>2013-03-04 13:11:28</td> <td>10</td> <td>0</td> <td>NO ANSWER</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>12</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>IAX2/bob-00000000</td> <td>Dial</td> <td>SIP/bob&amp;IAX2/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:12:28</td> <td>70</td> <td>60</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>13</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h4 id=call-forward>Call Forward<a class=headerlink href=#call-forward title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob's SIP desk phone. Bob is on vacation, and the SIP phone returns a "302" and redirects Asterisk to dial his SIP mobile.</p> <h3 id=transfers>Transfers<a class=headerlink href=#transfers title="Permanent link">&para;</a></h3> <p>Transfers create multiple CDRs. In general, a CDR is created for each path of communication between two endpoints. Note that Asterisk does <strong>not</strong> attempt to compute the total duration or billing time of any of the various channels involved - it is up to the businesses consuming CDRs to know whether or not the amount of time they want to bill a party includes the transfer, the time spent dialing another party, consultation time, etc.</p> <h4 id=blind-transfer>Blind Transfer<a class=headerlink href=#blind-transfer title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to send Alice off to Charlie, and he blind transfers Alice to Charlie's extension. Asterisk dials Charlie's SIP phone, and Charlie answers. Alice and Charlie talk for awhile until Alice decides to hang up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:11:48</td> <td>30</td> <td>20</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>101</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>300</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000002</td> <td>Dial</td> <td>SIP/charlie,,Tt</td> <td>2013-03-04 13:11:48</td> <td>2013-03-04 13:11:53</td> <td>2013-03-04 13:12:53</td> <td>65</td> <td>60</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>102</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h4 id=core-attended-transfer-to-channel>Core Attended Transfer to Channel<a class=headerlink href=#core-attended-transfer-to-channel title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to send Alice off to Charlie, and he initiates an attended transfer. Alice is put on hold, and Bob dials Charlie's extension. Asterisk dials Charlie's SIP phone, and Charlie answers. Bob and Charlie talk for a bit, and Charlie agrees to talk to Alice. Bob completes the attended transfer, Alice is taken off hold, and Alice and Charlie are bridged. Alice talks to Charlie for awhile, then hangs up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:12:18</td> <td>60</td> <td>50</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>101</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Bob &lt;200&gt;"</td> <td>200</td> <td>300</td> <td>default</td> <td>SIP/bob-00000001</td> <td>SIP/charlie-00000002</td> <td>Dial</td> <td>SIP/charlie,,Tt</td> <td>2013-03-04 13:11:48</td> <td>2013-03-04 13:11:53</td> <td>2013-03-04 13:12:18</td> <td>30</td> <td>26</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.1</td> <td></td> <td>102</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>300</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000002</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:12:18</td> <td>2013-03-04 13:12:18</td> <td>2013-03-04 13:12:53</td> <td>45</td> <td>45</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>103</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In the example above, note the following:</p> <ul> <li>Hold time is not reflected in CDRs.</li> <li>When Bob dials Charlie, he becomes the Party A channel. However, the <code>linkedid</code> from Alice 'wins', and so the CDR reflects the <code>linkedid</code> from Alice's CDR.</li> <li>Alice and Charlie are bridged automatically by the attended transfer, so their start and answer times are identical.</li> <li>The billsec/duration of Alice and Charlie are reflective of their portion of the call, and do not include the times from Alice and Bob.</li> </ul> </div> <h4 id=core-attended-transfer-to-application>Core Attended Transfer to Application<a class=headerlink href=#core-attended-transfer-to-application title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to send Alice off into Charlie's voicemail mailbox, and he initiates an attended transfer. Alice is put on hold, and Bob dials an extension that calls into VoiceMail. Bob enters in the Charlie's voicemail mailbox number, then completes the attended transfer to put Alice into the voicemail mailbox. Alice records some voicemail, then hangs up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:12:18</td> <td>60</td> <td>50</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>101</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Bob &lt;200&gt;"</td> <td>200</td> <td>8500</td> <td>default</td> <td>SIP/bob-00000001</td> <td></td> <td>VoiceMail</td> <td>300</td> <td>2013-03-04 13:11:48</td> <td>2013-03-04 13:11:49</td> <td>2013-03-04 13:12:18</td> <td>30</td> <td>29</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.1</td> <td></td> <td>102</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>8500</td> <td>default</td> <td>SIP/alice-00000000</td> <td></td> <td>VoiceMail</td> <td>300</td> <td>2013-03-04 13:12:18</td> <td>2013-03-04 13:12:18</td> <td>2013-03-04 13:13:18</td> <td>60</td> <td>60</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>103</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h4 id=sip-protocol-attended-transfer>SIP Protocol Attended Transfer<a class=headerlink href=#sip-protocol-attended-transfer title="Permanent link">&para;</a></h4> <p>In a SIP protocol attended transfer, two independent channels make up the transferer. As the two channels are independent of each other, correlation of the two channels cannot be done by <code>linkedid</code> / <code>uniqueid</code> / <code>sequence</code> numbers. The records generally have to be correlated using other properties, such as the prefix of the channel names and/or the <code>accountcode</code> settings.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-04-13:12:08</td> <td>50</td> <td>40</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td>Alice</td> <td>Bob</td> <td>Asterisk-01-13624276.2</td> <td></td> <td>101</td> <td>Asterisk-01-13624276.2</td> </tr> <tr> <td>"Bob &lt;200&gt;"</td> <td>200</td> <td>300</td> <td>default</td> <td>SIP/bob-00000002</td> <td>SIP/charlie-00000003</td> <td>Dial</td> <td>SIP/charlie,,Tt</td> <td>2013-03-04 13:11:48</td> <td>2013-03-04 13:11:58</td> <td>2013-03-04 13:12:08</td> <td>20</td> <td>10</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td>Bob</td> <td>Charlie</td> <td>Asterisk-01-136242428.3</td> <td></td> <td>102</td> <td>Asterisk-01-136242428.3</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>300</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000003</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:12:08</td> <td>2013-03-04 13:12:08</td> <td>2013-03-04 13:13:08</td> <td>60</td> <td>60</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td>Alice</td> <td>Charlie</td> <td>Asterisk-01-13624276.2</td> <td></td> <td>103</td> <td>Asterisk-01-13624276.2</td> </tr> </tbody> </table> <h4 id=blonde-transfer>Blonde Transfer<a class=headerlink href=#blonde-transfer title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to send Alice off to Charlie, and he initiates an attended transfer. Alice is put on hold, and Bob dials Charlie's extension. Asterisk dials Charlie's SIP phone, but before Charlie answers Bob hangs up. Asterisk recognizes that this is a blonde transfer, takes Alice off hold, and ties Charlie's ringing phone to Alice. Charlie answers, Alice talks to Charlie for awhile, then hangs up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:12:18</td> <td>60</td> <td>50</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>101</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Bob &lt;200&gt;"</td> <td>200</td> <td>300</td> <td>default</td> <td>SIP/bob-00000001</td> <td>SIP/charlie-00000002</td> <td>Dial</td> <td>SIP/charlie,,Tt</td> <td>2013-03-04 13:11:48</td> <td></td> <td>2013-03-04 13:11:50</td> <td>2</td> <td>0</td> <td>NO ANSWER</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.1</td> <td></td> <td>102</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>300</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000002</td> <td>Dial</td> <td>SIP/charlie,,Tt</td> <td>2013-03-04 13:11:50</td> <td>2013-03-04 13:11:55</td> <td>2013-03-04 13:12:30</td> <td>40</td> <td>35</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>103</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h4 id=three-way-call>Three Way Call<a class=headerlink href=#three-way-call title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to bring Charlie into the mix. He puts Alice on hold and dials Charlie's extension. Asterisk dials Charlie's SIP phone, and Charlie answers. Bob and Charlie talk for awhile, and Bob then finishes the three-way call by finalizing the attempt. Alice is taken off hold, and Alice, Bob, and Charlie can all talk. Eventually, Bob hangs up, and all parties are ejected and hung up on.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:13:18</td> <td>120</td> <td>110</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>101</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Bob &lt;200&gt;"</td> <td>200</td> <td>300</td> <td>default</td> <td>SIP/bob-00000001</td> <td>SIP/charlie-00000002</td> <td>Dial</td> <td>SIP/charlie,,Tt</td> <td>2013-03-04 13:11:48</td> <td>2013-03-04 13:11:53</td> <td>2013-03-04 13:12:08</td> <td>20</td> <td>15</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.1</td> <td></td> <td>102</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>300</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000002</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:12:08</td> <td>2013-03-04 13:12:08</td> <td>2013-03-04 13:13:18</td> <td>70</td> <td>70</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>103</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Bob &lt;200&gt;"</td> <td>200</td> <td>300</td> <td>default</td> <td>SIP/bob-00000001</td> <td>SIP/charlie-00000002</td> <td>Dial</td> <td>SIP/charlie,,Tt</td> <td>2013-03-04 13:12:08</td> <td>2013-03-04 13:12:08</td> <td>2013-03-04 13:13:18</td> <td>70</td> <td>70</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.1</td> <td></td> <td>104</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In the example above, note the following:</p> <ul> <li>The consultation between Bob and Charlie is treated as a separate conversation from the conversation between all three parties. Thus, there are two CDRs between Bob and Charlie.</li> <li>Because the path of communication never was broken between Alice and Bob (despite Alice being put on hold), there is only one CDR for Alice to Bob.</li> </ul> </div> <h4 id=sip-attended-transfer>SIP Attended Transfer<a class=headerlink href=#sip-attended-transfer title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Alice decides to transfer Bob to Charlie, and performs an attended transfer using her SIP phone. Bob is put on hold. Alice and Charlie talk for awhile, and then Alice finishes the attended transfer. Bob is taken off hold, and bridged with Charlie. Alice is hung up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:12:18</td> <td>60</td> <td>50</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>101</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Bob &lt;200&gt;"</td> <td>200</td> <td>300</td> <td>default</td> <td>SIP/bob-00000002</td> <td>SIP/charlie-00000003</td> <td>Dial</td> <td>SIP/charlie</td> <td>2013-03-04 13:11:48</td> <td>2013-03-04 13:11:53</td> <td>2013-03-04 13:12:08</td> <td>20</td> <td>15</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.1</td> <td></td> <td>102</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000003</td> <td>Dial</td> <td>SIP/bob</td> <td>2013-03-04 13:12:18</td> <td>2013-03-04 13:12:18</td> <td>2013-03-04 13:12:28</td> <td>10</td> <td>10</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>103</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The important point to note here is that a SIP attended transfer uses two channels to communicate with Bob - <code>SIP/bob-00000001</code> and <code>SIP/bob-00000002</code>. The CDR records are associated by virtue of the <code>linkedid</code> field.</p> </div> <h3 id=local-channels>Local Channels<a class=headerlink href=#local-channels title="Permanent link">&para;</a></h3> <p>Local channels are a special Asterisk construct that create a path of communication between two bridges or a bridge and an application. A Local channel always consists of two channels with the same name prefix - the first of the Local channel pair is delineated with a <code>;1</code>; the second is delineated with a <code>;2</code>. Local channels have two different modes in Asterisk:</p> <ul> <li>They can exist permanently. In that case, the Local channel pair appears as two separate channels. From the perspective of CDRs, they are treated as such with an implicit bridge between the channels. CDRs with a permanent Local channel pair will share the same <code>linkedid</code>.</li> <li>They can optimize. A Local channel optimization occurs when a pair of Local channels exist between two bridges and the Local channel has been configured to optimize. If that situation occurs, the Local channel will cause the two bridges to merge into a single merge, and the Local channel will disappear.</li> </ul> <p>Each situation and how it appears in CDRs is explored further below.</p> <h4 id=non-optimizing-local-channels>Non-optimizing Local Channels<a class=headerlink href=#non-optimizing-local-channels title="Permanent link">&para;</a></h4> <h5 id=local-channel-to-an-application>Local channel to an application<a class=headerlink href=#local-channel-to-an-application title="Permanent link">&para;</a></h5> <p>An external application <a href=/Latest_API/API_Documentation/AMI_Actions/Originate>Originates</a> a Local channel. The first half of the Local channel Dials Alice over a SIP channel. The second half of the Local channel is placed into her VoiceMail account. Alice listens to her VoiceMail through the Local channel, then hangs up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>""</td> <td>dial_alice</td> <td>100</td> <td>default</td> <td>Local/dial_alice@default-00000001;1</td> <td>SIP/alice-00000002</td> <td>Dial</td> <td>SIP/alice,,tT</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:12:18</td> <td>60</td> <td>50</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424290.1</td> <td></td> <td>101</td> <td>Asterisk-01-1362424290.1</td> </tr> <tr> <td>""</td> <td>voicemail</td> <td></td> <td>default</td> <td>Local/dial_alice@default-00000001;2</td> <td></td> <td>VoiceMailMain</td> <td>100</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:12:18</td> <td>50</td> <td>50</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424290.1</td> <td></td> <td>102</td> <td>Asterisk-01-1362424290.1</td> </tr> </tbody> </table> <h5 id=local-channel-between-bridges>Local channel between bridges<a class=headerlink href=#local-channel-between-bridges title="Permanent link">&para;</a></h5> <p>An external application <a href=/Latest_API/API_Documentation/AMI_Actions/Originate>Originates</a> a Local channel. The first half of the Local channel Dials Alice over a SIP channel; Alice answers. This triggers the second half of the Local channel, which Dials Bob. Bob Answers, and Alice and Bob talk. Alice hangs up, the Local channels are hung up, and Bob is hung up on.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>""</td> <td>dial_alice</td> <td>100</td> <td>default</td> <td>Local/dial_alice@default-00000001;1</td> <td>SIP/alice-00000002</td> <td>Dial</td> <td>SIP/alice,,tT</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:12:18</td> <td>60</td> <td>50</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424290.1</td> <td></td> <td>101</td> <td>Asterisk-01-1362424290.1</td> </tr> <tr> <td>""</td> <td>dial_bob</td> <td>200</td> <td>default</td> <td>Local/dial_alice@default-00000001;2</td> <td>SIP/bob-00000003</td> <td>Dial</td> <td>SIP/bob,,tT</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:11:38</td> <td>2013-03-04 13:12:18</td> <td>50</td> <td>40</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424290.1</td> <td></td> <td>102</td> <td>Asterisk-01-1362424290.1</td> </tr> </tbody> </table> <h4 id=local-channel-optimization>Local Channel Optimization<a class=headerlink href=#local-channel-optimization title="Permanent link">&para;</a></h4> <p>When a Local channel optimization occurs, the CDR records associated with the Local channel are finalized. New CDR records are generated for the channels in the merged bridge, per the rules outlined in <a href=#bridging>CDR Bridging</a>. That is, new CDRs are generated from each pair of channels that result from the merging of the bridges.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>CDR properties set on optimized Local channels are <strong>not</strong> propagated to other channels. Setting CDR information on optimizing Local channels will cause that information to be lost. In prior versions of Asterisk it was sometimes necessary to set CDR information on Local channels - with the addition of <a href=/Configuration/Dialplan/Subroutines/Pre-Dial-Handlers>Pre-Dial handlers</a>, it is always possible to set CDR information on the appropriate channel at the time of creation.</p> </div> <h3 id=call-hold>Call Hold<a class=headerlink href=#call-hold title="Permanent link">&para;</a></h3> <p>Call Hold is a state of the media between two or more channels, and not a change in the actual bridging of those channels. As such, Call Hold is <strong>not</strong> reflected in CDRs. Channels may be put on hold, taken off hold, put on hold again, forgotten about, found again, taken off hold, etc. without affecting CDRs at all.</p> <h3 id=call-park>Call Park<a class=headerlink href=#call-park title="Permanent link">&para;</a></h3> <p>Call Park is different from Call Hold. Whereas Call Hold is a change of media state, Call Park implies that the channel has been moved into a state where it can be retrieved by any other channel. As such, calls in Park receive their own CDR.</p> <p>Alice calls into Asterisk and Bob answers. Alice says she wants to talk to Charlie, but Bob isn't sure Charlie wants to talk to Alice so he blind transfers her into Park. Alice sits, waiting in her parking slot, listening to serenading robots while Bob asks if Charlie wants to talk to Alice. Charlie says sure, so he picks Alice up out of Park and they talk for awhile before Alice hangs up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:11:38</td> <td>20</td> <td>10</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>101</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>700</td> <td>default</td> <td>SIP/alice-00000000</td> <td></td> <td>Park</td> <td>60000,default,200,1</td> <td>2013-03-04 13:11:38</td> <td>2013-03-04 13:11:38</td> <td>2013-03-04 13:12:38</td> <td>60</td> <td>60</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>102</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>300</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000002</td> <td>Park</td> <td>60000,default,200,1</td> <td>2013-03-04 13:12:38</td> <td>2013-03-04 13:12:38</td> <td>2013-03-04 13:13:38</td> <td>60</td> <td>60</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>103</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h3 id=call-queues>Call Queues<a class=headerlink href=#call-queues title="Permanent link">&para;</a></h3> <h4 id=call-queue-example-1>Call Queue - Example 1<a class=headerlink href=#call-queue-example-1 title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk and enters <a href=/Latest_API/API_Documentation/Dialplan_Applications/Queue>Queue</a> without being Answered. She waits in the queue for a period of time. At some point in time, she enters into the head of the queue and the queue performs a ring-all on the members of the queue. There are two queue members - Bob and Charlie. Bob is out to lunch, so his queue member is paused and it returns a Busy indication. Charlie, on the other hand, is not busy and answers. Alice and Charlie talk for awhile, and eventually Alice hangs up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>800</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Queue</td> <td>complaints</td> <td>2013-03-04 13:11:18</td> <td></td> <td>2013-03-04 13:14:18</td> <td>180</td> <td>0</td> <td>BUSY</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>101</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>800</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000002</td> <td>Queue</td> <td>complaints</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:12:18</td> <td>2013-03-04 13:14:18</td> <td>180</td> <td>120</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>102</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h4 id=call-queue-example-2>Call Queue - Example 2<a class=headerlink href=#call-queue-example-2 title="Permanent link">&para;</a></h4> <p>Alice calls into Asterisk and enters Queue without being Answered. She waits in the queue for a period of time. At some point in time, she enters into the head of the queue and the queue performs a round-robin strategy ring on the members of the queue. Bob is rung first, but being lazy, he ignores his phone. After some time of ringing, it times out and goes on to Charlie. When Charlie's SIP phone rings, he immediately answers. Alice and Charlie talk for some period of time, and eventually Alice hangs up.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>800</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Queue</td> <td>complaints</td> <td>2013-03-04 13:11:18</td> <td></td> <td>2013-03-04 13:14:18</td> <td>180</td> <td>0</td> <td>NO ANSWER</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>101</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>800</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000002</td> <td>Queue</td> <td>complaints</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:12:38</td> <td>2013-03-04 13:14:18</td> <td>180</td> <td>100</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>102</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h3 id=conference-call>Conference Call<a class=headerlink href=#conference-call title="Permanent link">&para;</a></h3> <p>Alice calls into Asterisk and joins a ConfBridge conference. Bob does a bit later as well. Finally, Charlie joins the Conference. After talking for awhile, Bob realizes he's late for lunch and hangs up. Alice and Charlie talk for a bit longer, then finally Alice hangs up. Charlie stays in the conference for another second before he hangs up as well.</p> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>1000</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>ConfBridge</td> <td>1000,public_bridge,public_user,public_menu</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:14:18</td> <td>180</td> <td>170</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>1</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Bob &lt;200&gt;"</td> <td>200</td> <td>1000</td> <td>default</td> <td>SIP/bob-00000001</td> <td>SIP/charlie-00000002</td> <td>ConfBridge</td> <td>1000,public_bridge,public_user,public_menu</td> <td>2013-03-04 13:11:28</td> <td>2013-03-04 13:12:18</td> <td>2013-03-04 13:14:18</td> <td>170</td> <td>120</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.1</td> <td></td> <td>2</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>1000</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000002</td> <td>ConfBridge</td> <td>1000,public_bridge,public_user,public_menu</td> <td>2013-03-04 13:11:18</td> <td>2013-03-04 13:12:18</td> <td>2013-03-04 13:15:18</td> <td>240</td> <td>180</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>3</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <h3 id=a-complex-example>A Complex Example<a class=headerlink href=#a-complex-example title="Permanent link">&para;</a></h3> <p>Alice calls into Asterisk and Dials Bob. Bob answers, and he and Alice talk for awhile. Bob realizes that what Alice really needs is to talk to Sales, so he blind transfers Alice off to the Sales Queue. As Alice is heading off to the Sales Queue, Bob realizes that he should talk with Charlie about Alice, so he Dials Charlies and he and Charlie talk for awhile. Alice enters into the Sales Queue, where she waits for a bit while agents David and Frank are dialed using Local channels to SIP devices. Alice is eventually Answered by David, a sales agent. David and Alice talk for a bit, but David isn't able to sell her on their new fantastic product, so he puts Alice on hold for a bit and calls Ellen from engineering. Ellen agrees to be on the call, and Alice, David, and Ellen are put into a three-way call. Around this time, Charlie decides that he should talk to Alice as well. He transfers himself to the Sales bridge, hanging up on Bob in the process. This turns the Sales bridge into a four-way call. The four parties talk for awhile, and eventually Alice is sold on the new whiz-bang product, so she hangs up. Ellen realizes she isn't need any more either, and hangs up as well. Charlie and David talk about the weather for awhile, and then Charlie hangs up, hanging up David as well.</p> <ul> <li>Alice calls into Asterisk and Dials Bob. Bob and Alice talk for awhile.</li> </ul> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>200</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/bob-00000001</td> <td>Dial</td> <td>SIP/bob,,Tt</td> <td>2013-03-04 13:00:00</td> <td>2013-03-04 13:00:05</td> <td>2013-03-04 13:01:00</td> <td>60</td> <td>55</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>1</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <ul> <li>Bob realizes Alice wants to talk to Sales, so he blind transfers her off to the Sales Queue. Alice enters into the Sales Queue, where she waits for a bit while agents David and Frank are dialed using Local channels to SIP devices. Alice is eventually Answered by David, a sales agent.</li> </ul> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>700</td> <td>default</td> <td>SIP/alice-00000000</td> <td>Local/member1@default-00000001;1</td> <td>Queue</td> <td>sales</td> <td>2013-03-04 13:01:00</td> <td></td> <td>2013-03-04 13:02:00</td> <td>60</td> <td>0</td> <td>NO ANSWER</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>2</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td></td> <td>700</td> <td>member1</td> <td>default</td> <td>Local/member1@default-00000001;2</td> <td>SIP/frank-00000002</td> <td>Dial</td> <td>SIP/frank</td> <td>2013-03-04 13:01:50</td> <td></td> <td>2013-03-04 13:02:00</td> <td>10</td> <td>0</td> <td>NO ANSWER</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.1</td> <td></td> <td>3</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>700</td> <td>default</td> <td>SIP/alice-00000000</td> <td>Local/member2@default-00000002;1</td> <td>Queue</td> <td>sales</td> <td>2013-03-04 13:01:00</td> <td>2013-03-04 13:02:00</td> <td>2013-03-04 13:05:00</td> <td>240</td> <td>180</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>4</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td></td> <td>700</td> <td>member2</td> <td>default</td> <td>Local/member2@default-00000002;2</td> <td>SIP/david-00000003</td> <td>Dial</td> <td>SIP/david</td> <td>2013-03-04 13:02:00</td> <td>2013-03-04 13:02:05</td> <td>2013-03-04 13:06:00</td> <td>240</td> <td>235</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.3</td> <td></td> <td>5</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Note that with non-optimizing Local channels, the duration of the Alice to the Local channel (which in turns passes media to/from David) may not reflect the length of time that the Local channel to David is in the bridge. As we'll see, additional channels joining the bridge will change that CDR's durations.</p> </div> <ul> <li>Meanwhile, Bob calls Charlie.</li> </ul> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Bob &lt;200&gt;"</td> <td>200</td> <td>300</td> <td>default</td> <td>SIP/bob-00000004</td> <td>SIP/charlie-00000005</td> <td>Dial</td> <td>SIP/charlie,,Tt</td> <td>2013-03-04 13:01:10</td> <td>2013-03-04 13:01:20</td> <td>2013-03-04 13:03:20</td> <td>130</td> <td>120</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424277.1</td> <td></td> <td>6</td> <td>Asterisk-01-1362424277.1</td> </tr> </tbody> </table> <ul> <li>David and Alice talk for a bit, but David isn't able to sell her on their new fantastic product, so he puts Alice on hold for a bit and calls Ellen from engineering. Ellen agrees to be on the call, and Alice, David, and Ellen are put into a three-way call.</li> </ul> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"David &lt;900&gt;"</td> <td>900</td> <td>901</td> <td>default</td> <td>SIP/david-00000003</td> <td>SIP/ellen-00000006</td> <td>Dial</td> <td>SIP/ellen,,Tt</td> <td>2013-03-04 13:02:30</td> <td>2013-03-04 13:02:40</td> <td>2013-03-04 13:03:00</td> <td>30</td> <td>20</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424300.1</td> <td></td> <td>7</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>700</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/ellen-00000006</td> <td>Queue</td> <td>sales</td> <td>2013-03-04 13:03:00</td> <td>2013-03-04 13:03:00</td> <td>2013-03-04 13:05:00</td> <td>120</td> <td>120</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>8</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td></td> <td>700</td> <td>member2</td> <td>default</td> <td>Local/member2@default-00000002;2</td> <td>SIP/ellen-00000006</td> <td>Dial</td> <td>SIP/david</td> <td>2013-03-04 13:03:00</td> <td>2013-03-04 13:03:00</td> <td>2013-03-04 13:05:00</td> <td>120</td> <td>120</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424280.3</td> <td></td> <td>9</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>During the consultation period, David's SIP channel directly Dials Ellen's SIP device. However, when Ellen joins the bridge with David, it is the Local channel to David that is in the bridge, not David's SIP channel. Thus, the CDR reflects the Local channel to Ellen's SIP channel.</p> </div> <ul> <li>Around this time, Charlie decides that he should talk to Alice as well. He transfers himself to the Sales bridge, hanging up on Bob in the process. This turns the Sales bridge into a four-way call. The four parties talk for awhile, and eventually Alice is sold on the new whiz-bang product, so she hangs up. Ellen realizes she isn't need any more either, and hangs up as well. Charlie and David talk about the weather for awhile, and then Charlie hangs up, hanging up David as well.</li> </ul> <table> <thead> <tr> <th>clid</th> <th>src</th> <th>dst</th> <th>dcontext</th> <th>channel</th> <th>dstchannel</th> <th>lastapp</th> <th>lastdata</th> <th>start</th> <th>answer</th> <th>end</th> <th>duration</th> <th>billsec</th> <th>disposition</th> <th>amaflags</th> <th>accountcode</th> <th>peeraccount</th> <th>uniqueid</th> <th>userfield</th> <th>sequence</th> <th>linkedid</th> </tr> </thead> <tbody> <tr> <td>"Alice &lt;100&gt;"</td> <td>100</td> <td>700</td> <td>default</td> <td>SIP/alice-00000000</td> <td>SIP/charlie-00000005</td> <td>Queue</td> <td>sales</td> <td>2013-03-04 13:03:20</td> <td>2013-03-04 13:03:20</td> <td>2013-03-04 13:05:00</td> <td>100</td> <td>100</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424276.2</td> <td></td> <td>10</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Charlie &lt;300&gt;"</td> <td>300</td> <td>701</td> <td>default</td> <td>SIP/charlie-00000005</td> <td>Local/member2@default-00000002;2</td> <td>Bridge</td> <td>SIP/alice-00000000</td> <td>2013-03-04 13:03:20</td> <td>2013-03-04 13:03:20</td> <td>2013-03-04 13:06:00</td> <td>160</td> <td>160</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424278.1</td> <td></td> <td>11</td> <td>Asterisk-01-1362424276.2</td> </tr> <tr> <td>"Charlie &lt;300&gt;"</td> <td>300</td> <td>701</td> <td>default</td> <td>SIP/charlie-00000005</td> <td>SIP/ellen-00000006</td> <td>Bridge</td> <td>SIP/alice-00000000</td> <td>2013-03-04 13:03:20</td> <td>2013-03-4 13:03:20</td> <td>2013-03-04 13:05:05</td> <td>105</td> <td>105</td> <td>ANSWERED</td> <td>DOCUMENTATION</td> <td></td> <td></td> <td>Asterisk-01-1362424278.1</td> <td></td> <td>12</td> <td>Asterisk-01-1362424276.2</td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Because Charlie's channel is older then either the Local channel to David's SIP channel or Ellen's SIP channel, Charlie is chosen as Party A for those CDRs. Alice, on the other hand, is older than Charlie, so she is Party A for that CDR. Because Alice is the oldest channel, her <code>linkedid</code> is propagated to all CDRs in the bridge. However, the CDR between Charlie and Bob is not affected, as Bob is the Party A in that CDR and the CDR would already have been dispatched by the time Charlie joined this bridge.</p> </div> <h2 id=asterisk-cdr-apis>Asterisk CDR APIs<a class=headerlink href=#asterisk-cdr-apis title="Permanent link">&para;</a></h2> <p>The following details high level APIs that Asterisk provides for manipulating CDRs.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>These still describe applications/functions available in Asterisk 11. When documentation has been updated for these applications/functions for Asterisk 12, the links will be updated appropriately.</p> </div> <h3 id=applications>Applications<a class=headerlink href=#applications title="Permanent link">&para;</a></h3> <h4 id=nocdr><a href=/Latest_API/API_Documentation/Dialplan_Applications/NoCDR>NoCDR</a><a class=headerlink href=#nocdr title="Permanent link">&para;</a></h4> <p>When this application is executed on a channel, the channel is no longer considered for CDRs. Any previous CDRs involving the channel will continue to be updated.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>This application is deprecated. It is now recommended to use the <a href=/Latest_API/API_Documentation/Dialplan_Functions/CDR_PROP>CDR_PROP</a> function instead.</p> </div> <h4 id=forkcdr><a href=/Latest_API/API_Documentation/Dialplan_Applications/ForkCDR>ForkCDR</a><a class=headerlink href=#forkcdr title="Permanent link">&para;</a></h4> <p>ForkCDR now does significantly less than it used to. The application will finalize the current CDR and create a new CDR for the party A channel. The new CDR record may or may not inherit properties of the previously finalized CDR, based on parameters passed to the application.</p> <h4 id=resetcdr><a href=/Latest_API/API_Documentation/Dialplan_Applications/ResetCDR>ResetCDR</a><a class=headerlink href=#resetcdr title="Permanent link">&para;</a></h4> <p>ResetCDR has two purposes:</p> <ol type=1> <li>It resets the start time/answer time for the current CDR. If the channel is answered, the start time and answer time will reflect when ResetCDR was called on the channel.</li> <li>Alternatively, it simply enables CDRs on a channel that previously had NoCDR executed on it.</li> </ol> <h3 id=functions>Functions<a class=headerlink href=#functions title="Permanent link">&para;</a></h3> <h4 id=cdr><a href=/Latest_API/API_Documentation/Dialplan_Functions/CDR>CDR</a><a class=headerlink href=#cdr title="Permanent link">&para;</a></h4> <p>Retrieve or modify a field in a CDR record.</p> <h4 id=cdr_prop><a href=/Latest_API/API_Documentation/Dialplan_Functions/CDR_PROP>CDR_PROP</a><a class=headerlink href=#cdr_prop title="Permanent link">&para;</a></h4> <p>Modify a fundamental property on a CDR record.</p> <h3 id=example-setting-the-called-party-as-party-a-of-the-cdr>Example: Setting the called party as Party A of the CDR<a class=headerlink href=#example-setting-the-called-party-as-party-a-of-the-cdr title="Permanent link">&para;</a></h3> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>[default]
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>exten =&gt; 100,1,NoOp()
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a> same =&gt;     n,Dial(SIP/bob,,b(default^callee_handler^1))
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a> same =&gt;     n,Hangup()
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>exten =&gt; callee_handler,1,NoOp()
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a> same =&gt;                n,Set(CDR(party_A)=true)
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a> same =&gt;                n,Return()
</span></code></pre></div> <h2 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">&para;</a></h2> <p>The following parameters can be configured for the CDR engine. Additional CDR backends may have their own configuration settings that are outside the scope of this specification.</p> <h3 id=general-settings>General Settings<a class=headerlink href=#general-settings title="Permanent link">&para;</a></h3> <p>The following settings must appear in the context <code>general</code>.</p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>enable</td> <td>Boolean</td> <td>Enable/disable the CDR engine</td> </tr> <tr> <td>batch</td> <td>Boolean</td> <td>Dispatch CDRs in batches.</td> </tr> <tr> <td>unanswered</td> <td>Boolean</td> <td>Dispatch unanswered CDRs. See the definition of Unanswered in <a href=#terminology>Terminology</a> for more information.</td> </tr> <tr> <td>congestion</td> <td>Boolean</td> <td>Treat congestion calls as failed calls</td> </tr> <tr> <td>endbeforehexten</td> <td>Boolean</td> <td>Finalize CDRs before the <code>h</code> extension or hangup handlers are executed</td> </tr> <tr> <td>initiatedseconds</td> <td>Boolean</td> <td>Count microseconds for the purposes of the <code>billsec</code> field</td> </tr> <tr> <td>size</td> <td>Integer</td> <td>The number of records to buffer before initiating a batch</td> </tr> <tr> <td>time</td> <td>Integer</td> <td>The time, in seconds, before initiating a batch</td> </tr> <tr> <td>scheduleronly</td> <td>Boolean</td> <td>Deprecated. See <code>usethreadpool</code> instead.</td> </tr> <tr> <td>usethreadpool</td> <td>Boolean</td> <td>For any CDRs that are dispatched, use a thread pool thread to perform the dispatching. This prevents the CDR taskprocessor thread from being blocked by any CDR backends.</td> </tr> <tr> <td>safeshutdown</td> <td>Boolean</td> <td>Block Asterisk shutdown on dispatching of CDRs</td> </tr> </tbody> </table> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Content is licensed under a Creative Commons Attribution-ShareAlike 3.0 United States License. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.asterisk.org/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg version=1.1 id=svg2 width=48 height=48 viewbox="0 0 48 48" sodipodi:docname=favicon.svg inkscape:version="1.2.2 (b0a8486541, 2022-12-01)" xmlns:inkscape=http://www.inkscape.org/namespaces/inkscape xmlns:sodipodi=http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd xmlns:xlink=http://www.w3.org/1999/xlink xmlns=http://www.w3.org/2000/svg xmlns:svg=http://www.w3.org/2000/svg> <defs id=defs6 /> <sodipodi:namedview id=namedview4 pagecolor=#ffffff bordercolor=#666666 borderopacity=1.0 inkscape:showpageshadow=2 inkscape:pageopacity=0.0 inkscape:pagecheckerboard=0 inkscape:deskcolor=#d1d1d1 showgrid=false inkscape:zoom=17.291667 inkscape:cx=24 inkscape:cy=24.028916 inkscape:current-layer=g8 /> <g inkscape:groupmode=layer inkscape:label=Image id=g8> <image width=48 height=48 preserveaspectratio=none id=image10 xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAACzxJREFU
aIHtmXuQXNVxxn997jz3qRdasay0s5IMiQCDIx4JqaSwjQFDoGIXAhUVMAajgF0kAWShB48xDy2W
eLmoOLbsFBHGBahcgYTEBAJBhYNLxsjEWKEko6BdJCEJSWi1O7O7M3Pv+fLHvmZ3Z1YrYZJ/+Kqm
am6fPt393XNud5974RN8go8E+ziNK4s70HtSbTpWrCl5pdMxFy9FYdx8EBdRKBcrxeWLUUR/nyXz
M2q25S2LPxofHwuB/LLZzVEQnGXyp2HuJEythh0PTAXSoADMA33AIcFeEzvMsRVpc6RwU3377g/3
LW2qmfXAvvz/CQEJy9/ZcorC2DeccZ5gOtAAuEGVItIHODuIKCDiGNMMZgmSgzoeowuxXfgHEwrf
Kvj4tM3pztc/myX8WAgom0kVC35uyexWwxYLUkAXsB/pVx694nz0evchvdO87v3esfN33tySnl4T
P7XkdbEzLjXIAI2ASTwdmH8NXCxU6fGG9t0Hf6cE+pZnMnLc4I2vmDRDst/g+HeTXhXujdrVOz4w
0GTtHbxpfkO6rnSezK4GLhTEgP/00i9jxqySi+5uvHfXO78TAodXzr4gwD2CbJ4ZuyTucS58Mb2/
6QNbt7l0rHYF1n1zy9QgHVwH3A+GxFbQf5jZjND7r0+5/71Dx0xAS5tq8/H09Rh3I/I4Hi+GbvW0
b797+FiDrobcisxXZTxi0IB4E6MGaV3t6s6HzQZW9qgIdK84Ybpz8TsRfwG8JvRwXaLzZzbmAeu5
Y87JLuScclkEexra3/uXo/Gnm1vS+bS7A9wtCDD2AnUu4OKaezp+MWkCyuLyxZnHQc0PQJ8DvisV
1ta3791fmWjb9YHpO6OEppdr7+u85GgIAOz/m9bj0zX2b8CngSIQk/RKV390yeyHd/W5iSYruyBx
YNnxv0+xtQnSDwj+1MTq2kTnymrBAzgUCtKjfxO6qorjHunc46RvAR5IAM7MTm9IB+cO+Jog+Fx/
9zn1ybjrxe5CnOvEbTXJzvuHtowWEVRh0D/OnihUUt1QzUYZ0gc7n0O8WSaaGsjO3ZJdkKhKoKfQ
c7ZzwfxS6JYIFoM9uCNZ89hQqd9xTSaVn5/5cX757DM1ZivKa1ywJj+OVO+yE1ouOrH1sdzKzOkT
EbB1lDB+VCZyzrTwZLoaKhLov735pJhzWYNGjKtMPFV7sONvT8m+XQTQBoKZzdyGcYVc7Kd9y1u/
0Z1tnjFExAXjV8DKVkVLm2pzt2cu9LH4C8iuQjykZSfVT0SCyDZStorCTuwP4/XjCPSuap4d+sT3
Q29veLgS089rvLvN1jGc2/t+3bJQ6GuDpmZ4Z9+xYuKJ3hWtX9ySXZCotAJeFJTF5VZmTu9NpB/C
6yfAAgCZzuwN+i+vuiWBwHTYjD3DBMQs52O1owgouyAhxa8HjnfYCcIapdhyK8vxe5c21Uqx68Ca
y6Y6g/Nl9nim0LsWXGxsACYr9hdbrzH0E+A6sNrhMaxOZkt6P9U6sxoBn4qKEsMFDCNeME0ZRaC3
P3+ysK9JvI9pkTP9Q11i9tZynVQqNVPGn1TwYcB0jL8Cnq4wem2E/b2weWLcnRZwYmT8YTUCFJ1g
dL2Jex8ME3glS8w7uws4HlgIdIRR9JRlN46a1PjpzveiEtcKfiDK7shoNFaQNVTRLZnpX510XX3c
nq8Wv1nkGEijQ/De1DNMYGGh7SJDFw8oU2/GUw3tu/5nnKHLiRrXdGyqSxRvCUIuQnoJiKo5PgK2
Ofkrw3j0lXR75zOW7Rj38I8QCBJmTB26FnQHLuiJwUBLnCvqVrChvduH9L2hfqOiwez7vcCmHdnM
JTNLXANaKm9zMOJHCNpjfCDPBjNbXdP+3r7JMI28NRo0DV07o9Or2OsAevr8GQYnlbF7sXZ1555K
hsaiLdvRvzbesU5m92F0HUnfoCTPU3XJ4oq61TsmFfzgvLPKDj54z7a+eKrHCcwFdjYwbZiA16Sb
rt5VLSd8s9T6PcT9DJzCJoQgiXFtvph4Nr9q7hnSZBtKXVr2PxS8OY3tuRjZ5jRFOwUGlt5QGMHm
CU0J61naPD0ej1/gPXfLbO7kghiADTzQX5D8Wb23tz7auyq2Lh2fvWdswhhCftnsZmFfGAnAPowT
vWZZvMvl0nUSbcNj0JUm6qnmfOfNLenciszlLpl4IjJbf7TBj0GjZLd7hT/NF3f8dW5lW1NFrcDd
SFkGEnorlYw2A7ggSRIbeTgM6+2PBVWzyvRE4jhzuhM4H6tcOSul1wlSLmCnAN/Cc9rYkUPLMxlv
dnm5zBsPDSYRnFkYM1RX5iiZwldt8tLp1F7QP4HGkvSIvZJWx/CLKrBaH1q0GPQ2aOxWEfCqt+Ko
ratFBHHTZQatw1ThhcbVncP1whVCGWXdpMGU0AdVGyvLvl30LlgPtr3MfUHS0/LRFXXJtrsqz1Sy
8d6dG3xY+rLDHgTKM1CXl62rb9/9YfmM7nktbWBXM5R9xN5I/p5yHZcMgsiwkU5xQHnC9rb+nh2/
9Wjt4OU2c1xRl4zfUP/tna9admPosdTYOc5ImqGGNe9vS/fE7jKL/gzTSwwcVJ6vz8WeH/sGIwiC
OzFOHryMMJ48mHSjVikWxVWgyAFg3ojYLpNYX62QmSGp87H8qkyTC0s/qlmze1f5uPekbMwmlEZy
uD26vQC8sXdp05/XJVJft9D/2B7tGGmVlyyM52YcWILsqhGn2hqz4O/asu+OqtaxArHeBGGnwdll
7j7ftSpzGnT8VyUCQySgo73imBsJdkTfjVuVwdeGa8tl2kCQ+/WBSw27c+j2CQ47cVvqvnffGWvD
TWN7zqEtjO5nUgnpDi05YltQEX7g7dwoqIKsEnrebDvHZA8ijhsUlfAsr0l0Vmz0nGXxQpswjUpz
Mvtcbkbbl5Q9htO4B0wHyn+Sr3gmLkf/8nnzndOzDGQdA4USP+zrzj9R7a11DKCQSPwiWQx/A3y2
bGyKodvyxbatsOOto4k/puAlr/DKclnkNEEdGEAy1fd+WEi8jnEhgGHPOVdsn/nd/blqc4bTZ//y
OeeF5l7EynoTIWBLLIi+lLp357jW+uPAoW9mTo/H+WdgtozF9fd1jD8clWFUI5Vflfm+xHWMPzF1
4LmxNsXGiXr2o8GW7ILE3FJXEz7eYiX2Hqb/g6YH9vWSJegptC5zZnchfl6bLF48VHWPSKB31bzZ
XuF6ZOeOWokB7BPaIPFkfabzDftLjukFbtfyOVNjuLMxfR5nFyAWALsMvSzcKy4sbqQGfCH+jzI+
5cRXa9s7np0UAQk7vGLOHwSBPW2yeRX0/QARXpfX+vpU6YWJ7s6w3ZvmJ/saws8gfdnLzsdoYeBr
TXmCEJAD9gDPO2mXx9ZgPFnoid04/dHt3UckMITuFZnfc/CUGQtE9VRqKCfZLzH9Ssa7RHbQmfWZ
kYq8n2FmrZhOxWzhYFoc60+CHkPdhk0V1IzoyIM54LCz8Pya+3a9PmkCAIdubWuNJ3QLxtXAlGp6
HwH7kV6U7Dlc9N/ywRku4DOIUxk4Hc5icIUEz9QlOi6rlEonPA0p21zTU4ifFhirJLuwWvs8aQjh
+G0g1pfEM4UouXvGmm25oR7onZvmJ2fV0RAPCg3ybo6Hc4A/lnEm0uK61e+9fFQEhv0uIuib23q2
d9xg5v5IqNGgdrC6Vip03qCgga+QedA+sJ95Rc/UH9y5qfwt36T8Z8+N7c93zJi5tmPvMREoR25l
W5PwCyTmBsasSEwzsxpnCpArCfokuhzRPrDdMezdRH/YaQ/v6jtaX5PBR/rIJ7DNSxbGpjcfDDKH
Q6Mt5fmwJSK7MTqaj3uf4BP8P+J/ASVw7ffFYZkMAAAAAElFTkSuQmCC
"/> </g> </svg> </a> <a href=https://www.asterisk.org/blog/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="m61.7 169.4 101.5 278C92.2 413 43.3 340.2 43.3 256c0-30.9 6.6-60.1 18.4-86.6m337.9 75.9c0-26.3-9.4-44.5-17.5-58.7-10.8-17.5-20.9-32.4-20.9-49.9 0-19.6 14.8-37.8 35.7-37.8.9 0 1.8.1 2.8.2-37.9-34.7-88.3-55.9-143.7-55.9-74.3 0-139.7 38.1-177.8 95.9 5 .2 9.7.3 13.7.3 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l77.5 230.4L249.8 247l-33.1-90.8c-11.5-.7-22.3-2-22.3-2-11.5-.7-10.1-18.2 1.3-17.5 0 0 35.1 2.7 56 2.7 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l76.9 228.7 21.2-70.9c9-29.4 16-50.5 16-68.7m-139.9 29.3-63.8 185.5c19.1 5.6 39.2 8.7 60.1 8.7 24.8 0 48.5-4.3 70.6-12.1-.6-.9-1.1-1.9-1.5-2.9zm183-120.7c.9 6.8 1.4 14 1.4 21.9 0 21.6-4 45.8-16.2 76.2l-65 187.9C426.2 403 468.7 334.5 468.7 256c0-37-9.4-71.8-26-102.1M8 256a248 248 0 1 1 496 0 248 248 0 1 1-496 0m484.6 0a236.6 236.6 0 1 0-473.2 0 236.6 236.6 0 1 0 473.2 0"/></svg> </a> <a href=https://twitter.com/asteriskdev target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> <a href=https://github.com/asterisk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://community.asterisk.org target=_blank rel=noopener title=community.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.prune", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../assets/javascripts/bundle.92b07e13.min.js></script> </body> </html>