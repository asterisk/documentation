<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.asterisk.org/Configuration/Channel-Drivers/SIP/Configuring-res_pjsip/Setting-up-PJSIP-Realtime/ rel=canonical><link href=../Resource-List-Subscriptions-RLS/ rel=prev><link href=../res_pjsip-Configuration-Examples/ rel=next><link rel=icon href=../../../../../favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.19"><title>Setting up PJSIP Realtime - Asterisk Documentation</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../material-override.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2ZKMCW9DZ9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2ZKMCW9DZ9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2ZKMCW9DZ9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="Asterisk Documentation" class="md-header__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../../../favicon.ico alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Asterisk Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Setting up PJSIP Realtime </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="Asterisk Documentation" class="md-nav__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../../../favicon.ico alt=logo> </a> Asterisk Documentation </label> <div class=md-nav__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../About-the-Project/ class=md-nav__link> <span class=md-ellipsis> About the Project </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk-Community/ class=md-nav__link> <span class=md-ellipsis> Asterisk Community </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Fundamentals/ class=md-nav__link> <span class=md-ellipsis> Fundamentals </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Getting-Started/Beginning-Asterisk/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Core-Configuration/ class=md-nav__link> <span class=md-ellipsis> Core Configuration </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2 checked> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> Channel Drivers </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Channel Drivers </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_1 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> SIP </span> </a> <label class="md-nav__link " for=__nav_5_2_1 id=__nav_5_2_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_2_1_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2_1> <span class="md-nav__icon md-icon"></span> SIP </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Concepts/SIP-Direct-Media-Reinvite-Glare-Avoidance/ class=md-nav__link> <span class=md-ellipsis> Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Configuring-chan_sip/ class=md-nav__link> <span class=md-ellipsis> Configuring chan sip </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_1_4 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Configuring res pjsip </span> </a> <label class="md-nav__link " for=__nav_5_2_1_4 id=__nav_5_2_1_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_5_2_1_4_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2_1_4> <span class="md-nav__icon md-icon"></span> Configuring res pjsip </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Asterisk-PJSIP-Troubleshooting-Guide/ class=md-nav__link> <span class=md-ellipsis> Asterisk PJSIP Troubleshooting Guide </span> </a> </li> <li class=md-nav__item> <a href=../Configuring-Outbound-Registrations/ class=md-nav__link> <span class=md-ellipsis> Configuring Outbound Registrations </span> </a> </li> <li class=md-nav__item> <a href=../Configuring-res_pjsip-for-IPv6/ class=md-nav__link> <span class=md-ellipsis> Configuring res_pjsip for IPv6 </span> </a> </li> <li class=md-nav__item> <a href=../Configuring-res_pjsip-for-Presence-Subscriptions/ class=md-nav__link> <span class=md-ellipsis> Configuring res_pjsip for Presence Subscriptions </span> </a> </li> <li class=md-nav__item> <a href=../Configuring-res_pjsip-to-work-through-NAT/ class=md-nav__link> <span class=md-ellipsis> Configuring res_pjsip to work through NAT </span> </a> </li> <li class=md-nav__item> <a href=../Dialing-PJSIP-Channels/ class=md-nav__link> <span class=md-ellipsis> Dialing PJSIP Channels </span> </a> </li> <li class=md-nav__item> <a href=../Exchanging-Device-and-Mailbox-State-Using-PJSIP/ class=md-nav__link> <span class=md-ellipsis> Exchanging Device and Mailbox State Using PJSIP </span> </a> </li> <li class=md-nav__item> <a href=../Migrating-from-chan_sip-to-res_pjsip/ class=md-nav__link> <span class=md-ellipsis> Migrating from chan_sip to res_pjsip </span> </a> </li> <li class=md-nav__item> <a href=../PJSIP-Advanced-Codec-Negotiation/ class=md-nav__link> <span class=md-ellipsis> PJSIP Advanced Codec Negotiation </span> </a> </li> <li class=md-nav__item> <a href=../PJSIP-Authentication/ class=md-nav__link> <span class=md-ellipsis> PJSIP Authentication </span> </a> </li> <li class=md-nav__item> <a href=../PJSIP-Configuration-Sections-and-Relationships/ class=md-nav__link> <span class=md-ellipsis> PJSIP Configuration Sections and Relationships </span> </a> </li> <li class=md-nav__item> <a href=../PJSIP-Configuration-Wizard/ class=md-nav__link> <span class=md-ellipsis> PJSIP Configuration Wizard </span> </a> </li> <li class=md-nav__item> <a href=../PJSIP-Transport-Selection/ class=md-nav__link> <span class=md-ellipsis> PJSIP Transport Selection </span> </a> </li> <li class=md-nav__item> <a href=../PJSIP-with-Proxies/ class=md-nav__link> <span class=md-ellipsis> PJSIP with Proxies </span> </a> </li> <li class=md-nav__item> <a href=../Publishing-Extension-State/ class=md-nav__link> <span class=md-ellipsis> Publishing Extension State </span> </a> </li> <li class=md-nav__item> <a href=../Resource-List-Subscriptions-RLS/ class=md-nav__link> <span class=md-ellipsis> Resource List Subscriptions (RLS) </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Setting up PJSIP Realtime </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Setting up PJSIP Realtime </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#installing-dependencies class=md-nav__link> <span class=md-ellipsis> Installing Dependencies </span> </a> </li> <li class=md-nav__item> <a href=#creating-the-mysql-database class=md-nav__link> <span class=md-ellipsis> Creating the MySQL Database </span> </a> </li> <li class=md-nav__item> <a href=#installing-and-using-alembic class=md-nav__link> <span class=md-ellipsis> Installing and Using Alembic </span> </a> </li> <li class=md-nav__item> <a href=#configuring-odbc class=md-nav__link> <span class=md-ellipsis> Configuring ODBC </span> </a> </li> <li class=md-nav__item> <a href=#connecting-pjsip-sorcery-to-the-realtime-database class=md-nav__link> <span class=md-ellipsis> Connecting PJSIP Sorcery to the Realtime Database </span> </a> </li> <li class=md-nav__item> <a href=#optionally-configuring-sorcery-for-realtime-and-non-realtime-data-sources class=md-nav__link> <span class=md-ellipsis> Optionally configuring sorcery for realtime and non-realtime data sources </span> </a> </li> <li class=md-nav__item> <a href=#realtime-configuration class=md-nav__link> <span class=md-ellipsis> Realtime Configuration </span> </a> </li> <li class=md-nav__item> <a href=#asterisk-startup-configuration class=md-nav__link> <span class=md-ellipsis> Asterisk Startup Configuration </span> </a> </li> <li class=md-nav__item> <a href=#asterisk-pjsip-configuration class=md-nav__link> <span class=md-ellipsis> Asterisk PJSIP configuration </span> </a> <nav class=md-nav aria-label="Asterisk PJSIP configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#endpoint-population class=md-nav__link> <span class=md-ellipsis> Endpoint Population </span> </a> </li> <li class=md-nav__item> <a href=#a-little-dialplan class=md-nav__link> <span class=md-ellipsis> A Little Dialplan </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reserved-characters class=md-nav__link> <span class=md-ellipsis> Reserved Characters </span> </a> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../res_pjsip-Configuration-Examples/ class=md-nav__link> <span class=md-ellipsis> res_pjsip Configuration Examples </span> </a> </li> <li class=md-nav__item> <a href=../res_pjsip-Remote-Attended-Transfers/ class=md-nav__link> <span class=md-ellipsis> res_pjsip Remote Attended Transfers </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../DAHDI/ class=md-nav__link> <span class=md-ellipsis> DAHDI </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Inter-Asterisk-eXchange-protocol-version-2-IAX2/ class=md-nav__link> <span class=md-ellipsis> Inter Asterisk eXchange protocol version 2 IAX2 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Local-Channel/ class=md-nav__link> <span class=md-ellipsis> Local Channel </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../AudioSocket/ class=md-nav__link> <span class=md-ellipsis> AudioSocket </span> </a> </li> <li class=md-nav__item> <a href=../../../WebSocket/ class=md-nav__link> <span class=md-ellipsis> WebSocket </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Mobile-Channel/ class=md-nav__link> <span class=md-ellipsis> Mobile Channel </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Motif/ class=md-nav__link> <span class=md-ellipsis> Motif </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Skinny/ class=md-nav__link> <span class=md-ellipsis> Skinny </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Unistim/ class=md-nav__link> <span class=md-ellipsis> Unistim </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../mISDN/ class=md-nav__link> <span class=md-ellipsis> mISDN </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../IP-Quality-of-Service/ class=md-nav__link> <span class=md-ellipsis> IP Quality of Service </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Dialplan/ class=md-nav__link> <span class=md-ellipsis> Dialplan </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Applications/ class=md-nav__link> <span class=md-ellipsis> Applications </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Functions/ class=md-nav__link> <span class=md-ellipsis> Functions </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Features/ class=md-nav__link> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Interfaces/Asterisk-Manager-Interface-AMI/ class=md-nav__link> <span class=md-ellipsis> Interfaces </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Reporting/ class=md-nav__link> <span class=md-ellipsis> Reporting </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../Miscellaneous/ class=md-nav__link> <span class=md-ellipsis> Miscellaneous </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../WebRTC/ class=md-nav__link> <span class=md-ellipsis> WebRTC </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../../Codec-Opus/ class=md-nav__link> <span class=md-ellipsis> Codec Opus </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Deployment/ class=md-nav__link> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Operation/ class=md-nav__link> <span class=md-ellipsis> Operation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Development/ class=md-nav__link> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Latest_API/ class=md-nav__link> <span class=md-ellipsis> Latest API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_16_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 16 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_18_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 18 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_19_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 19 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_20_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 20 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_21_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 21 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_22_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 22 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Asterisk_23_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 23 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Certified-Asterisk_18.9_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 18.9 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Certified-Asterisk_20.7_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 20.7 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Test-Suite-Documentation/ class=md-nav__link> <span class=md-ellipsis> Test Suite Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../Historical-Documentation/ class=md-nav__link> <span class=md-ellipsis> Historical Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../../../Contributing-to-the-Documentation/ class=md-nav__link> <span class=md-ellipsis> Contributing to the Documentation </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#installing-dependencies class=md-nav__link> <span class=md-ellipsis> Installing Dependencies </span> </a> </li> <li class=md-nav__item> <a href=#creating-the-mysql-database class=md-nav__link> <span class=md-ellipsis> Creating the MySQL Database </span> </a> </li> <li class=md-nav__item> <a href=#installing-and-using-alembic class=md-nav__link> <span class=md-ellipsis> Installing and Using Alembic </span> </a> </li> <li class=md-nav__item> <a href=#configuring-odbc class=md-nav__link> <span class=md-ellipsis> Configuring ODBC </span> </a> </li> <li class=md-nav__item> <a href=#connecting-pjsip-sorcery-to-the-realtime-database class=md-nav__link> <span class=md-ellipsis> Connecting PJSIP Sorcery to the Realtime Database </span> </a> </li> <li class=md-nav__item> <a href=#optionally-configuring-sorcery-for-realtime-and-non-realtime-data-sources class=md-nav__link> <span class=md-ellipsis> Optionally configuring sorcery for realtime and non-realtime data sources </span> </a> </li> <li class=md-nav__item> <a href=#realtime-configuration class=md-nav__link> <span class=md-ellipsis> Realtime Configuration </span> </a> </li> <li class=md-nav__item> <a href=#asterisk-startup-configuration class=md-nav__link> <span class=md-ellipsis> Asterisk Startup Configuration </span> </a> </li> <li class=md-nav__item> <a href=#asterisk-pjsip-configuration class=md-nav__link> <span class=md-ellipsis> Asterisk PJSIP configuration </span> </a> <nav class=md-nav aria-label="Asterisk PJSIP configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#endpoint-population class=md-nav__link> <span class=md-ellipsis> Endpoint Population </span> </a> </li> <li class=md-nav__item> <a href=#a-little-dialplan class=md-nav__link> <span class=md-ellipsis> A Little Dialplan </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reserved-characters class=md-nav__link> <span class=md-ellipsis> Reserved Characters </span> </a> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Setting up PJSIP Realtime</h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>This tutorial describes the configuration of Asterisk's PJSIP channel driver with the "realtime" database storage backend. The realtime interface allows storing much of the configuration of PJSIP, such as endpoints, auths, aors and more, in a database, as opposed to the normal flat-file storage of pjsip.conf.</p> <h2 id=installing-dependencies>Installing Dependencies<a class=headerlink href=#installing-dependencies title="Permanent link">&para;</a></h2> <p>For the purposes of this tutorial, we will assume a base Ubuntu 12.0.4.3 x86_64 server installation, with the OpenSSH server and LAMP server options, and that Asterisk will use its <a href=http://www.unixodbc.org/ >ODBC</a> connector to reach a back-end <a href=http://www.mysql.com/ >MySQL</a> database.</p> <p>Beyond the normal packages needed to install Asterisk 12 on such a server (build-essential, libncurses5-dev, uuid-dev, libjansson-dev, libxml2-dev, libsqlite3-dev) as well as the <a href=/Getting-Started/Installing-Asterisk/Installing-Asterisk-From-Source/PJSIP-pjproject>Installation of pjproject</a>, you will need to install the following packages:</p> <ul> <li>unixodbc and unixodbc-dev<ul> <li>ODBC and the development packages for building against ODBC</li> </ul> </li> <li>libmyodbc<ul> <li>The ODBC to MySQL interface package</li> </ul> </li> <li>python-dev and python-pip<ul> <li>The Python development package and the pip package to allow installation of Alembic</li> </ul> </li> <li>python-mysqldb<ul> <li>The Python interface to MySQL, which will be used by Alembic to generate the database tables</li> </ul> </li> </ul> <p>So, from the CLI, perform:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=c1># apt-get install unixodbc unixodbc-dev libmyodbc python-dev python-pip python-mysqldb</span>
</span></code></pre></div></td></tr></table></div> <p>Once these packages are installed, check your Asterisk installation's <strong>make menuconfig</strong> tool to make sure that the <strong>res_config_odbc</strong> and <strong>res_odbc</strong> resource modules, as well as the <strong>res_pjsip_xxx</strong> modules are selected for installation. If they are, then go through the normal Asterisk installation process: <strong>./configure; make; make install</strong></p> <p>And, if this is your first installation of Asterisk, be sure to install the sample files: <strong>make samples</strong></p> <h2 id=creating-the-mysql-database>Creating the MySQL Database<a class=headerlink href=#creating-the-mysql-database title="Permanent link">&para;</a></h2> <p>Use the <strong>mysqladmin</strong> tool to create the database that we'll use to store the configuration. From the Linux CLI, perform:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a><span class=c1># mysqladmin -u root -p create asterisk</span>
</span></code></pre></div></td></tr></table></div> <p>This will prompt you for your MySQL database password and then create a database named <strong>asterisk</strong> that we'll use to store our PJSIP configuration.</p> <h2 id=installing-and-using-alembic>Installing and Using Alembic<a class=headerlink href=#installing-and-using-alembic title="Permanent link">&para;</a></h2> <p>Alembic is a full database migration tool, with support for upgrading the schemas of existing databases, versioning of schemas, creation of new tables and databases, and a whole lot more. A good guide on using Alembic with Asterisk can be found on the <a href=/Configuration/Interfaces/Back-end-Database-and-Realtime-Connectivity/Managing-Realtime-Databases-with-Alembic>Managing Realtime Databases with Alembic</a> wiki page. A shorter discussion of the steps necessary to prep your database will follow.</p> <p>First, install Alembic:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1></a><span class=c1># pip install alembic</span>
</span></code></pre></div></td></tr></table></div> <p>Then, move to the Asterisk source directory containing the Alembic scripts:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1></a><span class=c1># cd contrib/ast-db-manage/</span>
</span></code></pre></div></td></tr></table></div> <p>Next, edit the <strong>config.ini.sample</strong> file and change the <strong>sqlalchemy.url</strong> option, e.g.</p> <div class="language-text highlight"><span class=filename>config.ini.sample</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>sqlalchemy.url = mysql://root:password@localhost/asterisk
</span></code></pre></div> <p>such that the URL matches the username and password required to access your database.</p> <p>Then rename the config.ini.sample file to config.ini</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1></a><span class=c1># cp config.ini.sample config.ini</span>
</span></code></pre></div></td></tr></table></div> <p>Finally, use Alembic to setup the database tables:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1></a><span class=c1># alembic -c config.ini upgrade head</span>
</span></code></pre></div></td></tr></table></div> <p>You'll see something similar to:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-7-1>1</a></span>
<span class=normal><a href=#__codelineno-7-2>2</a></span>
<span class=normal><a href=#__codelineno-7-3>3</a></span>
<span class=normal><a href=#__codelineno-7-4>4</a></span>
<span class=normal><a href=#__codelineno-7-5>5</a></span>
<span class=normal><a href=#__codelineno-7-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1></a><span class=c1># alembic -c config.ini upgrade head</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2></a>INFO<span class=w> </span><span class=o>[</span>alembic.migration<span class=o>]</span><span class=w> </span>Context<span class=w> </span>impl<span class=w> </span>MySQLImpl.
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3></a>INFO<span class=w> </span><span class=o>[</span>alembic.migration<span class=o>]</span><span class=w> </span>Will<span class=w> </span>assume<span class=w> </span>non-transactional<span class=w> </span>DDL.
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4></a>INFO<span class=w> </span><span class=o>[</span>alembic.migration<span class=o>]</span><span class=w> </span>Running<span class=w> </span>upgrade<span class=w> </span>None<span class=w> </span>-&gt;<span class=w> </span>4da0c5f79a9c,<span class=w> </span>Create<span class=w> </span>tables
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5></a>INFO<span class=w> </span><span class=o>[</span>alembic.migration<span class=o>]</span><span class=w> </span>Running<span class=w> </span>upgrade<span class=w> </span>4da0c5f79a9c<span class=w> </span>-&gt;<span class=w> </span>43956d550a44,<span class=w> </span>Add<span class=w> </span>tables<span class=w> </span><span class=k>for</span><span class=w> </span>pjsip
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6></a><span class=c1>#</span>
</span></code></pre></div></td></tr></table></div> <p>You can then connect to MySQL to see that the tables were created:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-8-1> 1</a></span>
<span class=normal><a href=#__codelineno-8-2> 2</a></span>
<span class=normal><a href=#__codelineno-8-3> 3</a></span>
<span class=normal><a href=#__codelineno-8-4> 4</a></span>
<span class=normal><a href=#__codelineno-8-5> 5</a></span>
<span class=normal><a href=#__codelineno-8-6> 6</a></span>
<span class=normal><a href=#__codelineno-8-7> 7</a></span>
<span class=normal><a href=#__codelineno-8-8> 8</a></span>
<span class=normal><a href=#__codelineno-8-9> 9</a></span>
<span class=normal><a href=#__codelineno-8-10>10</a></span>
<span class=normal><a href=#__codelineno-8-11>11</a></span>
<span class=normal><a href=#__codelineno-8-12>12</a></span>
<span class=normal><a href=#__codelineno-8-13>13</a></span>
<span class=normal><a href=#__codelineno-8-14>14</a></span>
<span class=normal><a href=#__codelineno-8-15>15</a></span>
<span class=normal><a href=#__codelineno-8-16>16</a></span>
<span class=normal><a href=#__codelineno-8-17>17</a></span>
<span class=normal><a href=#__codelineno-8-18>18</a></span>
<span class=normal><a href=#__codelineno-8-19>19</a></span>
<span class=normal><a href=#__codelineno-8-20>20</a></span>
<span class=normal><a href=#__codelineno-8-21>21</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1></a><span class=c1># mysql -u root -p -D asterisk</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2></a>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3></a>mysql&gt;<span class=w> </span>show<span class=w> </span>tables<span class=p>;</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4></a>+--------------------+
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5></a><span class=p>|</span><span class=w> </span>Tables_in_asterisk<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6></a>+--------------------+
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7></a><span class=p>|</span><span class=w> </span>alembic_version<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8></a><span class=p>|</span><span class=w> </span>iaxfriends<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9></a><span class=p>|</span><span class=w> </span>meetme<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10></a><span class=p>|</span><span class=w> </span>musiconhold<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11></a><span class=p>|</span><span class=w> </span>ps_aors<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12></a><span class=p>|</span><span class=w> </span>ps_auths<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13></a><span class=p>|</span><span class=w> </span>ps_contacts<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14></a><span class=p>|</span><span class=w> </span>ps_domain_aliases<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15></a><span class=p>|</span><span class=w> </span>ps_endpoint_id_ips<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16></a><span class=p>|</span><span class=w> </span>ps_endpoints<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17></a><span class=p>|</span><span class=w> </span>sippeers<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18></a><span class=p>|</span><span class=w> </span>voicemail<span class=w> </span><span class=p>|</span>
</span><span id=__span-8-19><a id=__codelineno-8-19 name=__codelineno-8-19></a>+--------------------+
</span><span id=__span-8-20><a id=__codelineno-8-20 name=__codelineno-8-20></a><span class=m>12</span><span class=w> </span>rows<span class=w> </span><span class=k>in</span><span class=w> </span><span class=nb>set</span><span class=w> </span><span class=o>(</span><span class=m>0</span>.00<span class=w> </span>sec<span class=o>)</span>
</span><span id=__span-8-21><a id=__codelineno-8-21 name=__codelineno-8-21></a>mysql&gt;<span class=w> </span>quit
</span></code></pre></div></td></tr></table></div> <h2 id=configuring-odbc>Configuring ODBC<a class=headerlink href=#configuring-odbc title="Permanent link">&para;</a></h2> <p>Now that we have our MySQL database created and populated, we'll need to setup ODBC and Asterisk's ODBC resource to access the database. First, we'll tell ODBC how to connect to MySQL. To do this, we'll edit the <strong>/etc/odbcinst.ini</strong> configuration file. Your file should look something like:</p> <div class="language-text highlight"><span class=filename>/etc/odbcinst.ini</span><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>[MySQL]
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>Description = ODBC for MySQL
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>Driver = /usr/lib/x86_64-linux-gnu/odbc/libmyodbc.so
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>Setup = /usr/lib/x86_64-linux-gnu/odbc/libodbcmyS.so
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>UsageCount = 2
</span></code></pre></div> <p>Next, we'll tell ODBC <strong>which</strong> MySQL database to use. To do this, we'll edit the <strong>/etc/odbc.ini</strong> configuration file and create a database handle called <strong>asterisk</strong>. Your file should look something like:</p> <div class="language-text highlight"><span class=filename>/etc/odbc.ini</span><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>[asterisk]
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>Driver = MySQL
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>Description = MySQL connection to ‘asterisk’ database
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>Server = localhost
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>Port = 3306
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>Database = asterisk
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>UserName = root
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>Password = password
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>Socket = /var/run/mysqld/mysqld.sock
</span></code></pre></div> <p>Take care to use your database access UserName and Password, and not necessarily what's defined in this example.</p> <p>Now, we need to configure Asterisk's ODBC resource, res_odbc, to connect to the ODBC <strong>asterisk</strong> database handle that we just created. res_odbc is configured using the <strong>/etc/asterisk/res_odbc.conf</strong> configuration file. There, you'll want:</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>/etc/asterisk/res_odbc.conf</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-11-1>1</a></span>
<span class=normal><a href=#__codelineno-11-2>2</a></span>
<span class=normal><a href=#__codelineno-11-3>3</a></span>
<span class=normal><a href=#__codelineno-11-4>4</a></span>
<span class=normal><a href=#__codelineno-11-5>5</a></span>
<span class=normal><a href=#__codelineno-11-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1></a>[asterisk]
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2></a>enabled =&gt; yes
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3></a>dsn =&gt; asterisk
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4></a>username =&gt; root
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5></a>password =&gt; password
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6></a>pre-connect =&gt; yes
</span></code></pre></div></td></tr></table></div> <p>Again, take care to use the proper username and password.</p> <p>Now, you can start Asterisk and you can check its connection to your "asterisk" MySQL database using the "asterisk" res_odbc connector to ODBC. You can do this by executing "odbc show" from the Asterisk CLI. If everything went well, you'll see:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1> 1</a></span>
<span class=normal><a href=#__codelineno-12-2> 2</a></span>
<span class=normal><a href=#__codelineno-12-3> 3</a></span>
<span class=normal><a href=#__codelineno-12-4> 4</a></span>
<span class=normal><a href=#__codelineno-12-5> 5</a></span>
<span class=normal><a href=#__codelineno-12-6> 6</a></span>
<span class=normal><a href=#__codelineno-12-7> 7</a></span>
<span class=normal><a href=#__codelineno-12-8> 8</a></span>
<span class=normal><a href=#__codelineno-12-9> 9</a></span>
<span class=normal><a href=#__codelineno-12-10>10</a></span>
<span class=normal><a href=#__codelineno-12-11>11</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1></a><span class=c1># asterisk -vvvvc</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2></a>*CLI&gt;<span class=w> </span>odbc<span class=w> </span>show
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4></a>ODBC<span class=w> </span>DSN<span class=w> </span>Settings
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5></a>-----------------
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6></a><span class=w> </span>Name:<span class=w> </span>asterisk
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7></a><span class=w> </span>DSN:<span class=w> </span>asterisk
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8></a><span class=w> </span>Last<span class=w> </span>connection<span class=w> </span>attempt:<span class=w> </span><span class=m>1969</span>-12-31<span class=w> </span><span class=m>18</span>:00:00
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9></a><span class=w> </span>Pooled:<span class=w> </span>No
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10></a><span class=w> </span>Connected:<span class=w> </span>Yes
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11></a>*CLI&gt;<span class=w> </span>
</span></code></pre></div></td></tr></table></div> <h2 id=connecting-pjsip-sorcery-to-the-realtime-database>Connecting PJSIP Sorcery to the Realtime Database<a class=headerlink href=#connecting-pjsip-sorcery-to-the-realtime-database title="Permanent link">&para;</a></h2> <p>The PJSIP stack uses a new data abstraction layer in Asterisk called <strong>sorcery</strong>. Sorcery lets a user build a hierarchical layer of data sources for Asterisk to use when it retrieves, updates, creates, or destroys data that it interacts with. This tutorial focuses on getting PJSIP's configuration stored in a realtime back-end; the rest of the details of sorcery are beyond the scope of this page.</p> <p>PJSIP bases its configuration on types of objects. For more information about these types of objects, please refer to the <a href=/Configuration/Channel-Drivers/SIP/Configuring-res_pjsip>Configuring res_pjsip</a> wiki page. In this case, we have a total of five objects we need to configure in Sorcery:</p> <ul> <li>endpoint</li> <li>auth</li> <li>aor</li> <li>domain</li> <li>identify</li> </ul> <p>We'll also configure the contact object, though we don't need it for this example.</p> <p>Sorcery is configured using the <strong>/etc/asterisk/sorcery.conf</strong> configuration file. So, we need to add the following lines to the file:</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>sorcery.conf</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-13-1>1</a></span>
<span class=normal><a href=#__codelineno-13-2>2</a></span>
<span class=normal><a href=#__codelineno-13-3>3</a></span>
<span class=normal><a href=#__codelineno-13-4>4</a></span>
<span class=normal><a href=#__codelineno-13-5>5</a></span>
<span class=normal><a href=#__codelineno-13-6>6</a></span>
<span class=normal><a href=#__codelineno-13-7>7</a></span>
<span class=normal><a href=#__codelineno-13-8>8</a></span>
<span class=normal><a href=#__codelineno-13-9>9</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1></a>[res_pjsip] ; Realtime PJSIP configuration wizard
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2></a>endpoint=realtime,ps_endpoints
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3></a>auth=realtime,ps_auths
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4></a>aor=realtime,ps_aors
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5></a>domain_alias=realtime,ps_domain_aliases
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6></a>contact=realtime,ps_contacts
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7></a>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8></a>[res_pjsip_endpoint_identifier_ip]
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9></a>identify=realtime,ps_endpoint_id_ips
</span></code></pre></div></td></tr></table></div> <p>The items use the following nomenclature:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>{object_type} = {sorcery_wizard_name},{wizard_arguments}
</span></code></pre></div> <p>In our case, the <code>sorcery_wizard_name</code> is <strong>realtime</strong>, and the <strong>wizard_arguments</strong> are the name of the database connector ("asterisk") to associate with our object types. Note that the "identify" object is separated from the rest of the configuration objects. This is because this object type is provided by an optional module (res_pjsip_endpoint_idenfifier_ip.so) and not the main PJSIP module (res_pjsip.so).</p> <h2 id=optionally-configuring-sorcery-for-realtime-and-non-realtime-data-sources>Optionally configuring sorcery for realtime and non-realtime data sources<a class=headerlink href=#optionally-configuring-sorcery-for-realtime-and-non-realtime-data-sources title="Permanent link">&para;</a></h2> <p>If you want to configure <strong>both realtime and static configuration</strong> file lookups for PJSIP then you need to add additional lines to the sorcery config.</p> <p>For example if you want to read <strong>endpoints</strong> from both realtime and static configuration:</p> <div class="language-text highlight"><span class=filename>sorcery.conf</span><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>endpoint=realtime,ps_endpoints
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>endpoint=config,pjsip.conf,criteria=type=endpoint
</span></code></pre></div> <p>You can swap the order to control which data source is read first.</p> <h2 id=realtime-configuration>Realtime Configuration<a class=headerlink href=#realtime-configuration title="Permanent link">&para;</a></h2> <hr> <p>Since we've associated the PJSIP objects with database connector types, we now need to tell Asterisk to use a database backend with the object types, and not just the flat pjsip.conf file. To do this, we modify the <strong>/etc/asterisk/extconfig.conf</strong> configuration file to provide these connections.</p> <p>Open extconfig.conf (/etc/asterisk/extconfig.conf) and add the following lines to the 'settings' configuration section</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>extconfig.conf</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-16-1>1</a></span>
<span class=normal><a href=#__codelineno-16-2>2</a></span>
<span class=normal><a href=#__codelineno-16-3>3</a></span>
<span class=normal><a href=#__codelineno-16-4>4</a></span>
<span class=normal><a href=#__codelineno-16-5>5</a></span>
<span class=normal><a href=#__codelineno-16-6>6</a></span>
<span class=normal><a href=#__codelineno-16-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1></a>[settings]
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2></a>ps_endpoints =&gt; odbc,asterisk
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3></a>ps_auths =&gt; odbc,asterisk
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4></a>ps_aors =&gt; odbc,asterisk
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5></a>ps_domain_aliases =&gt; odbc,asterisk
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6></a>ps_endpoint_id_ips =&gt; odbc,asterisk
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7></a>ps_contacts =&gt; odbc,asterisk
</span></code></pre></div></td></tr></table></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Other tables allowed but not demonstrated in this tutorial: ps_systems, ps_globals, ps_transports, and ps_registrations.</p> </div> <p>At this point, Asterisk is nearly ready to use the tables created by alembic with PJSIP to configure endpoints, authorization, AORs, domain aliases, and endpoint identifiers.</p> <div class="admonition warning"> <p class=admonition-title>A warning for adventurous types:</p> <p>Sorcery.conf allows you to try to configure other PJSIP objects such as transport using realtime and it currently won't stop you from doing so. However, some of these object types should not be used with realtime and this can lead to errant behavior.</p> </div> <h2 id=asterisk-startup-configuration>Asterisk Startup Configuration<a class=headerlink href=#asterisk-startup-configuration title="Permanent link">&para;</a></h2> <p>Now, we need to configure Asterisk to load its ODBC driver at an early stage of startup, so that it's available when any other modules might need to take advantage of it. Also, we're going to prevent the old chan_sip channel driver from loading, since we're only worried about PJSIP.</p> <p>To do this, edit the <strong>/etc/asterisk/modules.conf</strong> configuration file. In the <strong>[modules]</strong> section, add the following lines:</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>modules.conf</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-17-1>1</a></span>
<span class=normal><a href=#__codelineno-17-2>2</a></span>
<span class=normal><a href=#__codelineno-17-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1></a>preload =&gt; res_odbc.so
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2></a>preload =&gt; res_config_odbc.so
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3></a>noload =&gt; chan_sip.so
</span></code></pre></div></td></tr></table></div> <h2 id=asterisk-pjsip-configuration>Asterisk PJSIP configuration<a class=headerlink href=#asterisk-pjsip-configuration title="Permanent link">&para;</a></h2> <p>Next, we need to configure a transport in <strong>/etc/asterisk/pjsip.conf</strong>. PJSIP transport object types are not stored in realtime as unexpected results can occur. So, edit it and add the following lines:</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>pjsip.conf</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-18-1>1</a></span>
<span class=normal><a href=#__codelineno-18-2>2</a></span>
<span class=normal><a href=#__codelineno-18-3>3</a></span>
<span class=normal><a href=#__codelineno-18-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1></a>[transport-udp]
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2></a>type=transport
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3></a>protocol=udp
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4></a>bind=0.0.0.0
</span></code></pre></div></td></tr></table></div> <p>Here, we created a transport called <strong>transport-udp</strong> that we'll reference in the next section.</p> <h3 id=endpoint-population>Endpoint Population<a class=headerlink href=#endpoint-population title="Permanent link">&para;</a></h3> <p>Now, we need to create our endpoints inside of the database. For this example, we'll create two peers, 101 and 102, that register using the totally insecure passwords "101" and "102" respectively. Here, we'll be populating data directly into the database using the MySQL interactive tool.</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-19-1>1</a></span>
<span class=normal><a href=#__codelineno-19-2>2</a></span>
<span class=normal><a href=#__codelineno-19-3>3</a></span>
<span class=normal><a href=#__codelineno-19-4>4</a></span>
<span class=normal><a href=#__codelineno-19-5>5</a></span>
<span class=normal><a href=#__codelineno-19-6>6</a></span>
<span class=normal><a href=#__codelineno-19-7>7</a></span>
<span class=normal><a href=#__codelineno-19-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1></a><span class=c1># mysql -u root -p -D asterisk;</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2></a>mysql&gt;<span class=w> </span>insert<span class=w> </span>into<span class=w> </span>ps_aors<span class=w> </span><span class=o>(</span>id,<span class=w> </span>max_contacts<span class=o>)</span><span class=w> </span>values<span class=w> </span><span class=o>(</span><span class=m>101</span>,<span class=w> </span><span class=m>1</span><span class=o>)</span><span class=p>;</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3></a>mysql&gt;<span class=w> </span>insert<span class=w> </span>into<span class=w> </span>ps_aors<span class=w> </span><span class=o>(</span>id,<span class=w> </span>max_contacts<span class=o>)</span><span class=w> </span>values<span class=w> </span><span class=o>(</span><span class=m>102</span>,<span class=w> </span><span class=m>1</span><span class=o>)</span><span class=p>;</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4></a>mysql&gt;<span class=w> </span>insert<span class=w> </span>into<span class=w> </span>ps_auths<span class=w> </span><span class=o>(</span>id,<span class=w> </span>auth_type,<span class=w> </span>password,<span class=w> </span>username<span class=o>)</span><span class=w> </span>values<span class=w> </span><span class=o>(</span><span class=m>101</span>,<span class=w> </span><span class=s1>&#39;userpass&#39;</span>,<span class=w> </span><span class=m>101</span>,<span class=w> </span><span class=m>101</span><span class=o>)</span><span class=p>;</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5></a>mysql&gt;<span class=w> </span>insert<span class=w> </span>into<span class=w> </span>ps_auths<span class=w> </span><span class=o>(</span>id,<span class=w> </span>auth_type,<span class=w> </span>password,<span class=w> </span>username<span class=o>)</span><span class=w> </span>values<span class=w> </span><span class=o>(</span><span class=m>102</span>,<span class=w> </span><span class=s1>&#39;userpass&#39;</span>,<span class=w> </span><span class=m>102</span>,<span class=w> </span><span class=m>102</span><span class=o>)</span><span class=p>;</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6></a>mysql&gt;<span class=w> </span>insert<span class=w> </span>into<span class=w> </span>ps_endpoints<span class=w> </span><span class=o>(</span>id,<span class=w> </span>transport,<span class=w> </span>aors,<span class=w> </span>auth,<span class=w> </span>context,<span class=w> </span>disallow,<span class=w> </span>allow,<span class=w> </span>direct_media<span class=o>)</span><span class=w> </span>values<span class=w> </span><span class=o>(</span><span class=m>101</span>,<span class=w> </span><span class=s1>&#39;transport-udp&#39;</span>,<span class=w> </span><span class=s1>&#39;101&#39;</span>,<span class=w> </span><span class=s1>&#39;101&#39;</span>,<span class=w> </span><span class=s1>&#39;testing&#39;</span>,<span class=w> </span><span class=s1>&#39;all&#39;</span>,<span class=w> </span><span class=s1>&#39;g722&#39;</span>,<span class=w> </span><span class=s1>&#39;no&#39;</span><span class=o>)</span><span class=p>;</span>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7></a>mysql&gt;<span class=w> </span>insert<span class=w> </span>into<span class=w> </span>ps_endpoints<span class=w> </span><span class=o>(</span>id,<span class=w> </span>transport,<span class=w> </span>aors,<span class=w> </span>auth,<span class=w> </span>context,<span class=w> </span>disallow,<span class=w> </span>allow,<span class=w> </span>direct_media<span class=o>)</span><span class=w> </span>values<span class=w> </span><span class=o>(</span><span class=m>102</span>,<span class=w> </span><span class=s1>&#39;transport-udp&#39;</span>,<span class=w> </span><span class=s1>&#39;102&#39;</span>,<span class=w> </span><span class=s1>&#39;102&#39;</span>,<span class=w> </span><span class=s1>&#39;testing&#39;</span>,<span class=w> </span><span class=s1>&#39;all&#39;</span>,<span class=w> </span><span class=s1>&#39;g722&#39;</span>,<span class=w> </span><span class=s1>&#39;no&#39;</span><span class=o>)</span><span class=p>;</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8></a>mysql&gt;<span class=w> </span>quit<span class=p>;</span>
</span></code></pre></div></td></tr></table></div> <p>In this example, we first created an <strong>aor</strong> for each peer, one called <strong>101</strong> and the other <strong>102</strong>.</p> <p>Next, we created an <strong>auth</strong> for each peer with a userpass of <strong>101</strong> and <strong>102</strong>, respectively.</p> <p>Then, we created two endpoints, <strong>101</strong> and <strong>102</strong>, each referencing the appropriate <strong>auth</strong> and <strong>aor</strong>, we selected the G.722 codec and we forced media to route inside of Asterisk (not the default behavior of Asterisk).</p> <p>Now, you can start Asterisk and you can check to see if it's finding your PJSIP endpoints in the database. You can do this by executing "pjsip show endpoints" from the Asterisk CLI. If everything went well, you'll see:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-20-1>1</a></span>
<span class=normal><a href=#__codelineno-20-2>2</a></span>
<span class=normal><a href=#__codelineno-20-3>3</a></span>
<span class=normal><a href=#__codelineno-20-4>4</a></span>
<span class=normal><a href=#__codelineno-20-5>5</a></span>
<span class=normal><a href=#__codelineno-20-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1></a><span class=c1># asterisk -vvvvc</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2></a>*CLI&gt;<span class=w> </span>pjsip<span class=w> </span>show<span class=w> </span>endpoints
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3></a>Endpoints:
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4></a><span class=m>101</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5></a><span class=m>102</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6></a>*CLI&gt;<span class=w> </span>
</span></code></pre></div></td></tr></table></div> <h3 id=a-little-dialplan>A Little Dialplan<a class=headerlink href=#a-little-dialplan title="Permanent link">&para;</a></h3> <p>Now that we have our PJSIP endpoints stored in our MySQL database, let's add a little dialplan so that they can call each other. To do this, edit Asterisk's <strong>/etc/asterisk/extensions.conf</strong> file and add the following lines to the end:</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>extensions.conf</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-21-1>1</a></span>
<span class=normal><a href=#__codelineno-21-2>2</a></span>
<span class=normal><a href=#__codelineno-21-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1></a>[testing]
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2></a>exten =&gt; _1XX,1,NoOp()
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3></a>same =&gt; n,Dial(PJSIP/${EXTEN})
</span></code></pre></div></td></tr></table></div> <p>Or to dial multiple AOR contacts at the same time, use the PJSIP_DIAL_CONTACTS function:</p> <div class="language-text highlight"><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>extensions.conf</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-22-1>1</a></span>
<span class=normal><a href=#__codelineno-22-2>2</a></span>
<span class=normal><a href=#__codelineno-22-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1></a>[testing]
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2></a>exten =&gt; _1XX,1,NoOp()
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3></a>same =&gt; n,Dial(${PJSIP_DIAL_CONTACTS(${EXTEN})})
</span></code></pre></div></td></tr></table></div> <h2 id=reserved-characters>Reserved Characters<a class=headerlink href=#reserved-characters title="Permanent link">&para;</a></h2> <p>Realtime uses the semicolon ( ; ) as a delimiter for multiple entries. It must be replaced with "^3B" to prevent the data from being interpreted as multiple entries.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>"^3B" is the corresponding byte value of the semicolon character in ASCII, represented as a pair of hexadecimal digits, preceded by a caret ( ^ ) acting as the escape character. </p> </div> <p>For example, this outbound_proxy parameter</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a>sip:10.30.100.28:5060;lr
</span></code></pre></div> <p>should be stored in the database as</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a>sip:10.30.100.28:5060^3Blr
</span></code></pre></div> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>Now, start Asterisk back up, or reload it using <strong>core reload</strong> from the Asterisk CLI, register your two SIP phones using the 101/101 and 102/102 credentials, and make a call.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Content is licensed under a Creative Commons Attribution-ShareAlike 3.0 United States License. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.asterisk.org/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg version=1.1 id=svg2 width=48 height=48 viewbox="0 0 48 48" sodipodi:docname=favicon.svg inkscape:version="1.2.2 (b0a8486541, 2022-12-01)" xmlns:inkscape=http://www.inkscape.org/namespaces/inkscape xmlns:sodipodi=http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd xmlns:xlink=http://www.w3.org/1999/xlink xmlns=http://www.w3.org/2000/svg xmlns:svg=http://www.w3.org/2000/svg> <defs id=defs6 /> <sodipodi:namedview id=namedview4 pagecolor=#ffffff bordercolor=#666666 borderopacity=1.0 inkscape:showpageshadow=2 inkscape:pageopacity=0.0 inkscape:pagecheckerboard=0 inkscape:deskcolor=#d1d1d1 showgrid=false inkscape:zoom=17.291667 inkscape:cx=24 inkscape:cy=24.028916 inkscape:current-layer=g8 /> <g inkscape:groupmode=layer inkscape:label=Image id=g8> <image width=48 height=48 preserveaspectratio=none id=image10 xlink:href="data:image/png;base64,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
"/> </g> </svg> </a> <a href=https://www.asterisk.org/blog/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="m61.7 169.4 101.5 278C92.2 413 43.3 340.2 43.3 256c0-30.9 6.6-60.1 18.4-86.6m337.9 75.9c0-26.3-9.4-44.5-17.5-58.7-10.8-17.5-20.9-32.4-20.9-49.9 0-19.6 14.8-37.8 35.7-37.8.9 0 1.8.1 2.8.2-37.9-34.7-88.3-55.9-143.7-55.9-74.3 0-139.7 38.1-177.8 95.9 5 .2 9.7.3 13.7.3 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l77.5 230.4L249.8 247l-33.1-90.8c-11.5-.7-22.3-2-22.3-2-11.5-.7-10.1-18.2 1.3-17.5 0 0 35.1 2.7 56 2.7 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l76.9 228.7 21.2-70.9c9-29.4 16-50.5 16-68.7m-139.9 29.3-63.8 185.5c19.1 5.6 39.2 8.7 60.1 8.7 24.8 0 48.5-4.3 70.6-12.1-.6-.9-1.1-1.9-1.5-2.9zm183-120.7c.9 6.8 1.4 14 1.4 21.9 0 21.6-4 45.8-16.2 76.2l-65 187.9C426.2 403 468.7 334.5 468.7 256c0-37-9.4-71.8-26-102.1M8 256a248 248 0 1 1 496 0 248 248 0 1 1-496 0m484.6 0a236.6 236.6 0 1 0-473.2 0 236.6 236.6 0 1 0 473.2 0"/></svg> </a> <a href=https://twitter.com/asteriskdev target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> <a href=https://github.com/asterisk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://community.asterisk.org target=_blank rel=noopener title=community.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.prune", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../../assets/javascripts/bundle.92b07e13.min.js></script> </body> </html>