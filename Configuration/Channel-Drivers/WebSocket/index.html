<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.asterisk.org/Configuration/Channel-Drivers/WebSocket/ rel=canonical><link href=../AudioSocket/ rel=prev><link href=../Mobile-Channel/ rel=next><link rel=icon href=../../../favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.19"><title>WebSocket - Asterisk Documentation</title><link rel=stylesheet href=../../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../material-override.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2ZKMCW9DZ9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2ZKMCW9DZ9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2ZKMCW9DZ9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#websocket class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="Asterisk Documentation" class="md-header__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../favicon.ico alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Asterisk Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> WebSocket </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Asterisk Documentation" class="md-nav__button md-logo" aria-label="Asterisk Documentation" data-md-component=logo> <img src=../../../favicon.ico alt=logo> </a> Asterisk Documentation </label> <div class=md-nav__source> <table border=0 style="width: max-content;padding:0px;margin:0px"><tr><td> <a href=https://github.com/asterisk/asterisk title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Asterisk </div> </a> </td> <td style=font-size:.65rem;line-height:1.2;vertical-align:middle;> <a href=/About-the-Project/Asterisk-Versions>Asterisk Versions</a><br> <a target=_blank href=https://github.com/asterisk/documentation/issues>Report Documentation Issues</a><br> <a target=_blank href=https://github.com/asterisk/documentation>Contribute to the Documentation</a> </td></tr> </table> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../About-the-Project/ class=md-nav__link> <span class=md-ellipsis> About the Project </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk-Community/ class=md-nav__link> <span class=md-ellipsis> Asterisk Community </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Fundamentals/ class=md-nav__link> <span class=md-ellipsis> Fundamentals </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Getting-Started/Beginning-Asterisk/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Configuration </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Core-Configuration/ class=md-nav__link> <span class=md-ellipsis> Core Configuration </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Channel Drivers </span> </a> <label class="md-nav__link " for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=true> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Channel Drivers </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../SIP/ class=md-nav__link> <span class=md-ellipsis> SIP </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../DAHDI/ class=md-nav__link> <span class=md-ellipsis> DAHDI </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../Inter-Asterisk-eXchange-protocol-version-2-IAX2/ class=md-nav__link> <span class=md-ellipsis> Inter Asterisk eXchange protocol version 2 IAX2 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../Local-Channel/ class=md-nav__link> <span class=md-ellipsis> Local Channel </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../AudioSocket/ class=md-nav__link> <span class=md-ellipsis> AudioSocket </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> WebSocket </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> WebSocket </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#background class=md-nav__link> <span class=md-ellipsis> Background </span> </a> </li> <li class=md-nav__item> <a href=#features class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class=md-nav__item> <a href=#connection-types class=md-nav__link> <span class=md-ellipsis> Connection Types </span> </a> <nav class=md-nav aria-label="Connection Types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#outgoing-connections class=md-nav__link> <span class=md-ellipsis> Outgoing Connections </span> </a> </li> <li class=md-nav__item> <a href=#incoming-connections class=md-nav__link> <span class=md-ellipsis> Incoming Connections </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#media-transfer class=md-nav__link> <span class=md-ellipsis> Media Transfer </span> </a> <nav class=md-nav aria-label="Media Transfer"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#max-message-size-and-flow-control class=md-nav__link> <span class=md-ellipsis> Max Message Size and Flow Control </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#control-commands-and-events class=md-nav__link> <span class=md-ellipsis> Control Commands and Events </span> </a> <nav class=md-nav aria-label="Control Commands and Events"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#commands class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> <nav class=md-nav aria-label=Commands> <ul class=md-nav__list> <li class=md-nav__item> <a href=#answer class=md-nav__link> <span class=md-ellipsis> ANSWER </span> </a> </li> <li class=md-nav__item> <a href=#hangup class=md-nav__link> <span class=md-ellipsis> HANGUP </span> </a> </li> <li class=md-nav__item> <a href=#start_media_buffering1 class=md-nav__link> <span class=md-ellipsis> START_MEDIA_BUFFERING1 </span> </a> </li> <li class=md-nav__item> <a href=#stop_media_buffering-correlation_id1 class=md-nav__link> <span class=md-ellipsis> STOP_MEDIA_BUFFERING &lt;correlation_id&gt;1 </span> </a> </li> <li class=md-nav__item> <a href=#flush_media1 class=md-nav__link> <span class=md-ellipsis> FLUSH_MEDIA1 </span> </a> </li> <li class=md-nav__item> <a href=#pause_media1 class=md-nav__link> <span class=md-ellipsis> PAUSE_MEDIA1 </span> </a> </li> <li class=md-nav__item> <a href=#continue_media1 class=md-nav__link> <span class=md-ellipsis> CONTINUE_MEDIA1 </span> </a> </li> <li class=md-nav__item> <a href=#mark_media1 class=md-nav__link> <span class=md-ellipsis> MARK_MEDIA1 </span> </a> </li> <li class=md-nav__item> <a href=#get_status class=md-nav__link> <span class=md-ellipsis> GET_STATUS </span> </a> </li> <li class=md-nav__item> <a href=#report_queue_drained class=md-nav__link> <span class=md-ellipsis> REPORT_QUEUE_DRAINED </span> </a> </li> <li class=md-nav__item> <a href=#footnotes class=md-nav__link> <span class=md-ellipsis> Footnotes: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#events class=md-nav__link> <span class=md-ellipsis> Events </span> </a> <nav class=md-nav aria-label=Events> <ul class=md-nav__list> <li class=md-nav__item> <a href=#media_start class=md-nav__link> <span class=md-ellipsis> MEDIA_START </span> </a> </li> <li class=md-nav__item> <a href=#dtmf_end class=md-nav__link> <span class=md-ellipsis> DTMF_END </span> </a> </li> <li class=md-nav__item> <a href=#media_xoff class=md-nav__link> <span class=md-ellipsis> MEDIA_XOFF </span> </a> </li> <li class=md-nav__item> <a href=#media_xon class=md-nav__link> <span class=md-ellipsis> MEDIA_XON </span> </a> </li> <li class=md-nav__item> <a href=#status class=md-nav__link> <span class=md-ellipsis> STATUS </span> </a> </li> <li class=md-nav__item> <a href=#media_buffering_completed-optional_id class=md-nav__link> <span class=md-ellipsis> MEDIA_BUFFERING_COMPLETED [ &lt;optional_id&gt; ] </span> </a> </li> <li class=md-nav__item> <a href=#media_mark_processed class=md-nav__link> <span class=md-ellipsis> MEDIA_MARK_PROCESSED </span> </a> </li> <li class=md-nav__item> <a href=#queue_drained class=md-nav__link> <span class=md-ellipsis> QUEUE_DRAINED </span> </a> </li> <li class=md-nav__item> <a href=#footnotes_1 class=md-nav__link> <span class=md-ellipsis> Footnotes: </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#websocket_clientconf class=md-nav__link> <span class=md-ellipsis> websocket_client.conf </span> </a> </li> <li class=md-nav__item> <a href=#chan_websocketconf class=md-nav__link> <span class=md-ellipsis> chan_websocket.conf </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#creating-the-channel class=md-nav__link> <span class=md-ellipsis> Creating the Channel </span> </a> <nav class=md-nav aria-label="Creating the Channel"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-the-dial-dialplan-app class=md-nav__link> <span class=md-ellipsis> Using the Dial() Dialplan App </span> </a> </li> <li class=md-nav__item> <a href=#using-the-ari-channels-rest-apis class=md-nav__link> <span class=md-ellipsis> Using the ARI /channels REST APIs </span> </a> </li> <li class=md-nav__item> <a href=#using-ari-external-media-channelsexternalmedia class=md-nav__link> <span class=md-ellipsis> Using ARI External Media (/channels/externalMedia) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sample-code class=md-nav__link> <span class=md-ellipsis> Sample Code </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../Mobile-Channel/ class=md-nav__link> <span class=md-ellipsis> Mobile Channel </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../Motif/ class=md-nav__link> <span class=md-ellipsis> Motif </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../Skinny/ class=md-nav__link> <span class=md-ellipsis> Skinny </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../Unistim/ class=md-nav__link> <span class=md-ellipsis> Unistim </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../mISDN/ class=md-nav__link> <span class=md-ellipsis> mISDN </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../IP-Quality-of-Service/ class=md-nav__link> <span class=md-ellipsis> IP Quality of Service </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Dialplan/ class=md-nav__link> <span class=md-ellipsis> Dialplan </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Applications/ class=md-nav__link> <span class=md-ellipsis> Applications </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Functions/ class=md-nav__link> <span class=md-ellipsis> Functions </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Features/ class=md-nav__link> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Interfaces/ class=md-nav__link> <span class=md-ellipsis> Interfaces </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Reporting/ class=md-nav__link> <span class=md-ellipsis> Reporting </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../Miscellaneous/ class=md-nav__link> <span class=md-ellipsis> Miscellaneous </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../WebRTC/ class=md-nav__link> <span class=md-ellipsis> WebRTC </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../Codec-Opus/ class=md-nav__link> <span class=md-ellipsis> Codec Opus </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Deployment/ class=md-nav__link> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Operation/ class=md-nav__link> <span class=md-ellipsis> Operation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Development/ class=md-nav__link> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Latest_API/ class=md-nav__link> <span class=md-ellipsis> Latest API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk_18_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 18 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk_19_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 19 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk_20_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 20 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk_21_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 21 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk_22_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 22 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Asterisk_23_Documentation/ class=md-nav__link> <span class=md-ellipsis> Asterisk 23 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Certified-Asterisk_18.9_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 18.9 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Certified-Asterisk_20.7_Documentation/ class=md-nav__link> <span class=md-ellipsis> Certified Asterisk 20.7 Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Test-Suite-Documentation/ class=md-nav__link> <span class=md-ellipsis> Test Suite Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../Historical-Documentation/ class=md-nav__link> <span class=md-ellipsis> Historical Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../Contributing-to-the-Documentation/ class=md-nav__link> <span class=md-ellipsis> Contributing to the Documentation </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#background class=md-nav__link> <span class=md-ellipsis> Background </span> </a> </li> <li class=md-nav__item> <a href=#features class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class=md-nav__item> <a href=#connection-types class=md-nav__link> <span class=md-ellipsis> Connection Types </span> </a> <nav class=md-nav aria-label="Connection Types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#outgoing-connections class=md-nav__link> <span class=md-ellipsis> Outgoing Connections </span> </a> </li> <li class=md-nav__item> <a href=#incoming-connections class=md-nav__link> <span class=md-ellipsis> Incoming Connections </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#media-transfer class=md-nav__link> <span class=md-ellipsis> Media Transfer </span> </a> <nav class=md-nav aria-label="Media Transfer"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#max-message-size-and-flow-control class=md-nav__link> <span class=md-ellipsis> Max Message Size and Flow Control </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#control-commands-and-events class=md-nav__link> <span class=md-ellipsis> Control Commands and Events </span> </a> <nav class=md-nav aria-label="Control Commands and Events"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#commands class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> <nav class=md-nav aria-label=Commands> <ul class=md-nav__list> <li class=md-nav__item> <a href=#answer class=md-nav__link> <span class=md-ellipsis> ANSWER </span> </a> </li> <li class=md-nav__item> <a href=#hangup class=md-nav__link> <span class=md-ellipsis> HANGUP </span> </a> </li> <li class=md-nav__item> <a href=#start_media_buffering1 class=md-nav__link> <span class=md-ellipsis> START_MEDIA_BUFFERING1 </span> </a> </li> <li class=md-nav__item> <a href=#stop_media_buffering-correlation_id1 class=md-nav__link> <span class=md-ellipsis> STOP_MEDIA_BUFFERING &lt;correlation_id&gt;1 </span> </a> </li> <li class=md-nav__item> <a href=#flush_media1 class=md-nav__link> <span class=md-ellipsis> FLUSH_MEDIA1 </span> </a> </li> <li class=md-nav__item> <a href=#pause_media1 class=md-nav__link> <span class=md-ellipsis> PAUSE_MEDIA1 </span> </a> </li> <li class=md-nav__item> <a href=#continue_media1 class=md-nav__link> <span class=md-ellipsis> CONTINUE_MEDIA1 </span> </a> </li> <li class=md-nav__item> <a href=#mark_media1 class=md-nav__link> <span class=md-ellipsis> MARK_MEDIA1 </span> </a> </li> <li class=md-nav__item> <a href=#get_status class=md-nav__link> <span class=md-ellipsis> GET_STATUS </span> </a> </li> <li class=md-nav__item> <a href=#report_queue_drained class=md-nav__link> <span class=md-ellipsis> REPORT_QUEUE_DRAINED </span> </a> </li> <li class=md-nav__item> <a href=#footnotes class=md-nav__link> <span class=md-ellipsis> Footnotes: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#events class=md-nav__link> <span class=md-ellipsis> Events </span> </a> <nav class=md-nav aria-label=Events> <ul class=md-nav__list> <li class=md-nav__item> <a href=#media_start class=md-nav__link> <span class=md-ellipsis> MEDIA_START </span> </a> </li> <li class=md-nav__item> <a href=#dtmf_end class=md-nav__link> <span class=md-ellipsis> DTMF_END </span> </a> </li> <li class=md-nav__item> <a href=#media_xoff class=md-nav__link> <span class=md-ellipsis> MEDIA_XOFF </span> </a> </li> <li class=md-nav__item> <a href=#media_xon class=md-nav__link> <span class=md-ellipsis> MEDIA_XON </span> </a> </li> <li class=md-nav__item> <a href=#status class=md-nav__link> <span class=md-ellipsis> STATUS </span> </a> </li> <li class=md-nav__item> <a href=#media_buffering_completed-optional_id class=md-nav__link> <span class=md-ellipsis> MEDIA_BUFFERING_COMPLETED [ &lt;optional_id&gt; ] </span> </a> </li> <li class=md-nav__item> <a href=#media_mark_processed class=md-nav__link> <span class=md-ellipsis> MEDIA_MARK_PROCESSED </span> </a> </li> <li class=md-nav__item> <a href=#queue_drained class=md-nav__link> <span class=md-ellipsis> QUEUE_DRAINED </span> </a> </li> <li class=md-nav__item> <a href=#footnotes_1 class=md-nav__link> <span class=md-ellipsis> Footnotes: </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#websocket_clientconf class=md-nav__link> <span class=md-ellipsis> websocket_client.conf </span> </a> </li> <li class=md-nav__item> <a href=#chan_websocketconf class=md-nav__link> <span class=md-ellipsis> chan_websocket.conf </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#creating-the-channel class=md-nav__link> <span class=md-ellipsis> Creating the Channel </span> </a> <nav class=md-nav aria-label="Creating the Channel"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-the-dial-dialplan-app class=md-nav__link> <span class=md-ellipsis> Using the Dial() Dialplan App </span> </a> </li> <li class=md-nav__item> <a href=#using-the-ari-channels-rest-apis class=md-nav__link> <span class=md-ellipsis> Using the ARI /channels REST APIs </span> </a> </li> <li class=md-nav__item> <a href=#using-ari-external-media-channelsexternalmedia class=md-nav__link> <span class=md-ellipsis> Using ARI External Media (/channels/externalMedia) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sample-code class=md-nav__link> <span class=md-ellipsis> Sample Code </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=websocket>WebSocket<a class=headerlink href=#websocket title="Permanent link">&para;</a></h1> <h2 id=background>Background<a class=headerlink href=#background title="Permanent link">&para;</a></h2> <p>The WebSocket Channel Driver (chan_websocket) is designed to ease the burden on ARI application developers with getting media in and out of Asterisk. The ARI /channels/externalMedia REST endpoint already has two other channel drivers available (AudioSocket and RTP) but they require binary packet manipulation (RTP especially) and both require that the app developer handle the timing of sending packets to asterisk. chan_websocket requires neither. The new driver will be available starting with Asterisk releases 23.0.0, 22.6.0, 21.11.0 and 20.16.0.</p> <h2 id=features>Features<a class=headerlink href=#features title="Permanent link">&para;</a></h2> <ul> <li>Send and receive media using most Asterisk codecs.</li> <li>TLS is supported.</li> <li>Send arbitrary packet lengths to Asterisk. The channel driver will break them up into appropriately sized frames (see notes below though).</li> <li>No need to time your own packet transmits.</li> <li>Silence is automatically generated when no packets have been received from the app.</li> <li>The channel driver can accept incoming websocket connections <em>from</em> your app as well as make outgoing connections <em>to</em> your app.</li> <li>Although the driver is targetted at ARI ExternalMedia users, it's not tied to ARI and can be used directly from the Dial dialplan app.</li> <li>The chan_websocket protocol is implemented using both binary and text WebSocket frames. BINARY frames are used for the actual media transfer and TEXT frames for control events and commands.</li> </ul> <h2 id=connection-types>Connection Types<a class=headerlink href=#connection-types title="Permanent link">&para;</a></h2> <h3 id=outgoing-connections>Outgoing Connections<a class=headerlink href=#outgoing-connections title="Permanent link">&para;</a></h3> <p>Outgoing connections require you to pre-configure a websocket client in the <code>websocket_client.conf</code> config file (see details below). Once done, you can reference the connection in a dial string.</p> <div class="language-ini highlight"><span class=filename>Dialplan Example</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>[default]</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=na>exten</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>_x.,1,Dial(WebSocket/connection1/c(ulaw))</span>
</span></code></pre></div> <p>This would connect to your application's websocket server using the client named <code>connection1</code> and using the <code>ulaw</code> codec. Right after your server accepts the connection, you'll get a websocket <code>MEDIA_START</code> event message with details that will allow you to correlate the incoming connection to the specific channel.</p> <h3 id=incoming-connections>Incoming Connections<a class=headerlink href=#incoming-connections title="Permanent link">&para;</a></h3> <p>Incoming connections must be made to the global Asterisk HTTP server using the <code>media</code> URI but you must still "Dial" the channel using the special <code>INCOMING</code> connection name.</p> <div class="language-ini highlight"><span class=filename>Dialplan Example</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>[default]</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=na>exten</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>_x.,1,Dial(WebSocket/INCOMING/c(ulaw)n)</span>
</span></code></pre></div> <p>The websocket channel will be created immediately and the <code>MEDIA_WEBSOCKET_CONNECTION_ID</code> channel variable will be set to an ephemeral connection id which must be used in the URI your application will connect to Asterisk with. For example <code>/media/32966726-4388-456b-a333-fdf5dbecc60d</code>. When Asterisk accepts the connection, you'll see the same <code>MEDIA_START</code> message as above.</p> <p>Whether inbound or outbound, the default behavior is to automatically answer the channel when the websocket has connected successfully. If for some reason you want to answer the channel yourself, you can add the <code>n</code> parameter to the dialstring and make a REST <code>channels/&lt;id&gt;/answer</code> call or send the <code>ANSWER</code> command (mentioned below) over the media websocket.</p> <h2 id=media-transfer>Media Transfer<a class=headerlink href=#media-transfer title="Permanent link">&para;</a></h2> <p>Media sent from Asterisk to your application is simply streamed in BINARY websocket frames. The message size will be whatever the internal Asterisk frame size is. For ulaw/alaw for instance, Asterisk will send a 160 byte packet every 20ms. This is the same as RTP except the messages will contain raw media with no RTP or other headers. You could stream this directly to a file or other service.</p> <p>Media sent <em>to</em> Asterisk <em>from</em> your app is a bit trickier because chances are that the media you send Asterisk will eventually need to go out to a caller in a format that is both properly framed and properly timed. I.E. 160 byte blocks every 20 ms for a/ulaw. Sending short, long or mistimed packets will surely result is poor audio quality. To relieve your app of the burden of having to do the framing and timing, the channel driver will do it automatically for most codecs but there are a few exceptions and rules you have to follow.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>There currently is no way for chan_websocket to re-frame or re-time codecs whose data streams contain packet headers or can't be broken up on arbitrary byte/sample boundaries. For this reason, codecs like opus and speex are handled in <a href=#passthrough-mode>"passthrough mode"</a> where the application is responsible for correctly framing and timing the media it sends to Asterisk.</p> </div> <p>When the websocket channel is created, a <code>MEDIA_WEBSOCKET_OPTIMAL_FRAME_SIZE</code> channel variable will be set that tells you the amount of data Asterisk needs to create a good 20ms frame using the codec you specified in the dialstring. This is also reported in the <code>MEDIA_START</code> event (See <a href=#control-commands-and-events>Control Commands and Events</a> below. If you send a websocket message with a length that's exactly that size or some even multiple of that size, the channel driver will happily break that message up into the correctly sized frames and send one frame to the Asterisk core every 20ms with no leftover data. If you send an oddly sized message though, the extra data that won't fill a frame will be dropped. However...</p> <p>If you need to send a file or a buffer received from an external source like an AI agent or a file, it's quite possible that the buffer size won't be an even multiple of the optimal size. In this case, the app can send Asterisk a <code>START_MEDIA_BUFFERING</code> command before sending the media. This tells the channel driver to buffer the data received so it can make full frames even across multiple received BINARY messages. That process will continue until the app sends Asterisk a <code>STOP_MEDIA_BUFFERING</code> command. When the channel driver receives that, it'll take whatever data is left in the buffer that couldn't make a full frame with, append silence to it to make up a full frame and send that to the core.</p> <p>So why can't Asterisk just do that process all the time and dispense with the TEXT messages? Well, let's say the app sends a message with an odd amount of data and the channel driver saves off the odd bit. What happens if you don't send any data for a while? If 20ms goes by and the channel driver doesn't get any more data what is it supposed to do with the leftover? If it appends silence to make a full frame and sends it to the core, then the app sends more data after 30ms, the caller will hear a gap in the audio. If the app does that a lot, it'll be a bad experience for the caller.</p> <h3 id=max-message-size-and-flow-control>Max Message Size and Flow Control<a class=headerlink href=#max-message-size-and-flow-control title="Permanent link">&para;</a></h3> <p>Chances are that your app will be sending data faster to Asterisk than Asterisk will be sending out to a caller so there are some rules you need to follow to prevent the channel driver from consuming excessive memory. First...</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>The maximum websocket message size the underlying websocket code can handle is 65500 bytes. Attempting to send a message greater than that length will result in the websocket being closed and the call hungup!</p> </div> <p>The maximum number of frames the channel driver will keep in its queue waiting to be sent to the core is about 1000. That's about 20 seconds of audio with a 20ms packetization rate. When the queue gets to about 900 frames, the channel driver will send a <code>MEDIA_XOFF</code> event to the app. The media the app sent just prior to receiving <code>MEDIA_XOFF</code> will be processed in its entirety even if the resulting frames cause the queue to reach 1000 but any data the app sends after that will probably be dropped. When the queue backlog drops down below about 800 frames, the channel driver will send a <code>MEDIA_XON</code> event at which time it's safe to start sending data again.</p> <h2 id=control-commands-and-events>Control Commands and Events<a class=headerlink href=#control-commands-and-events title="Permanent link">&para;</a></h2> <p>Control messages, both events sent by Asterisk to your app and commands sent by your app to Asterisk are transferred as WebSocket TEXT frames.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>You must ensure that the control messages are sent as WebSocket TEXT frames. Sending them as BINARY frames will cause them to be treated as media.</p> <p>All commands are CASE-SENSITIVE.</p> </div> <p>In the original implementation of chan_websocket, commands and events were sent in a simple ASCII text format over WebSocket TEXT frames. For example:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>MEDIA_START connection_id:e226e283-c90a-4ea9-9e37-389000b9ef47 channel:WebSocket/connectionid format:ulaw optimal_frame_size:160
</span></code></pre></div> <p>However, as additional capabilities were added to the driver this proved quite limiting. Therefore with Asterisk versions 20.18.0, 22.8.0 and 23.2.0, JSON is the preferred format. The plain text format remains the default but is deprecated and will be removed in the future. However, some of the new features won't be available with plain text. You can select which format to use globally in the new chan_websocket.conf file or on a call-by-call basis using the new <a href=#control-format><code>f(&lt;format&gt;)</code></a> dialstring parameter.</p> <ul> <li> <p>Plain text format: All command and events are sent as a simple string on a single line with any parameters appended.</p> <div class="language-text highlight"><span class=filename>Example plain-text STOP_MEDIA_BUFFERING command</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>STOP_MEDIA_BUFFERING 61ea9311-d501-46e5-8825-017b342b39f2
</span></code></pre></div> <div class="language-text highlight"><span class=filename>Example plain-text MEDIA_START event</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>MEDIA_START connection_id:e226e283-c90a-4ea9-9e37-389000b9ef47 channel:WebSocket/connectionid channel_id:pbx1-123456789.999 format:ulaw optimal_frame_size:160 ptime:20
</span></code></pre></div> </li> <li> <p>JSON format: Commands and events are sent as JSON objects.</p> <div class="language-json highlight"><span class=filename>Example STOP_MEDIA_BUFFERING command</span><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=p>{</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=nt>&quot;command&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;STOP_MEDIA_BUFFERING&quot;</span><span class=p>,</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=nt>&quot;correlation_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;61ea9311-d501-46e5-8825-017b342b39f2&quot;</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=p>}</span>
</span></code></pre></div> <p><div class="language-json highlight"><span class=filename>Example MEDIA_START event</span><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=p>{</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>    </span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MEDIA_START&quot;</span><span class=p>,</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=nt>&quot;connection_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;e226e283-c90a-4ea9-9e37-389000b9ef47&quot;</span><span class=p>,</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>    </span><span class=nt>&quot;channel&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;WebSocket/connectionid&quot;</span><span class=p>,</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>    </span><span class=nt>&quot;channel_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;pbx1-123456789.999&quot;</span><span class=p>,</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>    </span><span class=nt>&quot;format&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ulaw&quot;</span><span class=p>,</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>    </span><span class=nt>&quot;optimal_frame_size&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>160</span><span class=p>,</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>    </span><span class=nt>&quot;ptime&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=p>,</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=w>    </span><span class=nt>&quot;channel_variables&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>        </span><span class=nt>&quot;SOME_CHANNEL_VARIABLE&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;some value&quot;</span><span class=p>,</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>        </span><span class=nt>&quot;ANOTHER_CHANNEL_VARIABLE&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;some other value&quot;</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=p>}</span>
</span></code></pre></div> Unlike the plain text format, the JSON object can be pretty-printed across multiple lines however there must be only a single command object in each WebSocket TEXT frame. Also note that the "channel_variables" only appear in the JSON formatted message because they can't be accurately handled in plain-text.</p> </li> </ul> <h3 id=commands>Commands<a class=headerlink href=#commands title="Permanent link">&para;</a></h3> <h4 id=answer><code>ANSWER</code><a class=headerlink href=#answer title="Permanent link">&para;</a></h4> <p>This will cause the WebSocket channel to be answered.</p> <p>Parameters: None</p> <h4 id=hangup><code>HANGUP</code><a class=headerlink href=#hangup title="Permanent link">&para;</a></h4> <p>This will cause the WebSocket channel to be hung up and the websocket to be closed.</p> <p>Parameters: None</p> <h4 id=start_media_buffering1><code>START_MEDIA_BUFFERING</code><a href=#fn1><sup>1</sup></a><a class=headerlink href=#start_media_buffering1 title="Permanent link">&para;</a></h4> <p>Indicates to the channel driver that the following media should be buffered to create properly sized and timed frames.</p> <p>Parameters: None</p> <h4 id=stop_media_buffering-correlation_id1><code>STOP_MEDIA_BUFFERING &lt;correlation_id&gt;</code><a href=#fn1><sup>1</sup></a><a class=headerlink href=#stop_media_buffering-correlation_id1 title="Permanent link">&para;</a></h4> <p>Indicates to the channel driver that buffering is no longer needed and anything remaining in the buffer should have silence appended before sending to the Asterisk core. When the last frame of this bulk transfer has been sent to the core, the app will receive a <code>MEDIA_BUFFERING_COMPLETED</code> notification. If the optional correlation id was specified in this command, it'll be returned in the notification. If you send multiple files in quick succession, the id can help you correlate the <code>MEDIA_BUFFERING_COMPLETED</code> notification to the <code>STOP_MEDIA_BUFFERING</code> command that triggered it.</p> <p>Parameters:</p> <ul> <li>correlation_id: An optional id that will be returned in a <code>MEDIA_BUFFERING_COMPLETED</code> event.</li> </ul> <h4 id=flush_media1><code>FLUSH_MEDIA</code><a href=#fn1><sup>1</sup></a><a class=headerlink href=#flush_media1 title="Permanent link">&para;</a></h4> <p>Send this command to the channel driver if you've sent a large amount of media but want to discard any queued but not sent. Flushing the buffer automatically ends any bulk transfer in progress and also resets the paused state so there's no need to send <code>STOP_MEDIA_BUFFERING</code> or <code>CONTINUE_MEDIA</code> commands. No <code>MEDIA_BUFFERING_COMPLETED</code> notification will be sent in this case but you could send a <code>REPORT_QUEUE_DRAINED</code> command (see below) before sending the <code>MEDIA_FLUSH</code> to get a confirmation that the queue was indeed flushed. This command could be useful if an automated agent detects the caller is speaking and wants to interrupt a prompt it already replied with.</p> <p>Parameters: None</p> <h4 id=pause_media1><code>PAUSE_MEDIA</code><a href=#fn1><sup>1</sup></a><a class=headerlink href=#pause_media1 title="Permanent link">&para;</a></h4> <p>If you've sent a large amount of media but need to pause it playing to a caller while you decide if you need to flush it or not, you can send a <code>PAUSE_MEDIA</code> command. The channel driver will then start playing silence to the caller but keep the data you've already sent in the queue. You can still send media to the channel driver while it's paused; it'll just get queued behind whatever was already in the queue.</p> <p>Parameters: None</p> <h4 id=continue_media1><code>CONTINUE_MEDIA</code><a href=#fn1><sup>1</sup></a><a class=headerlink href=#continue_media1 title="Permanent link">&para;</a></h4> <p>If you've previously paused the media, this will cause the channel driver to stop playing silence and resume playing media from the queue from the point you paused it.</p> <p>Parameters: None</p> <h4 id=mark_media1><code>MARK_MEDIA</code><a href=#fn1><sup>1</sup></a><a class=headerlink href=#mark_media1 title="Permanent link">&para;</a></h4> <p>This will cause the channel driver to place a "mark" in the media stream you send to Asterisk. When that mark reaches the front of the frame queue, you'll receive a <code>MEDIA_MARK_PROCESSED</code> event back. This can help you determine when media you've sent is actually going to be heard by the connected party.</p> <ul> <li>correlation_id: An optional id that will be returned in the <code>MEDIA_MARK_PROCESSED</code> event.</li> </ul> <h4 id=get_status><code>GET_STATUS</code><a class=headerlink href=#get_status title="Permanent link">&para;</a></h4> <p>This will cause the channel driver to send back a <code>STATUS</code> message (described below).</p> <p>Parameters: None</p> <h4 id=report_queue_drained><code>REPORT_QUEUE_DRAINED</code><a class=headerlink href=#report_queue_drained title="Permanent link">&para;</a></h4> <p>This will cause the channel driver to send back a one-time <code>QUEUE_DRAINED</code> notification the next time it detects that there are no more frames to process in the queue. Not applicable in passthrough mode.</p> <p>Parameters: None</p> <h4 id=footnotes>Footnotes:<a class=headerlink href=#footnotes title="Permanent link">&para;</a></h4> <ul> <li><a href id=fn1></a>1: Not applicable in <a href=#passthrough-mode>passthrough mode</a>.</li> </ul> <h3 id=events>Events<a class=headerlink href=#events title="Permanent link">&para;</a></h3> <h4 id=media_start><code>MEDIA_START</code><a class=headerlink href=#media_start title="Permanent link">&para;</a></h4> <p>The channel driver will send this event when it connects to the app or the app connects to it.</p> <p>Parameters:</p> <ul> <li>connection_id: A UUID that will be set on the <code>MEDIA_WEBSOCKET_CONNECTION_ID</code> channel variable.</li> <li>channel: The channel name.</li> <li>channel_id: The channel's unique id.</li> <li>format: The format set on the channel.</li> <li>optimal_frame_size: Sending media to Asterisk of this size, or a multiple of this size, ensures the channel driver can properly retime and reframe the media for the best caller experience.</li> <li>ptime: The packetization rate in milliseconds.</li> <li>channel_variables<a href=#fn2><sup>2</sup></a>: An object containing the variables currently set on the channel.</li> </ul> <h4 id=dtmf_end><code>DTMF_END</code><a class=headerlink href=#dtmf_end title="Permanent link">&para;</a></h4> <p>The channel driver will send this event when DTMF_END frames are received from the core.</p> <p>Parameters:</p> <ul> <li>channel_id: The channel unique id.</li> <li>digit: The DTMF digit pressed.</li> </ul> <h4 id=media_xoff><code>MEDIA_XOFF</code><a class=headerlink href=#media_xoff title="Permanent link">&para;</a></h4> <p>The channel driver will send this event to the app when the frame queue length reaches the high water (XOFF) level. The app should then pause sending media. Any media sent after this has a high probability of being dropped.</p> <p>Parameters:</p> <ul> <li>channel_id<a href=#fn2><sup>2</sup></a>: The channel unique id.</li> </ul> <h4 id=media_xon><code>MEDIA_XON</code><a class=headerlink href=#media_xon title="Permanent link">&para;</a></h4> <p>The channel driver will send this event when the frame queue length drops below the low water (XON) level. This indicates that it's safe for the app to start sending media again.</p> <p>Parameters:</p> <ul> <li>channel_id<a href=#fn2><sup>2</sup></a>: The channel unique id.</li> </ul> <h4 id=status><code>STATUS</code><a class=headerlink href=#status title="Permanent link">&para;</a></h4> <p>The channel driver will send this event in response to a <code>GET_STATUS</code> command.</p> <p>Parameters:</p> <ul> <li>channel_id: The channel unique id.</li> <li>queue_length: The current number of frames waiting to be sent to the Asterisk core.</li> <li>xon_level: When the number of queued frames drops below this number, a <code>MEDIA_XON</code> event will be sent and new frames sent to Asterisk will no longer be dropped.</li> <li>xoff_level: When the number of queued frames rises above this number, a <code>MEDIA_XOFF</code> event will be sent and any further frames sent to Asterisk will be dropped.</li> <li>queue_full: This will be set to <code>true</code> if the xoff_level has been reached and Asterisk is dropping frames.</li> <li>bulk_media: A bulk media transfer is in progress.</li> <li>media_paused: The media has been paused with a PAUSE_MEDIA command.</li> </ul> <h4 id=media_buffering_completed-optional_id><code>MEDIA_BUFFERING_COMPLETED [ &lt;optional_id&gt; ]</code><a class=headerlink href=#media_buffering_completed-optional_id title="Permanent link">&para;</a></h4> <p>The channel driver will send this event when bulk media has finished being framed, timed and sent to the Asterisk core.</p> <p>Parameters:</p> <ul> <li>channel_id: The channel unique id.</li> <li>correlation_id: The correlation_id provides in the <code>STOP_MEDIA_BUFFERING</code> command, if any.</li> </ul> <h4 id=media_mark_processed><code>MEDIA_MARK_PROCESSED</code><a class=headerlink href=#media_mark_processed title="Permanent link">&para;</a></h4> <p>Indicates that a previous mark queued with the <code>MARK_MEDIA</code> command has reached the front of the frame queue.</p> <p>Parameters:</p> <ul> <li>channel_id<a href=#fn2><sup>2</sup></a>: The channel unique id.</li> <li>correlation_id: The correlation_id provides in the <code>MARK_MEDIA</code> command, if any.</li> </ul> <h4 id=queue_drained><code>QUEUE_DRAINED</code><a class=headerlink href=#queue_drained title="Permanent link">&para;</a></h4> <p>The channel driver will send this when it's processed the last frame in the queue and you've asked to be notified with a <code>REPORT_QUEUE_DRAINED</code> command. If no media is received within the next 20ms, a silence frame will be sent to the core. This is a one-time notification. You must send additional <code>REPORT_QUEUE_DRAINED</code> commands to get more notifications.</p> <p>Parameters:</p> <ul> <li>channel_id<a href=#fn2><sup>2</sup></a>: The channel unique id.</li> </ul> <h4 id=footnotes_1>Footnotes:<a class=headerlink href=#footnotes_1 title="Permanent link">&para;</a></h4> <ul> <li><a href id=fn2></a>2: Only available with the JSON control message format.</li> </ul> <h2 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">&para;</a></h2> <h3 id=websocket_clientconf>websocket_client.conf<a class=headerlink href=#websocket_clientconf title="Permanent link">&para;</a></h3> <p>All outbound connection configuration is done in the common <a href=/Latest_API/API_Documentation/Module_Configuration/res_websocket_client>websocket_client.conf</a> file shared with ARI Outbound WebSockets. That file has detailed information for configuring websocket client connections. There are a few additional things to know though...</p> <ul> <li> <p>You only need to configure a connection for outgoing websocket connections. Incoming connections (those with the special <code>INCOMING</code> connection id in the dial string) are handled by the internal http/websocket servers.</p> </li> <li> <p>chan_websocket can only use <code>per_call_config</code> connection types. <code>persistent</code> websocket connections aren't supported for media.</p> </li> <li> <p>Never try to use the same websocket connection for both ARI and Media. "Bad things will happen"</p> </li> </ul> <h3 id=chan_websocketconf>chan_websocket.conf<a class=headerlink href=#chan_websocketconf title="Permanent link">&para;</a></h3> <p>Currently, <a href=/Latest_API/API_Documentation/Module_Configuration/chan_websocket>chan_websocket.conf</a> is only used to set the global control message format (plain-text or json). Other parameters may be added here in the future.</p> <h2 id=creating-the-channel>Creating the Channel<a class=headerlink href=#creating-the-channel title="Permanent link">&para;</a></h2> <h3 id=using-the-dial-dialplan-app>Using the <a href=/Latest_API/API_Documentation/Dialplan_Applications/Dial/ >Dial() Dialplan App</a><a class=headerlink href=#using-the-dial-dialplan-app title="Permanent link">&para;</a></h3> <p>The full dial string is as follows:</p> <div class="language-text highlight"><span class=filename>Dialstring Syntax</span><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>Dial(WebSocket/&lt;connection_id&gt;/&lt;dialstring_options&gt;[,&lt;timeout&gt;[,&lt;dial_options&gt;]])
</span></code></pre></div> <ul> <li><strong>WebSocket</strong>: The channel technology.</li> <li><strong>&lt;connection_id&gt;</strong>: For outgoing connections, this is the name of the pre-defined client connection from websocket_client.conf. For incoming connections, this must be the special <code>INCOMING</code> id.</li> <li> <p><strong>&lt;dialstring_options&gt;</strong>:</p> <ul> <li><code>c(&lt;codec&gt;)</code>: If not specified, the first codec from the caller's channel will be used. Having said that, if your app is expecting a specific codec, you should specify it here or you may be getting audio in a format you don't expect.</li> <li><code>n</code>: Don't auto-answer the WebSocket channel upon successful connection. Set this if you wish to answer the channel yourself. You can then send an <code>ANSWER</code> TEXT message on the websocket when you're ready to answer the channel or make a <code>/channels/&lt;channel_id&gt;/answer</code> REST call.</li> <li><code>f(&lt;format&gt;)</code>: <a href id=control-format></a> Per-call control message format override.<ul> <li>plain-text - All control messages and events for this call must be in the legacy plain text format.</li> <li>json - All control messages and events for this call must be in the new JSON format.</li> </ul> </li> <li><code>p</code>: <a href id=passthrough-mode></a> Passthrough mode - In passthrough mode, the channel driver won't attempt to re-frame or re-time media coming in over the websocket from the remote app. This can be used for any codec but MUST be used for codecs that use packet headers or whose data stream can't be broken up on arbitrary byte/sample boundaries. In this case, the remote app is fully responsible for correctly framing and timing media sent to Asterisk and the MEDIA text commands that could be sent over the websocket are disabled. Currently, passthrough mode is automatically set for the opus, speex and g729 codecs.</li> <li><code>v(&lt;uri_parameters&gt;)</code>: Add parameters to the outbound URI. This option allows you to add additional parameters to the outbound URI. The format is: 'v(param1=value1,param2=value2...)'. You must ensure that no parameter name or value contains characters not valid in a URL. The easiest way to do this is to use the URIENCODE() dialplan function to encode them. Be aware though that each name and value must be encoded separately. You can't simply encode the whole string.</li> </ul> </li> <li> <p><strong>&lt;timeout&gt;</strong>: The normal Dial app timeout.</p> </li> <li><strong>&lt;dial_options&gt;</strong>: The normal Dial app options.</li> </ul> <p>Examples:</p> <div class="language-text highlight"><span class=filename>Dial() Examples</span><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>; Make an outbound connection using the alaw codec but don&#39;t auto-answer the channel
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>; when the remote application connects.  Also use the &quot;json&quot; control message format.
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>Dial(WebSocket/connection1/c(alaw)nf(json))
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>; Make an outbound connection using the opus codec adding the &quot;chan&quot; and &quot;exten&quot;
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>; parameters to the URI.  Passthrough mode is automatically set for the opus codec.
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>Dial(WebSocket/connection1/c(opus)v(chan=${URIENCODE(${CHANNEL})},exten=$(URIENCODE(${EXTEN})}))
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>; Wait for an incoming websocket connection from a remote application and pass media
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>; using the slin16 codec.
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>Dial(WebSocket/INCOMING/c(slin16))
</span></code></pre></div> <h3 id=using-the-ari-channels-rest-apis>Using the <a href=/Latest_API/API_Documentation/Asterisk_REST_Interface/Channels_REST_API/ >ARI <code>/channels</code></a> REST APIs<a class=headerlink href=#using-the-ari-channels-rest-apis title="Permanent link">&para;</a></h3> <p>You can also create a WebSocket channel using the normal channel API calls and setting the <code>endpoint</code> parameter to the same dial string syntax described in the previous section.</p> <p>Examples:</p> <div class="language-text highlight"><span class=filename>ARI /channel Examples</span><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>POST http://server:8088/ari/channels?endpoint=&quot;WebSocket/connection1/c(alaw)v(myurivar=myvalue)&quot;
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>POST http://server:8088/ari/channels/create?endpoint=&quot;WebSocket/INCOMING/c(ulaw)n&quot;
</span></code></pre></div> <p>The first example will create and dial the channel then connect to your app using the "media_connection1" websocket_client configuration. The channel will auto answer when the websocket connection is established. The second example will create the channel but not dial or auto-answer it. Instead the channel driver will wait for your app to connect to it. You can then dial and answer it yourself when appropriate. You can still omit the <code>n</code> to have incoming connections auto-answered.</p> <h3 id=using-ari-external-media-channelsexternalmedia>Using <a href=/Development/Reference-Information/Asterisk-Framework-and-API-Examples/External-Media-and-ARI>ARI External Media</a> (<code>/channels/externalMedia</code>)<a class=headerlink href=#using-ari-external-media-channelsexternalmedia title="Permanent link">&para;</a></h3> <p>You can also create a channel using external media with a transport of <code>websocket</code> and an encapsulation of <code>none</code>.</p> <p>A new <code>transport_data</code> parameter has been added to externalMedia in Asterisk versions 20.18.0, 22.8.0 and 23.2.0 which allows the caller to add dialstring options.</p> <p>Example:</p> <div class="language-text highlight"><span class=filename>ARI External Media Examples</span><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>POST http://server:8088/ari/channels/externalMedia?transport=websocket&amp;encapsulation=none&amp;external_host=media_connection1&amp;format=ulaw&amp;transport_data=f(json)v(myurivar=myvalue)
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>POST http://server:8088/ari/channels/externalMedia?transport=websocket&amp;encapsulation=none&amp;external_host=INCOMING&amp;connection_type=server&amp;format=ulaw
</span></code></pre></div> <p>The first example will create an outbound websocket connection to your app using the "media_connection1" websocket_client configuration with the "json" control message format and "myurivar=myvalue" URI parameters. The second example will wait for an incoming connection from your app. Both examples will automatically dial and answer the websocket channel. The <code>transport_data</code> parameter can be used to set dialstring_options like the control message format or the <code>n</code> don't answer flag. Use the normal channel creation APIs if you need even more control.</p> <h2 id=sample-code>Sample Code<a class=headerlink href=#sample-code title="Permanent link">&para;</a></h2> <p>Sample Python code demonstrating Asterisk's ARI and Media WebSocket capabilities is available in the GitHub <a href=https://github.com/asterisk/asterisk-websocket-examples>asterisk-websocket-examples</a> repository.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Content is licensed under a Creative Commons Attribution-ShareAlike 3.0 United States License. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.asterisk.org/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg version=1.1 id=svg2 width=48 height=48 viewbox="0 0 48 48" sodipodi:docname=favicon.svg inkscape:version="1.2.2 (b0a8486541, 2022-12-01)" xmlns:inkscape=http://www.inkscape.org/namespaces/inkscape xmlns:sodipodi=http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd xmlns:xlink=http://www.w3.org/1999/xlink xmlns=http://www.w3.org/2000/svg xmlns:svg=http://www.w3.org/2000/svg> <defs id=defs6 /> <sodipodi:namedview id=namedview4 pagecolor=#ffffff bordercolor=#666666 borderopacity=1.0 inkscape:showpageshadow=2 inkscape:pageopacity=0.0 inkscape:pagecheckerboard=0 inkscape:deskcolor=#d1d1d1 showgrid=false inkscape:zoom=17.291667 inkscape:cx=24 inkscape:cy=24.028916 inkscape:current-layer=g8 /> <g inkscape:groupmode=layer inkscape:label=Image id=g8> <image width=48 height=48 preserveaspectratio=none id=image10 xlink:href="data:image/png;base64,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
"/> </g> </svg> </a> <a href=https://www.asterisk.org/blog/ target=_blank rel=noopener title=www.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="m61.7 169.4 101.5 278C92.2 413 43.3 340.2 43.3 256c0-30.9 6.6-60.1 18.4-86.6m337.9 75.9c0-26.3-9.4-44.5-17.5-58.7-10.8-17.5-20.9-32.4-20.9-49.9 0-19.6 14.8-37.8 35.7-37.8.9 0 1.8.1 2.8.2-37.9-34.7-88.3-55.9-143.7-55.9-74.3 0-139.7 38.1-177.8 95.9 5 .2 9.7.3 13.7.3 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l77.5 230.4L249.8 247l-33.1-90.8c-11.5-.7-22.3-2-22.3-2-11.5-.7-10.1-18.2 1.3-17.5 0 0 35.1 2.7 56 2.7 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l76.9 228.7 21.2-70.9c9-29.4 16-50.5 16-68.7m-139.9 29.3-63.8 185.5c19.1 5.6 39.2 8.7 60.1 8.7 24.8 0 48.5-4.3 70.6-12.1-.6-.9-1.1-1.9-1.5-2.9zm183-120.7c.9 6.8 1.4 14 1.4 21.9 0 21.6-4 45.8-16.2 76.2l-65 187.9C426.2 403 468.7 334.5 468.7 256c0-37-9.4-71.8-26-102.1M8 256a248 248 0 1 1 496 0 248 248 0 1 1-496 0m484.6 0a236.6 236.6 0 1 0-473.2 0 236.6 236.6 0 1 0 473.2 0"/></svg> </a> <a href=https://twitter.com/asteriskdev target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> <a href=https://github.com/asterisk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://community.asterisk.org target=_blank rel=noopener title=community.asterisk.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.prune", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "toc.follow"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.92b07e13.min.js></script> </body> </html>